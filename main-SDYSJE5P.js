var kk=Object.create;var Tm=Object.defineProperty,Nk=Object.defineProperties,Ok=Object.getOwnPropertyDescriptor,Rk=Object.getOwnPropertyDescriptors,Pk=Object.getOwnPropertyNames,rw=Object.getOwnPropertySymbols,Fk=Object.getPrototypeOf,ow=Object.prototype.hasOwnProperty,Lk=Object.prototype.propertyIsEnumerable;var iw=(t,e,n)=>e in t?Tm(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Z=(t,e)=>{for(var n in e||={})ow.call(e,n)&&iw(t,n,e[n]);if(rw)for(var n of rw(e))Lk.call(e,n)&&iw(t,n,e[n]);return t},Pe=(t,e)=>Nk(t,Rk(e));var Vk=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Bk=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Pk(e))!ow.call(t,i)&&i!==n&&Tm(t,i,{get:()=>e[i],enumerable:!(r=Ok(e,i))||r.enumerable});return t};var jk=(t,e,n)=>(n=t!=null?kk(Fk(t)):{},Bk(e||!t||!t.__esModule?Tm(n,"default",{value:t,enumerable:!0}):n,t));var QT=Vk((bb,wb)=>{"use strict";(function(t,e){typeof bb=="object"&&typeof wb<"u"?wb.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self,t.Dexie=e())})(bb,function(){"use strict";var t=function(c,u){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var g in h)Object.prototype.hasOwnProperty.call(h,g)&&(p[g]=h[g])},t(c,u)};function e(c,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");t(c,u);function p(){this.constructor=c}c.prototype=u===null?Object.create(u):(p.prototype=u.prototype,new p)}var n=function(){return n=Object.assign||function(u){for(var p,h=1,g=arguments.length;h<g;h++){p=arguments[h];for(var C in p)Object.prototype.hasOwnProperty.call(p,C)&&(u[C]=p[C])}return u},n.apply(this,arguments)};function r(c,u,p){if(p||arguments.length===2)for(var h=0,g=u.length,C;h<g;h++)(C||!(h in u))&&(C||(C=Array.prototype.slice.call(u,0,h)),C[h]=u[h]);return c.concat(C||Array.prototype.slice.call(u))}var i=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,o=Object.keys,s=Array.isArray;typeof Promise<"u"&&!i.Promise&&(i.Promise=Promise);function a(c,u){return typeof u!="object"||o(u).forEach(function(p){c[p]=u[p]}),c}var l=Object.getPrototypeOf,d={}.hasOwnProperty;function f(c,u){return d.call(c,u)}function m(c,u){typeof u=="function"&&(u=u(l(c))),(typeof Reflect>"u"?o:Reflect.ownKeys)(u).forEach(function(p){v(c,p,u[p])})}var y=Object.defineProperty;function v(c,u,p,h){y(c,u,a(p&&f(p,"get")&&typeof p.get=="function"?{get:p.get,set:p.set,configurable:!0}:{value:p,configurable:!0,writable:!0},h))}function b(c){return{from:function(u){return c.prototype=Object.create(u.prototype),v(c.prototype,"constructor",c),{extend:m.bind(null,c.prototype)}}}}var I=Object.getOwnPropertyDescriptor;function k(c,u){var p=I(c,u),h;return p||(h=l(c))&&k(h,u)}var H=[].slice;function ie(c,u,p){return H.call(c,u,p)}function me(c,u){return u(c)}function oe(c){if(!c)throw new Error("Assertion Failed")}function Se(c){i.setImmediate?setImmediate(c):setTimeout(c,0)}function ue(c,u){return c.reduce(function(p,h,g){var C=u(h,g);return C&&(p[C[0]]=C[1]),p},{})}function Me(c,u){if(typeof u=="string"&&f(c,u))return c[u];if(!u)return c;if(typeof u!="string"){for(var p=[],h=0,g=u.length;h<g;++h){var C=Me(c,u[h]);p.push(C)}return p}var w=u.indexOf(".");if(w!==-1){var _=c[u.substr(0,w)];return _==null?void 0:Me(_,u.substr(w+1))}}function Re(c,u,p){if(!(!c||u===void 0)&&!("isFrozen"in Object&&Object.isFrozen(c)))if(typeof u!="string"&&"length"in u){oe(typeof p!="string"&&"length"in p);for(var h=0,g=u.length;h<g;++h)Re(c,u[h],p[h])}else{var C=u.indexOf(".");if(C!==-1){var w=u.substr(0,C),_=u.substr(C+1);if(_==="")p===void 0?s(c)&&!isNaN(parseInt(w))?c.splice(w,1):delete c[w]:c[w]=p;else{var D=c[w];(!D||!f(c,w))&&(D=c[w]={}),Re(D,_,p)}}else p===void 0?s(c)&&!isNaN(parseInt(u))?c.splice(u,1):delete c[u]:c[u]=p}}function fe(c,u){typeof u=="string"?Re(c,u,void 0):"length"in u&&[].map.call(u,function(p){Re(c,p,void 0)})}function Ge(c){var u={};for(var p in c)f(c,p)&&(u[p]=c[p]);return u}var ut=[].concat;function $t(c){return ut.apply([],c)}var Pt="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat($t([8,16,32,64].map(function(c){return["Int","Uint","Float"].map(function(u){return u+c+"Array"})}))).filter(function(c){return i[c]}),pr=new Set(Pt.map(function(c){return i[c]}));function hr(c){var u={};for(var p in c)if(f(c,p)){var h=c[p];u[p]=!h||typeof h!="object"||pr.has(h.constructor)?h:hr(h)}return u}function Xt(c){for(var u in c)if(f(c,u))return!1;return!0}var Ft=null;function Cn(c){Ft=new WeakMap;var u=$n(c);return Ft=null,u}function $n(c){if(!c||typeof c!="object")return c;var u=Ft.get(c);if(u)return u;if(s(c)){u=[],Ft.set(c,u);for(var p=0,h=c.length;p<h;++p)u.push($n(c[p]))}else if(pr.has(c.constructor))u=c;else{var g=l(c);u=g===Object.prototype?{}:Object.create(g),Ft.set(c,u);for(var C in c)f(c,C)&&(u[C]=$n(c[C]))}return u}var Ks={}.toString;function ko(c){return Ks.call(c).slice(8,-1)}var Wr=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Zs=typeof Wr=="symbol"?function(c){var u;return c!=null&&(u=c[Wr])&&u.apply(c)}:function(){return null};function fn(c,u){var p=c.indexOf(u);return p>=0&&c.splice(p,1),p>=0}var en={};function tn(c){var u,p,h,g;if(arguments.length===1){if(s(c))return c.slice();if(this===en&&typeof c=="string")return[c];if(g=Zs(c)){for(p=[];h=g.next(),!h.done;)p.push(h.value);return p}if(c==null)return[c];if(u=c.length,typeof u=="number"){for(p=new Array(u);u--;)p[u]=c[u];return p}return[c]}for(u=arguments.length,p=new Array(u);u--;)p[u]=arguments[u];return p}var Ei=typeof Symbol<"u"?function(c){return c[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Gr=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],Ys=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Vl=Gr.concat(Ys),Bl={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function xi(c,u){this.name=c,this.message=u}b(xi).from(Error).extend({toString:function(){return this.name+": "+this.message}});function jl(c,u){return c+". Errors: "+Object.keys(u).map(function(p){return u[p].toString()}).filter(function(p,h,g){return g.indexOf(p)===h}).join(`
`)}function Js(c,u,p,h){this.failures=u,this.failedKeys=h,this.successCount=p,this.message=jl(c,u)}b(Js).from(xi);function Ii(c,u){this.name="BulkError",this.failures=Object.keys(u).map(function(p){return u[p]}),this.failuresByPos=u,this.message=jl(c,this.failures)}b(Ii).from(xi);var Qs=Vl.reduce(function(c,u){return c[u]=u+"Error",c},{}),Ou=xi,pe=Vl.reduce(function(c,u){var p=u+"Error";function h(g,C){this.name=p,g?typeof g=="string"?(this.message="".concat(g).concat(C?`
 `+C:""),this.inner=C||null):typeof g=="object"&&(this.message="".concat(g.name," ").concat(g.message),this.inner=g):(this.message=Bl[u]||p,this.inner=null)}return b(h).from(Ou),c[u]=h,c},{});pe.Syntax=SyntaxError,pe.Type=TypeError,pe.Range=RangeError;var Ru=Ys.reduce(function(c,u){return c[u+"Error"]=pe[u],c},{});function qr(c,u){if(!c||c instanceof xi||c instanceof TypeError||c instanceof SyntaxError||!c.name||!Ru[c.name])return c;var p=new Ru[c.name](u||c.message,c);return"stack"in c&&v(p,"stack",{get:function(){return this.inner.stack}}),p}var Kr=Vl.reduce(function(c,u){return["Syntax","Type","Range"].indexOf(u)===-1&&(c[u+"Error"]=pe[u]),c},{});Kr.ModifyError=Js,Kr.DexieError=xi,Kr.BulkError=Ii;function Ze(){}function Mi(c){return c}function Hl(c,u){return c==null||c===Mi?u:function(p){return u(c(p))}}function mr(c,u){return function(){c.apply(this,arguments),u.apply(this,arguments)}}function Pu(c,u){return c===Ze?u:function(){var p=c.apply(this,arguments);p!==void 0&&(arguments[0]=p);var h=this.onsuccess,g=this.onerror;this.onsuccess=null,this.onerror=null;var C=u.apply(this,arguments);return h&&(this.onsuccess=this.onsuccess?mr(h,this.onsuccess):h),g&&(this.onerror=this.onerror?mr(g,this.onerror):g),C!==void 0?C:p}}function Fu(c,u){return c===Ze?u:function(){c.apply(this,arguments);var p=this.onsuccess,h=this.onerror;this.onsuccess=this.onerror=null,u.apply(this,arguments),p&&(this.onsuccess=this.onsuccess?mr(p,this.onsuccess):p),h&&(this.onerror=this.onerror?mr(h,this.onerror):h)}}function Lu(c,u){return c===Ze?u:function(p){var h=c.apply(this,arguments);a(p,h);var g=this.onsuccess,C=this.onerror;this.onsuccess=null,this.onerror=null;var w=u.apply(this,arguments);return g&&(this.onsuccess=this.onsuccess?mr(g,this.onsuccess):g),C&&(this.onerror=this.onerror?mr(C,this.onerror):C),h===void 0?w===void 0?void 0:w:a(h,w)}}function fA(c,u){return c===Ze?u:function(){return u.apply(this,arguments)===!1?!1:c.apply(this,arguments)}}function Uh(c,u){return c===Ze?u:function(){var p=c.apply(this,arguments);if(p&&typeof p.then=="function"){for(var h=this,g=arguments.length,C=new Array(g);g--;)C[g]=arguments[g];return p.then(function(){return u.apply(h,C)})}return u.apply(this,arguments)}}var gr=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function _b(c,u){gr=c}var zl={},Db=100,$h=typeof Promise>"u"?[]:function(){var c=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[c,l(c),c];var u=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[u,l(u),c]}(),Sb=$h[0],Eb=$h[1],pA=$h[2],hA=Eb&&Eb.then,Ul=Sb&&Sb.constructor,Wh=!!pA;function mA(){queueMicrotask(yA)}var $l=function(c,u){Wl.push([c,u]),Vu&&(mA(),Vu=!1)},Gh=!0,Vu=!0,No=[],Bu=[],qh=Mi,Ti={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ze,pgp:!1,env:{},finalize:Ze},se=Ti,Wl=[],Oo=0,ju=[];function Q(c){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var u=this._PSD=se;if(typeof c!="function"){if(c!==zl)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&Zh(this,this._value);return}this._state=null,this._value=null,++u.ref,Ib(this,c)}var Kh={get:function(){var c=se,u=$u;function p(h,g){var C=this,w=!c.global&&(c!==se||u!==$u),_=w&&!ki(),D=new Q(function(x,N){Yh(C,new xb(Ab(h,c,w,_),Ab(g,c,w,_),x,N,c))});return this._consoleTask&&(D._consoleTask=this._consoleTask),D}return p.prototype=zl,p},set:function(c){v(this,"then",c&&c.prototype===zl?Kh:{get:function(){return c},set:Kh.set})}};m(Q.prototype,{then:Kh,_then:function(c,u){Yh(this,new xb(null,null,c,u,se))},catch:function(c){if(arguments.length===1)return this.then(null,c);var u=arguments[0],p=arguments[1];return typeof u=="function"?this.then(null,function(h){return h instanceof u?p(h):Hu(h)}):this.then(null,function(h){return h&&h.name===u?p(h):Hu(h)})},finally:function(c){return this.then(function(u){return Q.resolve(c()).then(function(){return u})},function(u){return Q.resolve(c()).then(function(){return Hu(u)})})},timeout:function(c,u){var p=this;return c<1/0?new Q(function(h,g){var C=setTimeout(function(){return g(new pe.Timeout(u))},c);p.then(h,g).finally(clearTimeout.bind(null,C))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&v(Q.prototype,Symbol.toStringTag,"Dexie.Promise"),Ti.env=Tb();function xb(c,u,p,h,g){this.onFulfilled=typeof c=="function"?c:null,this.onRejected=typeof u=="function"?u:null,this.resolve=p,this.reject=h,this.psd=g}m(Q,{all:function(){var c=tn.apply(null,arguments).map(Wu);return new Q(function(u,p){c.length===0&&u([]);var h=c.length;c.forEach(function(g,C){return Q.resolve(g).then(function(w){c[C]=w,--h||u(c)},p)})})},resolve:function(c){if(c instanceof Q)return c;if(c&&typeof c.then=="function")return new Q(function(p,h){c.then(p,h)});var u=new Q(zl,!0,c);return u},reject:Hu,race:function(){var c=tn.apply(null,arguments).map(Wu);return new Q(function(u,p){c.map(function(h){return Q.resolve(h).then(u,p)})})},PSD:{get:function(){return se},set:function(c){return se=c}},totalEchoes:{get:function(){return $u}},newPSD:Ai,usePSD:Ro,scheduler:{get:function(){return $l},set:function(c){$l=c}},rejectionMapper:{get:function(){return qh},set:function(c){qh=c}},follow:function(c,u){return new Q(function(p,h){return Ai(function(g,C){var w=se;w.unhandleds=[],w.onunhandled=C,w.finalize=mr(function(){var _=this;vA(function(){_.unhandleds.length===0?g():C(_.unhandleds[0])})},w.finalize),c()},u,p,h)})}}),Ul&&(Ul.allSettled&&v(Q,"allSettled",function(){var c=tn.apply(null,arguments).map(Wu);return new Q(function(u){c.length===0&&u([]);var p=c.length,h=new Array(p);c.forEach(function(g,C){return Q.resolve(g).then(function(w){return h[C]={status:"fulfilled",value:w}},function(w){return h[C]={status:"rejected",reason:w}}).then(function(){return--p||u(h)})})})}),Ul.any&&typeof AggregateError<"u"&&v(Q,"any",function(){var c=tn.apply(null,arguments).map(Wu);return new Q(function(u,p){c.length===0&&p(new AggregateError([]));var h=c.length,g=new Array(h);c.forEach(function(C,w){return Q.resolve(C).then(function(_){return u(_)},function(_){g[w]=_,--h||p(new AggregateError(g))})})})}));function Ib(c,u){try{u(function(p){if(c._state===null){if(p===c)throw new TypeError("A promise cannot be resolved with itself.");var h=c._lib&&Xs();p&&typeof p.then=="function"?Ib(c,function(g,C){p instanceof Q?p._then(g,C):p.then(g,C)}):(c._state=!0,c._value=p,Mb(c)),h&&ea()}},Zh.bind(null,c))}catch(p){Zh(c,p)}}function Zh(c,u){if(Bu.push(u),c._state===null){var p=c._lib&&Xs();u=qh(u),c._state=!1,c._value=u,CA(c),Mb(c),p&&ea()}}function Mb(c){var u=c._listeners;c._listeners=[];for(var p=0,h=u.length;p<h;++p)Yh(c,u[p]);var g=c._PSD;--g.ref||g.finalize(),Oo===0&&(++Oo,$l(function(){--Oo===0&&Jh()},[]))}function Yh(c,u){if(c._state===null){c._listeners.push(u);return}var p=c._state?u.onFulfilled:u.onRejected;if(p===null)return(c._state?u.resolve:u.reject)(c._value);++u.psd.ref,++Oo,$l(gA,[p,c,u])}function gA(c,u,p){try{var h,g=u._value;!u._state&&Bu.length&&(Bu=[]),h=gr&&u._consoleTask?u._consoleTask.run(function(){return c(g)}):c(g),!u._state&&Bu.indexOf(g)===-1&&bA(u),p.resolve(h)}catch(C){p.reject(C)}finally{--Oo===0&&Jh(),--p.psd.ref||p.psd.finalize()}}function yA(){Ro(Ti,function(){Xs()&&ea()})}function Xs(){var c=Gh;return Gh=!1,Vu=!1,c}function ea(){var c,u,p;do for(;Wl.length>0;)for(c=Wl,Wl=[],p=c.length,u=0;u<p;++u){var h=c[u];h[0].apply(null,h[1])}while(Wl.length>0);Gh=!0,Vu=!0}function Jh(){var c=No;No=[],c.forEach(function(h){h._PSD.onunhandled.call(null,h._value,h)});for(var u=ju.slice(0),p=u.length;p;)u[--p]()}function vA(c){function u(){c(),ju.splice(ju.indexOf(u),1)}ju.push(u),++Oo,$l(function(){--Oo===0&&Jh()},[])}function CA(c){No.some(function(u){return u._value===c._value})||No.push(c)}function bA(c){for(var u=No.length;u;)if(No[--u]._value===c._value){No.splice(u,1);return}}function Hu(c){return new Q(zl,!1,c)}function lt(c,u){var p=se;return function(){var h=Xs(),g=se;try{return Ni(p,!0),c.apply(this,arguments)}catch(C){u&&u(C)}finally{Ni(g,!1),h&&ea()}}}var It={awaits:0,echoes:0,id:0},wA=0,zu=[],Uu=0,$u=0,_A=0;function Ai(c,u,p,h){var g=se,C=Object.create(g);C.parent=g,C.ref=0,C.global=!1,C.id=++_A,Ti.env,C.env=Wh?{Promise:Q,PromiseProp:{value:Q,configurable:!0,writable:!0},all:Q.all,race:Q.race,allSettled:Q.allSettled,any:Q.any,resolve:Q.resolve,reject:Q.reject}:{},u&&a(C,u),++g.ref,C.finalize=function(){--this.parent.ref||this.parent.finalize()};var w=Ro(C,c,p,h);return C.ref===0&&C.finalize(),w}function ta(){return It.id||(It.id=++wA),++It.awaits,It.echoes+=Db,It.id}function ki(){return It.awaits?(--It.awaits===0&&(It.id=0),It.echoes=It.awaits*Db,!0):!1}(""+hA).indexOf("[native code]")===-1&&(ta=ki=Ze);function Wu(c){return It.echoes&&c&&c.constructor===Ul?(ta(),c.then(function(u){return ki(),u},function(u){return ki(),pt(u)})):c}function DA(c){++$u,(!It.echoes||--It.echoes===0)&&(It.echoes=It.awaits=It.id=0),zu.push(se),Ni(c,!0)}function SA(){var c=zu[zu.length-1];zu.pop(),Ni(c,!1)}function Ni(c,u){var p=se;if((u?It.echoes&&(!Uu++||c!==se):Uu&&(!--Uu||c!==se))&&queueMicrotask(u?DA.bind(null,c):SA),c!==se&&(se=c,p===Ti&&(Ti.env=Tb()),Wh)){var h=Ti.env.Promise,g=c.env;(p.global||c.global)&&(Object.defineProperty(i,"Promise",g.PromiseProp),h.all=g.all,h.race=g.race,h.resolve=g.resolve,h.reject=g.reject,g.allSettled&&(h.allSettled=g.allSettled),g.any&&(h.any=g.any))}}function Tb(){var c=i.Promise;return Wh?{Promise:c,PromiseProp:Object.getOwnPropertyDescriptor(i,"Promise"),all:c.all,race:c.race,allSettled:c.allSettled,any:c.any,resolve:c.resolve,reject:c.reject}:{}}function Ro(c,u,p,h,g){var C=se;try{return Ni(c,!0),u(p,h,g)}finally{Ni(C,!1)}}function Ab(c,u,p,h){return typeof c!="function"?c:function(){var g=se;p&&ta(),Ni(u,!0);try{return c.apply(this,arguments)}finally{Ni(g,!1),h&&queueMicrotask(ki)}}}function Qh(c){Promise===Ul&&It.echoes===0?Uu===0?c():enqueueNativeMicroTask(c):setTimeout(c,0)}var pt=Q.reject;function Xh(c,u,p,h){if(!c.idbdb||!c._state.openComplete&&!se.letThrough&&!c._vip){if(c._state.openComplete)return pt(new pe.DatabaseClosed(c._state.dbOpenError));if(!c._state.isBeingOpened){if(!c._state.autoOpen)return pt(new pe.DatabaseClosed);c.open().catch(Ze)}return c._state.dbReadyPromise.then(function(){return Xh(c,u,p,h)})}else{var g=c._createTransaction(u,p,c._dbSchema);try{g.create(),c._state.PR1398_maxLoop=3}catch(C){return C.name===Qs.InvalidState&&c.isOpen()&&--c._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),c.close({disableAutoOpen:!1}),c.open().then(function(){return Xh(c,u,p,h)})):pt(C)}return g._promise(u,function(C,w){return Ai(function(){return se.trans=g,h(C,w,g)})}).then(function(C){if(u==="readwrite")try{g.idbtrans.commit()}catch{}return u==="readonly"?C:g._completion.then(function(){return C})})}}var kb="4.0.7",Po="\uFFFF",em=-1/0,Zr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Nb="String expected.",na=[],Gu="__dbnames",tm="readonly",nm="readwrite";function Fo(c,u){return c?u?function(){return c.apply(this,arguments)&&u.apply(this,arguments)}:c:u}var Ob={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function qu(c){return typeof c=="string"&&!/\./.test(c)?function(u){return u[c]===void 0&&c in u&&(u=Cn(u),delete u[c]),u}:function(u){return u}}function Rb(){throw pe.Type()}function Ye(c,u){try{var p=Pb(c),h=Pb(u);if(p!==h)return p==="Array"?1:h==="Array"?-1:p==="binary"?1:h==="binary"?-1:p==="string"?1:h==="string"?-1:p==="Date"?1:h!=="Date"?NaN:-1;switch(p){case"number":case"Date":case"string":return c>u?1:c<u?-1:0;case"binary":return xA(Fb(c),Fb(u));case"Array":return EA(c,u)}}catch{}return NaN}function EA(c,u){for(var p=c.length,h=u.length,g=p<h?p:h,C=0;C<g;++C){var w=Ye(c[C],u[C]);if(w!==0)return w}return p===h?0:p<h?-1:1}function xA(c,u){for(var p=c.length,h=u.length,g=p<h?p:h,C=0;C<g;++C)if(c[C]!==u[C])return c[C]<u[C]?-1:1;return p===h?0:p<h?-1:1}function Pb(c){var u=typeof c;if(u!=="object")return u;if(ArrayBuffer.isView(c))return"binary";var p=ko(c);return p==="ArrayBuffer"?"binary":p}function Fb(c){return c instanceof Uint8Array?c:ArrayBuffer.isView(c)?new Uint8Array(c.buffer,c.byteOffset,c.byteLength):new Uint8Array(c)}var Lb=function(){function c(){}return c.prototype._trans=function(u,p,h){var g=this._tx||se.trans,C=this.name,w=gr&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(u==="readonly"?"read":"write"," ").concat(this.name));function _(N,M,P){if(!P.schema[C])throw new pe.NotFound("Table "+C+" not part of transaction");return p(P.idbtrans,P)}var D=Xs();try{var x=g&&g.db._novip===this.db._novip?g===se.trans?g._promise(u,_,h):Ai(function(){return g._promise(u,_,h)},{trans:g,transless:se.transless||se}):Xh(this.db,u,[this.name],_);return w&&(x._consoleTask=w,x=x.catch(function(N){return console.trace(N),pt(N)})),x}finally{D&&ea()}},c.prototype.get=function(u,p){var h=this;return u&&u.constructor===Object?this.where(u).first(p):u==null?pt(new pe.Type("Invalid argument to Table.get()")):this._trans("readonly",function(g){return h.core.get({trans:g,key:u}).then(function(C){return h.hook.reading.fire(C)})}).then(p)},c.prototype.where=function(u){if(typeof u=="string")return new this.db.WhereClause(this,u);if(s(u))return new this.db.WhereClause(this,"[".concat(u.join("+"),"]"));var p=o(u);if(p.length===1)return this.where(p[0]).equals(u[p[0]]);var h=this.schema.indexes.concat(this.schema.primKey).filter(function(M){if(M.compound&&p.every(function(G){return M.keyPath.indexOf(G)>=0})){for(var P=0;P<p.length;++P)if(p.indexOf(M.keyPath[P])===-1)return!1;return!0}return!1}).sort(function(M,P){return M.keyPath.length-P.keyPath.length})[0];if(h&&this.db._maxKey!==Po){var g=h.keyPath.slice(0,p.length);return this.where(g).equals(g.map(function(M){return u[M]}))}!h&&gr&&console.warn("The query ".concat(JSON.stringify(u)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(p.join("+"),"]"));var C=this.schema.idxByName,w=this.db._deps.indexedDB;function _(M,P){return w.cmp(M,P)===0}var D=p.reduce(function(M,P){var G=M[0],T=M[1],O=C[P],F=u[P];return[G||O,G||!O?Fo(T,O&&O.multi?function(L){var B=Me(L,P);return s(B)&&B.some(function(z){return _(F,z)})}:function(L){return _(F,Me(L,P))}):T]},[null,null]),x=D[0],N=D[1];return x?this.where(x.name).equals(u[x.keyPath]).filter(N):h?this.filter(N):this.where(p).equals("")},c.prototype.filter=function(u){return this.toCollection().and(u)},c.prototype.count=function(u){return this.toCollection().count(u)},c.prototype.offset=function(u){return this.toCollection().offset(u)},c.prototype.limit=function(u){return this.toCollection().limit(u)},c.prototype.each=function(u){return this.toCollection().each(u)},c.prototype.toArray=function(u){return this.toCollection().toArray(u)},c.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},c.prototype.orderBy=function(u){return new this.db.Collection(new this.db.WhereClause(this,s(u)?"[".concat(u.join("+"),"]"):u))},c.prototype.reverse=function(){return this.toCollection().reverse()},c.prototype.mapToClass=function(u){var p=this,h=p.db,g=p.name;this.schema.mappedClass=u,u.prototype instanceof Rb&&(u=function(D){e(x,D);function x(){return D!==null&&D.apply(this,arguments)||this}return Object.defineProperty(x.prototype,"db",{get:function(){return h},enumerable:!1,configurable:!0}),x.prototype.table=function(){return g},x}(u));for(var C=new Set,w=u.prototype;w;w=l(w))Object.getOwnPropertyNames(w).forEach(function(D){return C.add(D)});var _=function(D){if(!D)return D;var x=Object.create(u.prototype);for(var N in D)if(!C.has(N))try{x[N]=D[N]}catch{}return x};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=_,this.hook("reading",_),u},c.prototype.defineClass=function(){function u(p){a(this,p)}return this.mapToClass(u)},c.prototype.add=function(u,p){var h=this,g=this.schema.primKey,C=g.auto,w=g.keyPath,_=u;return w&&C&&(_=qu(w)(u)),this._trans("readwrite",function(D){return h.core.mutate({trans:D,type:"add",keys:p!=null?[p]:null,values:[_]})}).then(function(D){return D.numFailures?Q.reject(D.failures[0]):D.lastResult}).then(function(D){if(w)try{Re(u,w,D)}catch{}return D})},c.prototype.update=function(u,p){if(typeof u=="object"&&!s(u)){var h=Me(u,this.schema.primKey.keyPath);return h===void 0?pt(new pe.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(h).modify(p)}else return this.where(":id").equals(u).modify(p)},c.prototype.put=function(u,p){var h=this,g=this.schema.primKey,C=g.auto,w=g.keyPath,_=u;return w&&C&&(_=qu(w)(u)),this._trans("readwrite",function(D){return h.core.mutate({trans:D,type:"put",values:[_],keys:p!=null?[p]:null})}).then(function(D){return D.numFailures?Q.reject(D.failures[0]):D.lastResult}).then(function(D){if(w)try{Re(u,w,D)}catch{}return D})},c.prototype.delete=function(u){var p=this;return this._trans("readwrite",function(h){return p.core.mutate({trans:h,type:"delete",keys:[u]})}).then(function(h){return h.numFailures?Q.reject(h.failures[0]):void 0})},c.prototype.clear=function(){var u=this;return this._trans("readwrite",function(p){return u.core.mutate({trans:p,type:"deleteRange",range:Ob})}).then(function(p){return p.numFailures?Q.reject(p.failures[0]):void 0})},c.prototype.bulkGet=function(u){var p=this;return this._trans("readonly",function(h){return p.core.getMany({keys:u,trans:h}).then(function(g){return g.map(function(C){return p.hook.reading.fire(C)})})})},c.prototype.bulkAdd=function(u,p,h){var g=this,C=Array.isArray(p)?p:void 0;h=h||(C?void 0:p);var w=h?h.allKeys:void 0;return this._trans("readwrite",function(_){var D=g.schema.primKey,x=D.auto,N=D.keyPath;if(N&&C)throw new pe.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(C&&C.length!==u.length)throw new pe.InvalidArgument("Arguments objects and keys must have the same length");var M=u.length,P=N&&x?u.map(qu(N)):u;return g.core.mutate({trans:_,type:"add",keys:C,values:P,wantResults:w}).then(function(G){var T=G.numFailures,O=G.results,F=G.lastResult,L=G.failures,B=w?O:F;if(T===0)return B;throw new Ii("".concat(g.name,".bulkAdd(): ").concat(T," of ").concat(M," operations failed"),L)})})},c.prototype.bulkPut=function(u,p,h){var g=this,C=Array.isArray(p)?p:void 0;h=h||(C?void 0:p);var w=h?h.allKeys:void 0;return this._trans("readwrite",function(_){var D=g.schema.primKey,x=D.auto,N=D.keyPath;if(N&&C)throw new pe.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(C&&C.length!==u.length)throw new pe.InvalidArgument("Arguments objects and keys must have the same length");var M=u.length,P=N&&x?u.map(qu(N)):u;return g.core.mutate({trans:_,type:"put",keys:C,values:P,wantResults:w}).then(function(G){var T=G.numFailures,O=G.results,F=G.lastResult,L=G.failures,B=w?O:F;if(T===0)return B;throw new Ii("".concat(g.name,".bulkPut(): ").concat(T," of ").concat(M," operations failed"),L)})})},c.prototype.bulkUpdate=function(u){var p=this,h=this.core,g=u.map(function(_){return _.key}),C=u.map(function(_){return _.changes}),w=[];return this._trans("readwrite",function(_){return h.getMany({trans:_,keys:g,cache:"clone"}).then(function(D){var x=[],N=[];u.forEach(function(P,G){var T=P.key,O=P.changes,F=D[G];if(F){for(var L=0,B=Object.keys(O);L<B.length;L++){var z=B[L],W=O[z];if(z===p.schema.primKey.keyPath){if(Ye(W,T)!==0)throw new pe.Constraint("Cannot update primary key in bulkUpdate()")}else Re(F,z,W)}w.push(G),x.push(T),N.push(F)}});var M=x.length;return h.mutate({trans:_,type:"put",keys:x,values:N,updates:{keys:g,changeSpecs:C}}).then(function(P){var G=P.numFailures,T=P.failures;if(G===0)return M;for(var O=0,F=Object.keys(T);O<F.length;O++){var L=F[O],B=w[Number(L)];if(B!=null){var z=T[L];delete T[L],T[B]=z}}throw new Ii("".concat(p.name,".bulkUpdate(): ").concat(G," of ").concat(M," operations failed"),T)})})})},c.prototype.bulkDelete=function(u){var p=this,h=u.length;return this._trans("readwrite",function(g){return p.core.mutate({trans:g,type:"delete",keys:u})}).then(function(g){var C=g.numFailures,w=g.lastResult,_=g.failures;if(C===0)return w;throw new Ii("".concat(p.name,".bulkDelete(): ").concat(C," of ").concat(h," operations failed"),_)})},c}();function Gl(c){var u={},p=function(_,D){if(D){for(var x=arguments.length,N=new Array(x-1);--x;)N[x-1]=arguments[x];return u[_].subscribe.apply(null,N),c}else if(typeof _=="string")return u[_]};p.addEventType=C;for(var h=1,g=arguments.length;h<g;++h)C(arguments[h]);return p;function C(_,D,x){if(typeof _=="object")return w(_);D||(D=fA),x||(x=Ze);var N={subscribers:[],fire:x,subscribe:function(M){N.subscribers.indexOf(M)===-1&&(N.subscribers.push(M),N.fire=D(N.fire,M))},unsubscribe:function(M){N.subscribers=N.subscribers.filter(function(P){return P!==M}),N.fire=N.subscribers.reduce(D,x)}};return u[_]=p[_]=N,N}function w(_){o(_).forEach(function(D){var x=_[D];if(s(x))C(D,_[D][0],_[D][1]);else if(x==="asap")var N=C(D,Mi,function(){for(var P=arguments.length,G=new Array(P);P--;)G[P]=arguments[P];N.subscribers.forEach(function(T){Se(function(){T.apply(null,G)})})});else throw new pe.InvalidArgument("Invalid event config")})}}function ql(c,u){return b(u).from({prototype:c}),u}function IA(c){return ql(Lb.prototype,function(p,h,g){this.db=c,this._tx=g,this.name=p,this.schema=h,this.hook=c._allTables[p]?c._allTables[p].hook:Gl(null,{creating:[Pu,Ze],reading:[Hl,Mi],updating:[Lu,Ze],deleting:[Fu,Ze]})})}function ra(c,u){return!(c.filter||c.algorithm||c.or)&&(u?c.justLimit:!c.replayFilter)}function rm(c,u){c.filter=Fo(c.filter,u)}function im(c,u,p){var h=c.replayFilter;c.replayFilter=h?function(){return Fo(h(),u())}:u,c.justLimit=p&&!h}function MA(c,u){c.isMatch=Fo(c.isMatch,u)}function Ku(c,u){if(c.isPrimKey)return u.primaryKey;var p=u.getIndexByKeyPath(c.index);if(!p)throw new pe.Schema("KeyPath "+c.index+" on object store "+u.name+" is not indexed");return p}function Vb(c,u,p){var h=Ku(c,u.schema);return u.openCursor({trans:p,values:!c.keysOnly,reverse:c.dir==="prev",unique:!!c.unique,query:{index:h,range:c.range}})}function Zu(c,u,p,h){var g=c.replayFilter?Fo(c.filter,c.replayFilter()):c.filter;if(c.or){var C={},w=function(_,D,x){if(!g||g(D,x,function(P){return D.stop(P)},function(P){return D.fail(P)})){var N=D.primaryKey,M=""+N;M==="[object ArrayBuffer]"&&(M=""+new Uint8Array(N)),f(C,M)||(C[M]=!0,u(_,D,x))}};return Promise.all([c.or._iterate(w,p),Bb(Vb(c,h,p),c.algorithm,w,!c.keysOnly&&c.valueMapper)])}else return Bb(Vb(c,h,p),Fo(c.algorithm,g),u,!c.keysOnly&&c.valueMapper)}function Bb(c,u,p,h){var g=h?function(w,_,D){return p(h(w),_,D)}:p,C=lt(g);return c.then(function(w){if(w)return w.start(function(){var _=function(){return w.continue()};(!u||u(w,function(D){return _=D},function(D){w.stop(D),_=Ze},function(D){w.fail(D),_=Ze}))&&C(w.value,w,function(D){return _=D}),_()})})}var TA=Symbol(),Kl=function(){function c(u){Object.assign(this,u)}return c.prototype.execute=function(u){var p;if(this.add!==void 0){var h=this.add;if(s(h))return r(r([],s(u)?u:[],!0),h,!0).sort();if(typeof h=="number")return(Number(u)||0)+h;if(typeof h=="bigint")try{return BigInt(u)+h}catch{return BigInt(0)+h}throw new TypeError("Invalid term ".concat(h))}if(this.remove!==void 0){var g=this.remove;if(s(g))return s(u)?u.filter(function(w){return!g.includes(w)}).sort():[];if(typeof g=="number")return Number(u)-g;if(typeof g=="bigint")try{return BigInt(u)-g}catch{return BigInt(0)-g}throw new TypeError("Invalid subtrahend ".concat(g))}var C=(p=this.replacePrefix)===null||p===void 0?void 0:p[0];return C&&typeof u=="string"&&u.startsWith(C)?this.replacePrefix[1]+u.substring(C.length):u},c}(),AA=function(){function c(){}return c.prototype._read=function(u,p){var h=this._ctx;return h.error?h.table._trans(null,pt.bind(null,h.error)):h.table._trans("readonly",u).then(p)},c.prototype._write=function(u){var p=this._ctx;return p.error?p.table._trans(null,pt.bind(null,p.error)):p.table._trans("readwrite",u,"locked")},c.prototype._addAlgorithm=function(u){var p=this._ctx;p.algorithm=Fo(p.algorithm,u)},c.prototype._iterate=function(u,p){return Zu(this._ctx,u,p,this._ctx.table.core)},c.prototype.clone=function(u){var p=Object.create(this.constructor.prototype),h=Object.create(this._ctx);return u&&a(h,u),p._ctx=h,p},c.prototype.raw=function(){return this._ctx.valueMapper=null,this},c.prototype.each=function(u){var p=this._ctx;return this._read(function(h){return Zu(p,u,h,p.table.core)})},c.prototype.count=function(u){var p=this;return this._read(function(h){var g=p._ctx,C=g.table.core;if(ra(g,!0))return C.count({trans:h,query:{index:Ku(g,C.schema),range:g.range}}).then(function(_){return Math.min(_,g.limit)});var w=0;return Zu(g,function(){return++w,!1},h,C).then(function(){return w})}).then(u)},c.prototype.sortBy=function(u,p){var h=u.split(".").reverse(),g=h[0],C=h.length-1;function w(x,N){return N?w(x[h[N]],N-1):x[g]}var _=this._ctx.dir==="next"?1:-1;function D(x,N){var M=w(x,C),P=w(N,C);return M<P?-_:M>P?_:0}return this.toArray(function(x){return x.sort(D)}).then(p)},c.prototype.toArray=function(u){var p=this;return this._read(function(h){var g=p._ctx;if(g.dir==="next"&&ra(g,!0)&&g.limit>0){var C=g.valueMapper,w=Ku(g,g.table.core.schema);return g.table.core.query({trans:h,limit:g.limit,values:!0,query:{index:w,range:g.range}}).then(function(D){var x=D.result;return C?x.map(C):x})}else{var _=[];return Zu(g,function(D){return _.push(D)},h,g.table.core).then(function(){return _})}},u)},c.prototype.offset=function(u){var p=this._ctx;return u<=0?this:(p.offset+=u,ra(p)?im(p,function(){var h=u;return function(g,C){return h===0?!0:h===1?(--h,!1):(C(function(){g.advance(h),h=0}),!1)}}):im(p,function(){var h=u;return function(){return--h<0}}),this)},c.prototype.limit=function(u){return this._ctx.limit=Math.min(this._ctx.limit,u),im(this._ctx,function(){var p=u;return function(h,g,C){return--p<=0&&g(C),p>=0}},!0),this},c.prototype.until=function(u,p){return rm(this._ctx,function(h,g,C){return u(h.value)?(g(C),p):!0}),this},c.prototype.first=function(u){return this.limit(1).toArray(function(p){return p[0]}).then(u)},c.prototype.last=function(u){return this.reverse().first(u)},c.prototype.filter=function(u){return rm(this._ctx,function(p){return u(p.value)}),MA(this._ctx,u),this},c.prototype.and=function(u){return this.filter(u)},c.prototype.or=function(u){return new this.db.WhereClause(this._ctx.table,u,this)},c.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},c.prototype.desc=function(){return this.reverse()},c.prototype.eachKey=function(u){var p=this._ctx;return p.keysOnly=!p.isMatch,this.each(function(h,g){u(g.key,g)})},c.prototype.eachUniqueKey=function(u){return this._ctx.unique="unique",this.eachKey(u)},c.prototype.eachPrimaryKey=function(u){var p=this._ctx;return p.keysOnly=!p.isMatch,this.each(function(h,g){u(g.primaryKey,g)})},c.prototype.keys=function(u){var p=this._ctx;p.keysOnly=!p.isMatch;var h=[];return this.each(function(g,C){h.push(C.key)}).then(function(){return h}).then(u)},c.prototype.primaryKeys=function(u){var p=this._ctx;if(p.dir==="next"&&ra(p,!0)&&p.limit>0)return this._read(function(g){var C=Ku(p,p.table.core.schema);return p.table.core.query({trans:g,values:!1,limit:p.limit,query:{index:C,range:p.range}})}).then(function(g){var C=g.result;return C}).then(u);p.keysOnly=!p.isMatch;var h=[];return this.each(function(g,C){h.push(C.primaryKey)}).then(function(){return h}).then(u)},c.prototype.uniqueKeys=function(u){return this._ctx.unique="unique",this.keys(u)},c.prototype.firstKey=function(u){return this.limit(1).keys(function(p){return p[0]}).then(u)},c.prototype.lastKey=function(u){return this.reverse().firstKey(u)},c.prototype.distinct=function(){var u=this._ctx,p=u.index&&u.table.schema.idxByName[u.index];if(!p||!p.multi)return this;var h={};return rm(this._ctx,function(g){var C=g.primaryKey.toString(),w=f(h,C);return h[C]=!0,!w}),this},c.prototype.modify=function(u){var p=this,h=this._ctx;return this._write(function(g){var C;if(typeof u=="function")C=u;else{var w=o(u),_=w.length;C=function(L){for(var B=!1,z=0;z<_;++z){var W=w[z],R=u[W],q=Me(L,W);R instanceof Kl?(Re(L,W,R.execute(q)),B=!0):q!==R&&(Re(L,W,R),B=!0)}return B}}var D=h.table.core,x=D.schema.primaryKey,N=x.outbound,M=x.extractKey,P=p.db._options.modifyChunkSize||200,G=[],T=0,O=[],F=function(L,B){var z=B.failures,W=B.numFailures;T+=L-W;for(var R=0,q=o(z);R<q.length;R++){var te=q[R];G.push(z[te])}};return p.clone().primaryKeys().then(function(L){var B=ra(h)&&h.limit===1/0&&(typeof u!="function"||u===om)&&{index:h.index,range:h.range},z=function(W){var R=Math.min(P,L.length-W);return D.getMany({trans:g,keys:L.slice(W,W+R),cache:"immutable"}).then(function(q){for(var te=[],ne=[],be=N?[]:null,Te=[],ge=0;ge<R;++ge){var je=q[ge],we={value:Cn(je),primKey:L[W+ge]};C.call(we,we.value,we)!==!1&&(we.value==null?Te.push(L[W+ge]):!N&&Ye(M(je),M(we.value))!==0?(Te.push(L[W+ge]),te.push(we.value)):(ne.push(we.value),N&&be.push(L[W+ge])))}return Promise.resolve(te.length>0&&D.mutate({trans:g,type:"add",values:te}).then(function(rt){for(var ye in rt.failures)Te.splice(parseInt(ye),1);F(te.length,rt)})).then(function(){return(ne.length>0||B&&typeof u=="object")&&D.mutate({trans:g,type:"put",keys:be,values:ne,criteria:B,changeSpec:typeof u!="function"&&u,isAdditionalChunk:W>0}).then(function(rt){return F(ne.length,rt)})}).then(function(){return(Te.length>0||B&&u===om)&&D.mutate({trans:g,type:"delete",keys:Te,criteria:B,isAdditionalChunk:W>0}).then(function(rt){return F(Te.length,rt)})}).then(function(){return L.length>W+R&&z(W+P)})})};return z(0).then(function(){if(G.length>0)throw new Js("Error modifying one or more objects",G,T,O);return L.length})})})},c.prototype.delete=function(){var u=this._ctx,p=u.range;return ra(u)&&(u.isPrimKey||p.type===3)?this._write(function(h){var g=u.table.core.schema.primaryKey,C=p;return u.table.core.count({trans:h,query:{index:g,range:C}}).then(function(w){return u.table.core.mutate({trans:h,type:"deleteRange",range:C}).then(function(_){var D=_.failures;_.lastResult,_.results;var x=_.numFailures;if(x)throw new Js("Could not delete some values",Object.keys(D).map(function(N){return D[N]}),w-x);return w-x})})}):this.modify(om)},c}(),om=function(c,u){return u.value=null};function kA(c){return ql(AA.prototype,function(p,h){this.db=c;var g=Ob,C=null;if(h)try{g=h()}catch(x){C=x}var w=p._ctx,_=w.table,D=_.hook.reading.fire;this._ctx={table:_,index:w.index,isPrimKey:!w.index||_.schema.primKey.keyPath&&w.index===_.schema.primKey.name,range:g,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:C,or:w.or,valueMapper:D!==Mi?D:null}})}function NA(c,u){return c<u?-1:c===u?0:1}function OA(c,u){return c>u?-1:c===u?0:1}function bn(c,u,p){var h=c instanceof Hb?new c.Collection(c):c;return h._ctx.error=p?new p(u):new TypeError(u),h}function ia(c){return new c.Collection(c,function(){return jb("")}).limit(0)}function RA(c){return c==="next"?function(u){return u.toUpperCase()}:function(u){return u.toLowerCase()}}function PA(c){return c==="next"?function(u){return u.toLowerCase()}:function(u){return u.toUpperCase()}}function FA(c,u,p,h,g,C){for(var w=Math.min(c.length,h.length),_=-1,D=0;D<w;++D){var x=u[D];if(x!==h[D])return g(c[D],p[D])<0?c.substr(0,D)+p[D]+p.substr(D+1):g(c[D],h[D])<0?c.substr(0,D)+h[D]+p.substr(D+1):_>=0?c.substr(0,_)+u[_]+p.substr(_+1):null;g(c[D],x)<0&&(_=D)}return w<h.length&&C==="next"?c+p.substr(c.length):w<c.length&&C==="prev"?c.substr(0,p.length):_<0?null:c.substr(0,_)+h[_]+p.substr(_+1)}function Yu(c,u,p,h){var g,C,w,_,D,x,N,M=p.length;if(!p.every(function(O){return typeof O=="string"}))return bn(c,Nb);function P(O){g=RA(O),C=PA(O),w=O==="next"?NA:OA;var F=p.map(function(L){return{lower:C(L),upper:g(L)}}).sort(function(L,B){return w(L.lower,B.lower)});_=F.map(function(L){return L.upper}),D=F.map(function(L){return L.lower}),x=O,N=O==="next"?"":h}P("next");var G=new c.Collection(c,function(){return Oi(_[0],D[M-1]+h)});G._ondirectionchange=function(O){P(O)};var T=0;return G._addAlgorithm(function(O,F,L){var B=O.key;if(typeof B!="string")return!1;var z=C(B);if(u(z,D,T))return!0;for(var W=null,R=T;R<M;++R){var q=FA(B,z,_[R],D[R],w,x);q===null&&W===null?T=R+1:(W===null||w(W,q)>0)&&(W=q)}return F(W!==null?function(){O.continue(W+N)}:L),!1}),G}function Oi(c,u,p,h){return{type:2,lower:c,upper:u,lowerOpen:p,upperOpen:h}}function jb(c){return{type:1,lower:c,upper:c}}var Hb=function(){function c(){}return Object.defineProperty(c.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),c.prototype.between=function(u,p,h,g){h=h!==!1,g=g===!0;try{return this._cmp(u,p)>0||this._cmp(u,p)===0&&(h||g)&&!(h&&g)?ia(this):new this.Collection(this,function(){return Oi(u,p,!h,!g)})}catch{return bn(this,Zr)}},c.prototype.equals=function(u){return u==null?bn(this,Zr):new this.Collection(this,function(){return jb(u)})},c.prototype.above=function(u){return u==null?bn(this,Zr):new this.Collection(this,function(){return Oi(u,void 0,!0)})},c.prototype.aboveOrEqual=function(u){return u==null?bn(this,Zr):new this.Collection(this,function(){return Oi(u,void 0,!1)})},c.prototype.below=function(u){return u==null?bn(this,Zr):new this.Collection(this,function(){return Oi(void 0,u,!1,!0)})},c.prototype.belowOrEqual=function(u){return u==null?bn(this,Zr):new this.Collection(this,function(){return Oi(void 0,u)})},c.prototype.startsWith=function(u){return typeof u!="string"?bn(this,Nb):this.between(u,u+Po,!0,!0)},c.prototype.startsWithIgnoreCase=function(u){return u===""?this.startsWith(u):Yu(this,function(p,h){return p.indexOf(h[0])===0},[u],Po)},c.prototype.equalsIgnoreCase=function(u){return Yu(this,function(p,h){return p===h[0]},[u],"")},c.prototype.anyOfIgnoreCase=function(){var u=tn.apply(en,arguments);return u.length===0?ia(this):Yu(this,function(p,h){return h.indexOf(p)!==-1},u,"")},c.prototype.startsWithAnyOfIgnoreCase=function(){var u=tn.apply(en,arguments);return u.length===0?ia(this):Yu(this,function(p,h){return h.some(function(g){return p.indexOf(g)===0})},u,Po)},c.prototype.anyOf=function(){var u=this,p=tn.apply(en,arguments),h=this._cmp;try{p.sort(h)}catch{return bn(this,Zr)}if(p.length===0)return ia(this);var g=new this.Collection(this,function(){return Oi(p[0],p[p.length-1])});g._ondirectionchange=function(w){h=w==="next"?u._ascending:u._descending,p.sort(h)};var C=0;return g._addAlgorithm(function(w,_,D){for(var x=w.key;h(x,p[C])>0;)if(++C,C===p.length)return _(D),!1;return h(x,p[C])===0?!0:(_(function(){w.continue(p[C])}),!1)}),g},c.prototype.notEqual=function(u){return this.inAnyRange([[em,u],[u,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},c.prototype.noneOf=function(){var u=tn.apply(en,arguments);if(u.length===0)return new this.Collection(this);try{u.sort(this._ascending)}catch{return bn(this,Zr)}var p=u.reduce(function(h,g){return h?h.concat([[h[h.length-1][1],g]]):[[em,g]]},null);return p.push([u[u.length-1],this.db._maxKey]),this.inAnyRange(p,{includeLowers:!1,includeUppers:!1})},c.prototype.inAnyRange=function(u,p){var h=this,g=this._cmp,C=this._ascending,w=this._descending,_=this._min,D=this._max;if(u.length===0)return ia(this);if(!u.every(function(R){return R[0]!==void 0&&R[1]!==void 0&&C(R[0],R[1])<=0}))return bn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",pe.InvalidArgument);var x=!p||p.includeLowers!==!1,N=p&&p.includeUppers===!0;function M(R,q){for(var te=0,ne=R.length;te<ne;++te){var be=R[te];if(g(q[0],be[1])<0&&g(q[1],be[0])>0){be[0]=_(be[0],q[0]),be[1]=D(be[1],q[1]);break}}return te===ne&&R.push(q),R}var P=C;function G(R,q){return P(R[0],q[0])}var T;try{T=u.reduce(M,[]),T.sort(G)}catch{return bn(this,Zr)}var O=0,F=N?function(R){return C(R,T[O][1])>0}:function(R){return C(R,T[O][1])>=0},L=x?function(R){return w(R,T[O][0])>0}:function(R){return w(R,T[O][0])>=0};function B(R){return!F(R)&&!L(R)}var z=F,W=new this.Collection(this,function(){return Oi(T[0][0],T[T.length-1][1],!x,!N)});return W._ondirectionchange=function(R){R==="next"?(z=F,P=C):(z=L,P=w),T.sort(G)},W._addAlgorithm(function(R,q,te){for(var ne=R.key;z(ne);)if(++O,O===T.length)return q(te),!1;return B(ne)?!0:(h._cmp(ne,T[O][1])===0||h._cmp(ne,T[O][0])===0||q(function(){P===C?R.continue(T[O][0]):R.continue(T[O][1])}),!1)}),W},c.prototype.startsWithAnyOf=function(){var u=tn.apply(en,arguments);return u.every(function(p){return typeof p=="string"})?u.length===0?ia(this):this.inAnyRange(u.map(function(p){return[p,p+Po]})):bn(this,"startsWithAnyOf() only works with strings")},c}();function LA(c){return ql(Hb.prototype,function(p,h,g){if(this.db=c,this._ctx={table:p,index:h===":id"?null:h,or:g},this._cmp=this._ascending=Ye,this._descending=function(C,w){return Ye(w,C)},this._max=function(C,w){return Ye(C,w)>0?C:w},this._min=function(C,w){return Ye(C,w)<0?C:w},this._IDBKeyRange=c._deps.IDBKeyRange,!this._IDBKeyRange)throw new pe.MissingAPI})}function yr(c){return lt(function(u){return Zl(u),c(u.target.error),!1})}function Zl(c){c.stopPropagation&&c.stopPropagation(),c.preventDefault&&c.preventDefault()}var Yl="storagemutated",sm="x-storagemutated-1",Ri=Gl(null,Yl),VA=function(){function c(){}return c.prototype._lock=function(){return oe(!se.global),++this._reculock,this._reculock===1&&!se.global&&(se.lockOwnerFor=this),this},c.prototype._unlock=function(){if(oe(!se.global),--this._reculock===0)for(se.global||(se.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var u=this._blockedFuncs.shift();try{Ro(u[1],u[0])}catch{}}return this},c.prototype._locked=function(){return this._reculock&&se.lockOwnerFor!==this},c.prototype.create=function(u){var p=this;if(!this.mode)return this;var h=this.db.idbdb,g=this.db._state.dbOpenError;if(oe(!this.idbtrans),!u&&!h)switch(g&&g.name){case"DatabaseClosedError":throw new pe.DatabaseClosed(g);case"MissingAPIError":throw new pe.MissingAPI(g.message,g);default:throw new pe.OpenFailed(g)}if(!this.active)throw new pe.TransactionInactive;return oe(this._completion._state===null),u=this.idbtrans=u||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):h.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),u.onerror=lt(function(C){Zl(C),p._reject(u.error)}),u.onabort=lt(function(C){Zl(C),p.active&&p._reject(new pe.Abort(u.error)),p.active=!1,p.on("abort").fire(C)}),u.oncomplete=lt(function(){p.active=!1,p._resolve(),"mutatedParts"in u&&Ri.storagemutated.fire(u.mutatedParts)}),this},c.prototype._promise=function(u,p,h){var g=this;if(u==="readwrite"&&this.mode!=="readwrite")return pt(new pe.ReadOnly("Transaction is readonly"));if(!this.active)return pt(new pe.TransactionInactive);if(this._locked())return new Q(function(w,_){g._blockedFuncs.push([function(){g._promise(u,p,h).then(w,_)},se])});if(h)return Ai(function(){var w=new Q(function(_,D){g._lock();var x=p(_,D,g);x&&x.then&&x.then(_,D)});return w.finally(function(){return g._unlock()}),w._lib=!0,w});var C=new Q(function(w,_){var D=p(w,_,g);D&&D.then&&D.then(w,_)});return C._lib=!0,C},c.prototype._root=function(){return this.parent?this.parent._root():this},c.prototype.waitFor=function(u){var p=this._root(),h=Q.resolve(u);if(p._waitingFor)p._waitingFor=p._waitingFor.then(function(){return h});else{p._waitingFor=h,p._waitingQueue=[];var g=p.idbtrans.objectStore(p.storeNames[0]);(function w(){for(++p._spinCount;p._waitingQueue.length;)p._waitingQueue.shift()();p._waitingFor&&(g.get(-1/0).onsuccess=w)})()}var C=p._waitingFor;return new Q(function(w,_){h.then(function(D){return p._waitingQueue.push(lt(w.bind(null,D)))},function(D){return p._waitingQueue.push(lt(_.bind(null,D)))}).finally(function(){p._waitingFor===C&&(p._waitingFor=null)})})},c.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new pe.Abort))},c.prototype.table=function(u){var p=this._memoizedTables||(this._memoizedTables={});if(f(p,u))return p[u];var h=this.schema[u];if(!h)throw new pe.NotFound("Table "+u+" not part of transaction");var g=new this.db.Table(u,h,this);return g.core=this.db.core.table(u),p[u]=g,g},c}();function BA(c){return ql(VA.prototype,function(p,h,g,C,w){var _=this;this.db=c,this.mode=p,this.storeNames=h,this.schema=g,this.chromeTransactionDurability=C,this.idbtrans=null,this.on=Gl(this,"complete","error","abort"),this.parent=w||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Q(function(D,x){_._resolve=D,_._reject=x}),this._completion.then(function(){_.active=!1,_.on.complete.fire()},function(D){var x=_.active;return _.active=!1,_.on.error.fire(D),_.parent?_.parent._reject(D):x&&_.idbtrans&&_.idbtrans.abort(),pt(D)})})}function am(c,u,p,h,g,C,w){return{name:c,keyPath:u,unique:p,multi:h,auto:g,compound:C,src:(p&&!w?"&":"")+(h?"*":"")+(g?"++":"")+zb(u)}}function zb(c){return typeof c=="string"?c:c?"["+[].join.call(c,"+")+"]":""}function lm(c,u,p){return{name:c,primKey:u,indexes:p,mappedClass:null,idxByName:ue(p,function(h){return[h.name,h]})}}function jA(c){return c.length===1?c[0]:c}var Jl=function(c){try{return c.only([[]]),Jl=function(){return[[]]},[[]]}catch{return Jl=function(){return Po},Po}};function cm(c){return c==null?function(){}:typeof c=="string"?HA(c):function(u){return Me(u,c)}}function HA(c){var u=c.split(".");return u.length===1?function(p){return p[c]}:function(p){return Me(p,c)}}function Ub(c){return[].slice.call(c)}var zA=0;function Ql(c){return c==null?":id":typeof c=="string"?c:"[".concat(c.join("+"),"]")}function UA(c,u,p){function h(M,P){var G=Ub(M.objectStoreNames);return{schema:{name:M.name,tables:G.map(function(T){return P.objectStore(T)}).map(function(T){var O=T.keyPath,F=T.autoIncrement,L=s(O),B=O==null,z={},W={name:T.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:B,compound:L,keyPath:O,autoIncrement:F,unique:!0,extractKey:cm(O)},indexes:Ub(T.indexNames).map(function(R){return T.index(R)}).map(function(R){var q=R.name,te=R.unique,ne=R.multiEntry,be=R.keyPath,Te=s(be),ge={name:q,compound:Te,keyPath:be,unique:te,multiEntry:ne,extractKey:cm(be)};return z[Ql(be)]=ge,ge}),getIndexByKeyPath:function(R){return z[Ql(R)]}};return z[":id"]=W.primaryKey,O!=null&&(z[Ql(O)]=W.primaryKey),W})},hasGetAll:G.length>0&&"getAll"in P.objectStore(G[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function g(M){if(M.type===3)return null;if(M.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var P=M.lower,G=M.upper,T=M.lowerOpen,O=M.upperOpen,F=P===void 0?G===void 0?null:u.upperBound(G,!!O):G===void 0?u.lowerBound(P,!!T):u.bound(P,G,!!T,!!O);return F}function C(M){var P=M.name;function G(F){var L=F.trans,B=F.type,z=F.keys,W=F.values,R=F.range;return new Promise(function(q,te){q=lt(q);var ne=L.objectStore(P),be=ne.keyPath==null,Te=B==="put"||B==="add";if(!Te&&B!=="delete"&&B!=="deleteRange")throw new Error("Invalid operation type: "+B);var ge=(z||W||{length:1}).length;if(z&&W&&z.length!==W.length)throw new Error("Given keys array must have same length as given values array.");if(ge===0)return q({numFailures:0,failures:{},results:[],lastResult:void 0});var je,we=[],rt=[],ye=0,Mt=function(Cr){++ye,Zl(Cr)};if(B==="deleteRange"){if(R.type===4)return q({numFailures:ye,failures:rt,results:[],lastResult:void 0});R.type===3?we.push(je=ne.clear()):we.push(je=ne.delete(g(R)))}else{var Wn=Te?be?[W,z]:[W,null]:[z,null],Li=Wn[0],vr=Wn[1];if(Te)for(var kn=0;kn<ge;++kn)we.push(je=vr&&vr[kn]!==void 0?ne[B](Li[kn],vr[kn]):ne[B](Li[kn])),je.onerror=Mt;else for(var kn=0;kn<ge;++kn)we.push(je=ne[B](Li[kn])),je.onerror=Mt}var Vi=function(Cr){var tc=Cr.target.result;we.forEach(function(Gn,ld){return Gn.error!=null&&(rt[ld]=Gn.error)}),q({numFailures:ye,failures:rt,results:B==="delete"?z:we.map(function(Gn){return Gn.result}),lastResult:tc})};je.onerror=function(Cr){Mt(Cr),Vi(Cr)},je.onsuccess=Vi})}function T(F){var L=F.trans,B=F.values,z=F.query,W=F.reverse,R=F.unique;return new Promise(function(q,te){q=lt(q);var ne=z.index,be=z.range,Te=L.objectStore(P),ge=ne.isPrimaryKey?Te:Te.index(ne.name),je=W?R?"prevunique":"prev":R?"nextunique":"next",we=B||!("openKeyCursor"in ge)?ge.openCursor(g(be),je):ge.openKeyCursor(g(be),je);we.onerror=yr(te),we.onsuccess=lt(function(rt){var ye=we.result;if(!ye){q(null);return}ye.___id=++zA,ye.done=!1;var Mt=ye.continue.bind(ye),Wn=ye.continuePrimaryKey;Wn&&(Wn=Wn.bind(ye));var Li=ye.advance.bind(ye),vr=function(){throw new Error("Cursor not started")},kn=function(){throw new Error("Cursor not stopped")};ye.trans=L,ye.stop=ye.continue=ye.continuePrimaryKey=ye.advance=vr,ye.fail=lt(te),ye.next=function(){var Vi=this,Cr=1;return this.start(function(){return Cr--?Vi.continue():Vi.stop()}).then(function(){return Vi})},ye.start=function(Vi){var Cr=new Promise(function(Gn,ld){Gn=lt(Gn),we.onerror=yr(ld),ye.fail=ld,ye.stop=function(Ak){ye.stop=ye.continue=ye.continuePrimaryKey=ye.advance=kn,Gn(Ak)}}),tc=function(){if(we.result)try{Vi()}catch(Gn){ye.fail(Gn)}else ye.done=!0,ye.start=function(){throw new Error("Cursor behind last entry")},ye.stop()};return we.onsuccess=lt(function(Gn){we.onsuccess=tc,tc()}),ye.continue=Mt,ye.continuePrimaryKey=Wn,ye.advance=Li,tc(),Cr},q(ye)},te)})}function O(F){return function(L){return new Promise(function(B,z){B=lt(B);var W=L.trans,R=L.values,q=L.limit,te=L.query,ne=q===1/0?void 0:q,be=te.index,Te=te.range,ge=W.objectStore(P),je=be.isPrimaryKey?ge:ge.index(be.name),we=g(Te);if(q===0)return B({result:[]});if(F){var rt=R?je.getAll(we,ne):je.getAllKeys(we,ne);rt.onsuccess=function(Li){return B({result:Li.target.result})},rt.onerror=yr(z)}else{var ye=0,Mt=R||!("openKeyCursor"in je)?je.openCursor(we):je.openKeyCursor(we),Wn=[];Mt.onsuccess=function(Li){var vr=Mt.result;if(!vr)return B({result:Wn});if(Wn.push(R?vr.value:vr.primaryKey),++ye===q)return B({result:Wn});vr.continue()},Mt.onerror=yr(z)}})}}return{name:P,schema:M,mutate:G,getMany:function(F){var L=F.trans,B=F.keys;return new Promise(function(z,W){z=lt(z);for(var R=L.objectStore(P),q=B.length,te=new Array(q),ne=0,be=0,Te,ge=function(ye){var Mt=ye.target;(te[Mt._pos]=Mt.result)!=null,++be===ne&&z(te)},je=yr(W),we=0;we<q;++we){var rt=B[we];rt!=null&&(Te=R.get(B[we]),Te._pos=we,Te.onsuccess=ge,Te.onerror=je,++ne)}ne===0&&z(te)})},get:function(F){var L=F.trans,B=F.key;return new Promise(function(z,W){z=lt(z);var R=L.objectStore(P),q=R.get(B);q.onsuccess=function(te){return z(te.target.result)},q.onerror=yr(W)})},query:O(D),openCursor:T,count:function(F){var L=F.query,B=F.trans,z=L.index,W=L.range;return new Promise(function(R,q){var te=B.objectStore(P),ne=z.isPrimaryKey?te:te.index(z.name),be=g(W),Te=be?ne.count(be):ne.count();Te.onsuccess=lt(function(ge){return R(ge.target.result)}),Te.onerror=yr(q)})}}}var w=h(c,p),_=w.schema,D=w.hasGetAll,x=_.tables.map(function(M){return C(M)}),N={};return x.forEach(function(M){return N[M.name]=M}),{stack:"dbcore",transaction:c.transaction.bind(c),table:function(M){var P=N[M];if(!P)throw new Error("Table '".concat(M,"' not found"));return N[M]},MIN_KEY:-1/0,MAX_KEY:Jl(u),schema:_}}function $A(c,u){return u.reduce(function(p,h){var g=h.create;return n(n({},p),g(p))},c)}function WA(c,u,p,h){var g=p.IDBKeyRange;p.indexedDB;var C=$A(UA(u,g,h),c.dbcore);return{dbcore:C}}function Ju(c,u){var p=u.db,h=WA(c._middlewares,p,c._deps,u);c.core=h.dbcore,c.tables.forEach(function(g){var C=g.name;c.core.schema.tables.some(function(w){return w.name===C})&&(g.core=c.core.table(C),c[C]instanceof c.Table&&(c[C].core=g.core))})}function Qu(c,u,p,h){p.forEach(function(g){var C=h[g];u.forEach(function(w){var _=k(w,g);(!_||"value"in _&&_.value===void 0)&&(w===c.Transaction.prototype||w instanceof c.Transaction?v(w,g,{get:function(){return this.table(g)},set:function(D){y(this,g,{value:D,writable:!0,configurable:!0,enumerable:!0})}}):w[g]=new c.Table(g,C))})})}function um(c,u){u.forEach(function(p){for(var h in p)p[h]instanceof c.Table&&delete p[h]})}function GA(c,u){return c._cfg.version-u._cfg.version}function qA(c,u,p,h){var g=c._dbSchema;p.objectStoreNames.contains("$meta")&&!g.$meta&&(g.$meta=lm("$meta",Wb("")[0],[]),c._storeNames.push("$meta"));var C=c._createTransaction("readwrite",c._storeNames,g);C.create(p),C._completion.catch(h);var w=C._reject.bind(C),_=se.transless||se;Ai(function(){if(se.trans=C,se.transless=_,u===0)o(g).forEach(function(D){fm(p,D,g[D].primKey,g[D].indexes)}),Ju(c,p),Q.follow(function(){return c.on.populate.fire(C)}).catch(w);else return Ju(c,p),ZA(c,C,u).then(function(D){return YA(c,D,C,p)}).catch(w)})}function KA(c,u){$b(c._dbSchema,u),u.db.version%10===0&&!u.objectStoreNames.contains("$meta")&&u.db.createObjectStore("$meta").add(Math.ceil(u.db.version/10-1),"version");var p=ed(c,c.idbdb,u);td(c,c._dbSchema,u);for(var h=dm(p,c._dbSchema),g=function(x){if(x.change.length||x.recreate)return console.warn("Unable to patch indexes of table ".concat(x.name," because it has changes on the type of index or primary key.")),{value:void 0};var N=u.objectStore(x.name);x.add.forEach(function(M){gr&&console.debug("Dexie upgrade patch: Creating missing index ".concat(x.name,".").concat(M.src)),Xu(N,M)})},C=0,w=h.change;C<w.length;C++){var _=w[C],D=g(_);if(typeof D=="object")return D.value}}function ZA(c,u,p){return u.storeNames.includes("$meta")?u.table("$meta").get("version").then(function(h){return h??p}):Q.resolve(p)}function YA(c,u,p,h){var g=[],C=c._versions,w=c._dbSchema=ed(c,c.idbdb,h),_=C.filter(function(x){return x._cfg.version>=u});if(_.length===0)return Q.resolve();_.forEach(function(x){g.push(function(){var N=w,M=x._cfg.dbschema;td(c,N,h),td(c,M,h),w=c._dbSchema=M;var P=dm(N,M);P.add.forEach(function(B){fm(h,B[0],B[1].primKey,B[1].indexes)}),P.change.forEach(function(B){if(B.recreate)throw new pe.Upgrade("Not yet support for changing primary key");var z=h.objectStore(B.name);B.add.forEach(function(W){return Xu(z,W)}),B.change.forEach(function(W){z.deleteIndex(W.name),Xu(z,W)}),B.del.forEach(function(W){return z.deleteIndex(W)})});var G=x._cfg.contentUpgrade;if(G&&x._cfg.version>u){Ju(c,h),p._memoizedTables={};var T=Ge(M);P.del.forEach(function(B){T[B]=N[B]}),um(c,[c.Transaction.prototype]),Qu(c,[c.Transaction.prototype],o(T),T),p.schema=T;var O=Ei(G);O&&ta();var F,L=Q.follow(function(){if(F=G(p),F&&O){var B=ki.bind(null,null);F.then(B,B)}});return F&&typeof F.then=="function"?Q.resolve(F):L.then(function(){return F})}}),g.push(function(N){var M=x._cfg.dbschema;JA(M,N),um(c,[c.Transaction.prototype]),Qu(c,[c.Transaction.prototype],c._storeNames,c._dbSchema),p.schema=c._dbSchema}),g.push(function(N){c.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(c.idbdb.version/10)===x._cfg.version?(c.idbdb.deleteObjectStore("$meta"),delete c._dbSchema.$meta,c._storeNames=c._storeNames.filter(function(M){return M!=="$meta"})):N.objectStore("$meta").put(x._cfg.version,"version"))})});function D(){return g.length?Q.resolve(g.shift()(p.idbtrans)).then(D):Q.resolve()}return D().then(function(){$b(w,h)})}function dm(c,u){var p={del:[],add:[],change:[]},h;for(h in c)u[h]||p.del.push(h);for(h in u){var g=c[h],C=u[h];if(!g)p.add.push([h,C]);else{var w={name:h,def:C,recreate:!1,del:[],add:[],change:[]};if(""+(g.primKey.keyPath||"")!=""+(C.primKey.keyPath||"")||g.primKey.auto!==C.primKey.auto)w.recreate=!0,p.change.push(w);else{var _=g.idxByName,D=C.idxByName,x=void 0;for(x in _)D[x]||w.del.push(x);for(x in D){var N=_[x],M=D[x];N?N.src!==M.src&&w.change.push(M):w.add.push(M)}(w.del.length>0||w.add.length>0||w.change.length>0)&&p.change.push(w)}}}return p}function fm(c,u,p,h){var g=c.db.createObjectStore(u,p.keyPath?{keyPath:p.keyPath,autoIncrement:p.auto}:{autoIncrement:p.auto});return h.forEach(function(C){return Xu(g,C)}),g}function $b(c,u){o(c).forEach(function(p){u.db.objectStoreNames.contains(p)||(gr&&console.debug("Dexie: Creating missing table",p),fm(u,p,c[p].primKey,c[p].indexes))})}function JA(c,u){[].slice.call(u.db.objectStoreNames).forEach(function(p){return c[p]==null&&u.db.deleteObjectStore(p)})}function Xu(c,u){c.createIndex(u.name,u.keyPath,{unique:u.unique,multiEntry:u.multi})}function ed(c,u,p){var h={},g=ie(u.objectStoreNames,0);return g.forEach(function(C){for(var w=p.objectStore(C),_=w.keyPath,D=am(zb(_),_||"",!0,!1,!!w.autoIncrement,_&&typeof _!="string",!0),x=[],N=0;N<w.indexNames.length;++N){var M=w.index(w.indexNames[N]);_=M.keyPath;var P=am(M.name,_,!!M.unique,!!M.multiEntry,!1,_&&typeof _!="string",!1);x.push(P)}h[C]=lm(C,D,x)}),h}function QA(c,u,p){c.verno=u.version/10;var h=c._dbSchema=ed(c,u,p);c._storeNames=ie(u.objectStoreNames,0),Qu(c,[c._allTables],o(h),h)}function XA(c,u){var p=ed(c,c.idbdb,u),h=dm(p,c._dbSchema);return!(h.add.length||h.change.some(function(g){return g.add.length||g.change.length}))}function td(c,u,p){for(var h=p.db.objectStoreNames,g=0;g<h.length;++g){var C=h[g],w=p.objectStore(C);c._hasGetAll="getAll"in w;for(var _=0;_<w.indexNames.length;++_){var D=w.indexNames[_],x=w.index(D).keyPath,N=typeof x=="string"?x:"["+ie(x).join("+")+"]";if(u[C]){var M=u[C].idxByName[N];M&&(M.name=D,delete u[C].idxByName[N],u[C].idxByName[D]=M)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&i.WorkerGlobalScope&&i instanceof i.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(c._hasGetAll=!1)}function Wb(c){return c.split(",").map(function(u,p){u=u.trim();var h=u.replace(/([&*]|\+\+)/g,""),g=/^\[/.test(h)?h.match(/^\[(.*)\]$/)[1].split("+"):h;return am(h,g||null,/\&/.test(u),/\*/.test(u),/\+\+/.test(u),s(g),p===0)})}var ek=function(){function c(){}return c.prototype._parseStoresSpec=function(u,p){o(u).forEach(function(h){if(u[h]!==null){var g=Wb(u[h]),C=g.shift();if(C.unique=!0,C.multi)throw new pe.Schema("Primary key cannot be multi-valued");g.forEach(function(w){if(w.auto)throw new pe.Schema("Only primary key can be marked as autoIncrement (++)");if(!w.keyPath)throw new pe.Schema("Index must have a name and cannot be an empty string")}),p[h]=lm(h,C,g)}})},c.prototype.stores=function(u){var p=this.db;this._cfg.storesSource=this._cfg.storesSource?a(this._cfg.storesSource,u):u;var h=p._versions,g={},C={};return h.forEach(function(w){a(g,w._cfg.storesSource),C=w._cfg.dbschema={},w._parseStoresSpec(g,C)}),p._dbSchema=C,um(p,[p._allTables,p,p.Transaction.prototype]),Qu(p,[p._allTables,p,p.Transaction.prototype,this._cfg.tables],o(C),C),p._storeNames=o(C),this},c.prototype.upgrade=function(u){return this._cfg.contentUpgrade=Uh(this._cfg.contentUpgrade||Ze,u),this},c}();function tk(c){return ql(ek.prototype,function(p){this.db=c,this._cfg={version:p,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function pm(c,u){var p=c._dbNamesDB;return p||(p=c._dbNamesDB=new Yr(Gu,{addons:[],indexedDB:c,IDBKeyRange:u}),p.version(1).stores({dbnames:"name"})),p.table("dbnames")}function hm(c){return c&&typeof c.databases=="function"}function nk(c){var u=c.indexedDB,p=c.IDBKeyRange;return hm(u)?Promise.resolve(u.databases()).then(function(h){return h.map(function(g){return g.name}).filter(function(g){return g!==Gu})}):pm(u,p).toCollection().primaryKeys()}function rk(c,u){var p=c.indexedDB,h=c.IDBKeyRange;!hm(p)&&u!==Gu&&pm(p,h).put({name:u}).catch(Ze)}function ik(c,u){var p=c.indexedDB,h=c.IDBKeyRange;!hm(p)&&u!==Gu&&pm(p,h).delete(u).catch(Ze)}function mm(c){return Ai(function(){return se.letThrough=!0,c()})}function ok(){var c=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!c||!indexedDB.databases)return Promise.resolve();var u;return new Promise(function(p){var h=function(){return indexedDB.databases().finally(p)};u=setInterval(h,100),h()}).finally(function(){return clearInterval(u)})}var gm;function ym(c){return!("from"in c)}var Wt=function(c,u){if(this)a(this,arguments.length?{d:1,from:c,to:arguments.length>1?u:c}:{d:0});else{var p=new Wt;return c&&"d"in c&&a(p,c),p}};m(Wt.prototype,(gm={add:function(c){return ec(this,c),this},addKey:function(c){return Xl(this,c,c),this},addKeys:function(c){var u=this;return c.forEach(function(p){return Xl(u,p,p)}),this}},gm[Wr]=function(){return vm(this)},gm));function Xl(c,u,p){var h=Ye(u,p);if(!isNaN(h)){if(h>0)throw RangeError();if(ym(c))return a(c,{from:u,to:p,d:1});var g=c.l,C=c.r;if(Ye(p,c.from)<0)return g?Xl(g,u,p):c.l={from:u,to:p,d:1,l:null,r:null},Gb(c);if(Ye(u,c.to)>0)return C?Xl(C,u,p):c.r={from:u,to:p,d:1,l:null,r:null},Gb(c);Ye(u,c.from)<0&&(c.from=u,c.l=null,c.d=C?C.d+1:1),Ye(p,c.to)>0&&(c.to=p,c.r=null,c.d=c.l?c.l.d+1:1);var w=!c.r;g&&!c.l&&ec(c,g),C&&w&&ec(c,C)}}function ec(c,u){function p(h,g){var C=g.from,w=g.to,_=g.l,D=g.r;Xl(h,C,w),_&&p(h,_),D&&p(h,D)}ym(u)||p(c,u)}function nd(c,u){var p=vm(u),h=p.next();if(h.done)return!1;for(var g=h.value,C=vm(c),w=C.next(g.from),_=w.value;!h.done&&!w.done;){if(Ye(_.from,g.to)<=0&&Ye(_.to,g.from)>=0)return!0;Ye(g.from,_.from)<0?g=(h=p.next(_.from)).value:_=(w=C.next(g.from)).value}return!1}function vm(c){var u=ym(c)?null:{s:0,n:c};return{next:function(p){for(var h=arguments.length>0;u;)switch(u.s){case 0:if(u.s=1,h)for(;u.n.l&&Ye(p,u.n.from)<0;)u={up:u,n:u.n.l,s:1};else for(;u.n.l;)u={up:u,n:u.n.l,s:1};case 1:if(u.s=2,!h||Ye(p,u.n.to)<=0)return{value:u.n,done:!1};case 2:if(u.n.r){u.s=3,u={up:u,n:u.n.r,s:0};continue}case 3:u=u.up}return{done:!0}}}}function Gb(c){var u,p,h=(((u=c.r)===null||u===void 0?void 0:u.d)||0)-(((p=c.l)===null||p===void 0?void 0:p.d)||0),g=h>1?"r":h<-1?"l":"";if(g){var C=g==="r"?"l":"r",w=n({},c),_=c[g];c.from=_.from,c.to=_.to,c[g]=_[g],w[g]=_[C],c[C]=w,w.d=qb(w)}c.d=qb(c)}function qb(c){var u=c.r,p=c.l;return(u?p?Math.max(u.d,p.d):u.d:p?p.d:0)+1}function rd(c,u){return o(u).forEach(function(p){c[p]?ec(c[p],u[p]):c[p]=hr(u[p])}),c}function Cm(c,u){return c.all||u.all||Object.keys(c).some(function(p){return u[p]&&nd(u[p],c[p])})}var Lo={},bm={},wm=!1;function id(c,u){rd(bm,c),wm||(wm=!0,setTimeout(function(){wm=!1;var p=bm;bm={},_m(p,!1)},0))}function _m(c,u){u===void 0&&(u=!1);var p=new Set;if(c.all)for(var h=0,g=Object.values(Lo);h<g.length;h++){var C=g[h];Kb(C,c,p,u)}else for(var w in c){var _=/^idb\:\/\/(.*)\/(.*)\//.exec(w);if(_){var D=_[1],x=_[2],C=Lo["idb://".concat(D,"/").concat(x)];C&&Kb(C,c,p,u)}}p.forEach(function(N){return N()})}function Kb(c,u,p,h){for(var g=[],C=0,w=Object.entries(c.queries.query);C<w.length;C++){for(var _=w[C],D=_[0],x=_[1],N=[],M=0,P=x;M<P.length;M++){var G=P[M];Cm(u,G.obsSet)?G.subscribers.forEach(function(L){return p.add(L)}):h&&N.push(G)}h&&g.push([D,N])}if(h)for(var T=0,O=g;T<O.length;T++){var F=O[T],D=F[0],N=F[1];c.queries.query[D]=N}}function sk(c){var u=c._state,p=c._deps.indexedDB;if(u.isBeingOpened||c.idbdb)return u.dbReadyPromise.then(function(){return u.dbOpenError?pt(u.dbOpenError):c});u.isBeingOpened=!0,u.dbOpenError=null,u.openComplete=!1;var h=u.openCanceller,g=Math.round(c.verno*10),C=!1;function w(){if(u.openCanceller!==h)throw new pe.DatabaseClosed("db.open() was cancelled")}var _=u.dbReadyResolve,D=null,x=!1,N=function(){return new Q(function(M,P){if(w(),!p)throw new pe.MissingAPI;var G=c.name,T=u.autoSchema||!g?p.open(G):p.open(G,g);if(!T)throw new pe.MissingAPI;T.onerror=yr(P),T.onblocked=lt(c._fireOnBlocked),T.onupgradeneeded=lt(function(O){if(D=T.transaction,u.autoSchema&&!c._options.allowEmptyDB){T.onerror=Zl,D.abort(),T.result.close();var F=p.deleteDatabase(G);F.onsuccess=F.onerror=lt(function(){P(new pe.NoSuchDatabase("Database ".concat(G," doesnt exist")))})}else{D.onerror=yr(P);var L=O.oldVersion>Math.pow(2,62)?0:O.oldVersion;x=L<1,c.idbdb=T.result,C&&KA(c,D),qA(c,L/10,D,P)}},P),T.onsuccess=lt(function(){D=null;var O=c.idbdb=T.result,F=ie(O.objectStoreNames);if(F.length>0)try{var L=O.transaction(jA(F),"readonly");if(u.autoSchema)QA(c,O,L);else if(td(c,c._dbSchema,L),!XA(c,L)&&!C)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),O.close(),g=O.version+1,C=!0,M(N());Ju(c,L)}catch{}na.push(c),O.onversionchange=lt(function(B){u.vcFired=!0,c.on("versionchange").fire(B)}),O.onclose=lt(function(B){c.on("close").fire(B)}),x&&rk(c._deps,G),M()},P)}).catch(function(M){switch(M?.name){case"UnknownError":if(u.PR1398_maxLoop>0)return u.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),N();break;case"VersionError":if(g>0)return g=0,N();break}return Q.reject(M)})};return Q.race([h,(typeof navigator>"u"?Q.resolve():ok()).then(N)]).then(function(){return w(),u.onReadyBeingFired=[],Q.resolve(mm(function(){return c.on.ready.fire(c.vip)})).then(function M(){if(u.onReadyBeingFired.length>0){var P=u.onReadyBeingFired.reduce(Uh,Ze);return u.onReadyBeingFired=[],Q.resolve(mm(function(){return P(c.vip)})).then(M)}})}).finally(function(){u.openCanceller===h&&(u.onReadyBeingFired=null,u.isBeingOpened=!1)}).catch(function(M){u.dbOpenError=M;try{D&&D.abort()}catch{}return h===u.openCanceller&&c._close(),pt(M)}).finally(function(){u.openComplete=!0,_()}).then(function(){if(x){var M={};c.tables.forEach(function(P){P.schema.indexes.forEach(function(G){G.name&&(M["idb://".concat(c.name,"/").concat(P.name,"/").concat(G.name)]=new Wt(-1/0,[[[]]]))}),M["idb://".concat(c.name,"/").concat(P.name,"/")]=M["idb://".concat(c.name,"/").concat(P.name,"/:dels")]=new Wt(-1/0,[[[]]])}),Ri(Yl).fire(M),_m(M,!0)}return c})}function Dm(c){var u=function(w){return c.next(w)},p=function(w){return c.throw(w)},h=C(u),g=C(p);function C(w){return function(_){var D=w(_),x=D.value;return D.done?x:!x||typeof x.then!="function"?s(x)?Promise.all(x).then(h,g):h(x):x.then(h,g)}}return C(u)()}function ak(c,u,p){var h=arguments.length;if(h<2)throw new pe.InvalidArgument("Too few arguments");for(var g=new Array(h-1);--h;)g[h-1]=arguments[h];p=g.pop();var C=$t(g);return[c,C,p]}function Zb(c,u,p,h,g){return Q.resolve().then(function(){var C=se.transless||se,w=c._createTransaction(u,p,c._dbSchema,h);w.explicit=!0;var _={trans:w,transless:C};if(h)w.idbtrans=h.idbtrans;else try{w.create(),w.idbtrans._explicit=!0,c._state.PR1398_maxLoop=3}catch(M){return M.name===Qs.InvalidState&&c.isOpen()&&--c._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),c.close({disableAutoOpen:!1}),c.open().then(function(){return Zb(c,u,p,null,g)})):pt(M)}var D=Ei(g);D&&ta();var x,N=Q.follow(function(){if(x=g.call(w,w),x)if(D){var M=ki.bind(null,null);x.then(M,M)}else typeof x.next=="function"&&typeof x.throw=="function"&&(x=Dm(x))},_);return(x&&typeof x.then=="function"?Q.resolve(x).then(function(M){return w.active?M:pt(new pe.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):N.then(function(){return x})).then(function(M){return h&&w._resolve(),w._completion.then(function(){return M})}).catch(function(M){return w._reject(M),pt(M)})})}function od(c,u,p){for(var h=s(c)?c.slice():[c],g=0;g<p;++g)h.push(u);return h}function lk(c){return n(n({},c),{table:function(u){var p=c.table(u),h=p.schema,g={},C=[];function w(O,F,L){var B=Ql(O),z=g[B]=g[B]||[],W=O==null?0:typeof O=="string"?1:O.length,R=F>0,q=n(n({},L),{name:R?"".concat(B,"(virtual-from:").concat(L.name,")"):L.name,lowLevelIndex:L,isVirtual:R,keyTail:F,keyLength:W,extractKey:cm(O),unique:!R&&L.unique});if(z.push(q),q.isPrimaryKey||C.push(q),W>1){var te=W===2?O[0]:O.slice(0,W-1);w(te,F+1,L)}return z.sort(function(ne,be){return ne.keyTail-be.keyTail}),q}var _=w(h.primaryKey.keyPath,0,h.primaryKey);g[":id"]=[_];for(var D=0,x=h.indexes;D<x.length;D++){var N=x[D];w(N.keyPath,0,N)}function M(O){var F=g[Ql(O)];return F&&F[0]}function P(O,F){return{type:O.type===1?2:O.type,lower:od(O.lower,O.lowerOpen?c.MAX_KEY:c.MIN_KEY,F),lowerOpen:!0,upper:od(O.upper,O.upperOpen?c.MIN_KEY:c.MAX_KEY,F),upperOpen:!0}}function G(O){var F=O.query.index;return F.isVirtual?n(n({},O),{query:{index:F.lowLevelIndex,range:P(O.query.range,F.keyTail)}}):O}var T=n(n({},p),{schema:n(n({},h),{primaryKey:_,indexes:C,getIndexByKeyPath:M}),count:function(O){return p.count(G(O))},query:function(O){return p.query(G(O))},openCursor:function(O){var F=O.query.index,L=F.keyTail,B=F.isVirtual,z=F.keyLength;if(!B)return p.openCursor(O);function W(R){function q(ne){ne!=null?R.continue(od(ne,O.reverse?c.MAX_KEY:c.MIN_KEY,L)):O.unique?R.continue(R.key.slice(0,z).concat(O.reverse?c.MIN_KEY:c.MAX_KEY,L)):R.continue()}var te=Object.create(R,{continue:{value:q},continuePrimaryKey:{value:function(ne,be){R.continuePrimaryKey(od(ne,c.MAX_KEY,L),be)}},primaryKey:{get:function(){return R.primaryKey}},key:{get:function(){var ne=R.key;return z===1?ne[0]:ne.slice(0,z)}},value:{get:function(){return R.value}}});return te}return p.openCursor(G(O)).then(function(R){return R&&W(R)})}});return T}})}var ck={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:lk};function Sm(c,u,p,h){return p=p||{},h=h||"",o(c).forEach(function(g){if(!f(u,g))p[h+g]=void 0;else{var C=c[g],w=u[g];if(typeof C=="object"&&typeof w=="object"&&C&&w){var _=ko(C),D=ko(w);_!==D?p[h+g]=u[g]:_==="Object"?Sm(C,w,p,h+g+"."):C!==w&&(p[h+g]=u[g])}else C!==w&&(p[h+g]=u[g])}}),o(u).forEach(function(g){f(c,g)||(p[h+g]=u[g])}),p}function Em(c,u){return u.type==="delete"?u.keys:u.keys||u.values.map(c.extractKey)}var uk={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(c){return n(n({},c),{table:function(u){var p=c.table(u),h=p.schema.primaryKey,g=n(n({},p),{mutate:function(C){var w=se.trans,_=w.table(u).hook,D=_.deleting,x=_.creating,N=_.updating;switch(C.type){case"add":if(x.fire===Ze)break;return w._promise("readwrite",function(){return M(C)},!0);case"put":if(x.fire===Ze&&N.fire===Ze)break;return w._promise("readwrite",function(){return M(C)},!0);case"delete":if(D.fire===Ze)break;return w._promise("readwrite",function(){return M(C)},!0);case"deleteRange":if(D.fire===Ze)break;return w._promise("readwrite",function(){return P(C)},!0)}return p.mutate(C);function M(T){var O=se.trans,F=T.keys||Em(h,T);if(!F)throw new Error("Keys missing");return T=T.type==="add"||T.type==="put"?n(n({},T),{keys:F}):n({},T),T.type!=="delete"&&(T.values=r([],T.values,!0)),T.keys&&(T.keys=r([],T.keys,!0)),dk(p,T,F).then(function(L){var B=F.map(function(z,W){var R=L[W],q={onerror:null,onsuccess:null};if(T.type==="delete")D.fire.call(q,z,R,O);else if(T.type==="add"||R===void 0){var te=x.fire.call(q,z,T.values[W],O);z==null&&te!=null&&(z=te,T.keys[W]=z,h.outbound||Re(T.values[W],h.keyPath,z))}else{var ne=Sm(R,T.values[W]),be=N.fire.call(q,ne,z,R,O);if(be){var Te=T.values[W];Object.keys(be).forEach(function(ge){f(Te,ge)?Te[ge]=be[ge]:Re(Te,ge,be[ge])})}}return q});return p.mutate(T).then(function(z){for(var W=z.failures,R=z.results,q=z.numFailures,te=z.lastResult,ne=0;ne<F.length;++ne){var be=R?R[ne]:F[ne],Te=B[ne];be==null?Te.onerror&&Te.onerror(W[ne]):Te.onsuccess&&Te.onsuccess(T.type==="put"&&L[ne]?T.values[ne]:be)}return{failures:W,results:R,numFailures:q,lastResult:te}}).catch(function(z){return B.forEach(function(W){return W.onerror&&W.onerror(z)}),Promise.reject(z)})})}function P(T){return G(T.trans,T.range,1e4)}function G(T,O,F){return p.query({trans:T,values:!1,query:{index:h,range:O},limit:F}).then(function(L){var B=L.result;return M({type:"delete",keys:B,trans:T}).then(function(z){return z.numFailures>0?Promise.reject(z.failures[0]):B.length<F?{failures:[],numFailures:0,lastResult:void 0}:G(T,n(n({},O),{lower:B[B.length-1],lowerOpen:!0}),F)})})}}});return g}})}};function dk(c,u,p){return u.type==="add"?Promise.resolve([]):c.getMany({trans:u.trans,keys:p,cache:"immutable"})}function Yb(c,u,p){try{if(!u||u.keys.length<c.length)return null;for(var h=[],g=0,C=0;g<u.keys.length&&C<c.length;++g)Ye(u.keys[g],c[C])===0&&(h.push(p?Cn(u.values[g]):u.values[g]),++C);return h.length===c.length?h:null}catch{return null}}var fk={stack:"dbcore",level:-1,create:function(c){return{table:function(u){var p=c.table(u);return n(n({},p),{getMany:function(h){if(!h.cache)return p.getMany(h);var g=Yb(h.keys,h.trans._cache,h.cache==="clone");return g?Q.resolve(g):p.getMany(h).then(function(C){return h.trans._cache={keys:h.keys,values:h.cache==="clone"?Cn(C):C},C})},mutate:function(h){return h.type!=="add"&&(h.trans._cache=null),p.mutate(h)}})}}}};function Jb(c,u){return c.trans.mode==="readonly"&&!!c.subscr&&!c.trans.explicit&&c.trans.db._options.cache!=="disabled"&&!u.schema.primaryKey.outbound}function Qb(c,u){switch(c){case"query":return u.values&&!u.unique;case"get":return!1;case"getMany":return!1;case"count":return!1;case"openCursor":return!1}}var pk={stack:"dbcore",level:0,name:"Observability",create:function(c){var u=c.schema.name,p=new Wt(c.MIN_KEY,c.MAX_KEY);return n(n({},c),{transaction:function(h,g,C){if(se.subscr&&g!=="readonly")throw new pe.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(se.querier));return c.transaction(h,g,C)},table:function(h){var g=c.table(h),C=g.schema,w=C.primaryKey,_=C.indexes,D=w.extractKey,x=w.outbound,N=w.autoIncrement&&_.filter(function(T){return T.compound&&T.keyPath.includes(w.keyPath)}),M=n(n({},g),{mutate:function(T){var O=T.trans,F=T.mutatedParts||(T.mutatedParts={}),L=function(ge){var je="idb://".concat(u,"/").concat(h,"/").concat(ge);return F[je]||(F[je]=new Wt)},B=L(""),z=L(":dels"),W=T.type,R=T.type==="deleteRange"?[T.range]:T.type==="delete"?[T.keys]:T.values.length<50?[Em(w,T).filter(function(ge){return ge}),T.values]:[],q=R[0],te=R[1],ne=T.trans._cache;if(s(q)){B.addKeys(q);var be=W==="delete"||q.length===te.length?Yb(q,ne):null;be||z.addKeys(q),(be||te)&&hk(L,C,be,te)}else if(q){var Te={from:q.lower,to:q.upper};z.add(Te),B.add(Te)}else B.add(p),z.add(p),C.indexes.forEach(function(ge){return L(ge.name).add(p)});return g.mutate(T).then(function(ge){return q&&(T.type==="add"||T.type==="put")&&(B.addKeys(ge.results),N&&N.forEach(function(je){var we=T.values.map(function(ye){return je.extractKey(ye)}),rt=je.keyPath.findIndex(function(ye){return ye===w.keyPath});ge.results.forEach(function(ye){return we[rt]=ye}),L(je.name).addKeys(we)})),O.mutatedParts=rd(O.mutatedParts||{},F),ge})}}),P=function(T){var O,F,L=T.query,B=L.index,z=L.range;return[B,new Wt((O=z.lower)!==null&&O!==void 0?O:c.MIN_KEY,(F=z.upper)!==null&&F!==void 0?F:c.MAX_KEY)]},G={get:function(T){return[w,new Wt(T.key)]},getMany:function(T){return[w,new Wt().addKeys(T.keys)]},count:P,query:P,openCursor:P};return o(G).forEach(function(T){M[T]=function(O){var F=se.subscr,L=!!F,B=Jb(se,g)&&Qb(T,O),z=B?O.obsSet={}:F;if(L){var W=function(ge){var je="idb://".concat(u,"/").concat(h,"/").concat(ge);return z[je]||(z[je]=new Wt)},R=W(""),q=W(":dels"),te=G[T](O),ne=te[0],be=te[1];if(T==="query"&&ne.isPrimaryKey&&!O.values?q.add(be):W(ne.name||"").add(be),!ne.isPrimaryKey)if(T==="count")q.add(p);else{var Te=T==="query"&&x&&O.values&&g.query(n(n({},O),{values:!1}));return g[T].apply(this,arguments).then(function(ge){if(T==="query"){if(x&&O.values)return Te.then(function(ye){var Mt=ye.result;return R.addKeys(Mt),ge});var je=O.values?ge.result.map(D):ge.result;O.values?R.addKeys(je):q.addKeys(je)}else if(T==="openCursor"){var we=ge,rt=O.values;return we&&Object.create(we,{key:{get:function(){return q.addKey(we.primaryKey),we.key}},primaryKey:{get:function(){var ye=we.primaryKey;return q.addKey(ye),ye}},value:{get:function(){return rt&&R.addKey(we.primaryKey),we.value}}})}return ge})}}return g[T].apply(this,arguments)}}),M}})}};function hk(c,u,p,h){function g(C){var w=c(C.name||"");function _(x){return x!=null?C.extractKey(x):null}var D=function(x){return C.multiEntry&&s(x)?x.forEach(function(N){return w.addKey(N)}):w.addKey(x)};(p||h).forEach(function(x,N){var M=p&&_(p[N]),P=h&&_(h[N]);Ye(M,P)!==0&&(M!=null&&D(M),P!=null&&D(P))})}u.indexes.forEach(g)}function Xb(c,u,p){if(p.numFailures===0)return u;if(u.type==="deleteRange")return null;var h=u.keys?u.keys.length:"values"in u&&u.values?u.values.length:1;if(p.numFailures===h)return null;var g=n({},u);return s(g.keys)&&(g.keys=g.keys.filter(function(C,w){return!(w in p.failures)})),"values"in g&&s(g.values)&&(g.values=g.values.filter(function(C,w){return!(w in p.failures)})),g}function mk(c,u){return u.lower===void 0?!0:u.lowerOpen?Ye(c,u.lower)>0:Ye(c,u.lower)>=0}function gk(c,u){return u.upper===void 0?!0:u.upperOpen?Ye(c,u.upper)<0:Ye(c,u.upper)<=0}function xm(c,u){return mk(c,u)&&gk(c,u)}function ew(c,u,p,h,g,C){if(!p||p.length===0)return c;var w=u.query.index,_=w.multiEntry,D=u.query.range,x=h.schema.primaryKey,N=x.extractKey,M=w.extractKey,P=(w.lowLevelIndex||w).extractKey,G=p.reduce(function(T,O){var F=T,L=O.type==="add"||O.type==="put"?O.values.filter(function(R){var q=M(R);return _&&s(q)?q.some(function(te){return xm(te,D)}):xm(q,D)}).map(function(R){return R=Cn(R),C&&Object.freeze(R),R}):[];switch(O.type){case"add":F=T.concat(u.values?L:L.map(function(R){return N(R)}));break;case"put":var B=new Wt().addKeys(O.values.map(function(R){return N(R)}));F=T.filter(function(R){var q=u.values?N(R):R;return!nd(new Wt(q),B)}).concat(u.values?L:L.map(function(R){return N(R)}));break;case"delete":var z=new Wt().addKeys(O.keys);F=T.filter(function(R){var q=u.values?N(R):R;return!nd(new Wt(q),z)});break;case"deleteRange":var W=O.range;F=T.filter(function(R){return!xm(N(R),W)});break}return F},c);return G===c?c:(G.sort(function(T,O){return Ye(P(T),P(O))||Ye(N(T),N(O))}),u.limit&&u.limit<1/0&&(G.length>u.limit?G.length=u.limit:c.length===u.limit&&G.length<u.limit&&(g.dirty=!0)),C?Object.freeze(G):G)}function tw(c,u){return Ye(c.lower,u.lower)===0&&Ye(c.upper,u.upper)===0&&!!c.lowerOpen==!!u.lowerOpen&&!!c.upperOpen==!!u.upperOpen}function yk(c,u,p,h){if(c===void 0)return u!==void 0?-1:0;if(u===void 0)return 1;var g=Ye(c,u);if(g===0){if(p&&h)return 0;if(p)return 1;if(h)return-1}return g}function vk(c,u,p,h){if(c===void 0)return u!==void 0?1:0;if(u===void 0)return-1;var g=Ye(c,u);if(g===0){if(p&&h)return 0;if(p)return-1;if(h)return 1}return g}function Ck(c,u){return yk(c.lower,u.lower,c.lowerOpen,u.lowerOpen)<=0&&vk(c.upper,u.upper,c.upperOpen,u.upperOpen)>=0}function bk(c,u,p,h){var g=Lo["idb://".concat(c,"/").concat(u)];if(!g)return[];var C=g.queries[p];if(!C)return[null,!1,g,null];var w=h.query?h.query.index.name:null,_=C[w||""];if(!_)return[null,!1,g,null];switch(p){case"query":var D=_.find(function(M){return M.req.limit===h.limit&&M.req.values===h.values&&tw(M.req.query.range,h.query.range)});if(D)return[D,!0,g,_];var x=_.find(function(M){var P="limit"in M.req?M.req.limit:1/0;return P>=h.limit&&(h.values?M.req.values:!0)&&Ck(M.req.query.range,h.query.range)});return[x,!1,g,_];case"count":var N=_.find(function(M){return tw(M.req.query.range,h.query.range)});return[N,!!N,g,_]}}function wk(c,u,p,h){c.subscribers.add(p),h.addEventListener("abort",function(){c.subscribers.delete(p),c.subscribers.size===0&&_k(c,u)})}function _k(c,u){setTimeout(function(){c.subscribers.size===0&&fn(u,c)},3e3)}var Dk={stack:"dbcore",level:0,name:"Cache",create:function(c){var u=c.schema.name,p=n(n({},c),{transaction:function(h,g,C){var w=c.transaction(h,g,C);if(g==="readwrite"){var _=new AbortController,D=_.signal,x=function(N){return function(){if(_.abort(),g==="readwrite"){for(var M=new Set,P=0,G=h;P<G.length;P++){var T=G[P],O=Lo["idb://".concat(u,"/").concat(T)];if(O){var F=c.table(T),L=O.optimisticOps.filter(function(rt){return rt.trans===w});if(w._explicit&&N&&w.mutatedParts)for(var B=0,z=Object.values(O.queries.query);B<z.length;B++)for(var W=z[B],R=0,q=W.slice();R<q.length;R++){var te=q[R];Cm(te.obsSet,w.mutatedParts)&&(fn(W,te),te.subscribers.forEach(function(rt){return M.add(rt)}))}else if(L.length>0){O.optimisticOps=O.optimisticOps.filter(function(rt){return rt.trans!==w});for(var ne=0,be=Object.values(O.queries.query);ne<be.length;ne++)for(var W=be[ne],Te=0,ge=W.slice();Te<ge.length;Te++){var te=ge[Te];if(te.res!=null&&w.mutatedParts)if(N&&!te.dirty){var je=Object.isFrozen(te.res),we=ew(te.res,te.req,L,F,te,je);te.dirty?(fn(W,te),te.subscribers.forEach(function(Mt){return M.add(Mt)})):we!==te.res&&(te.res=we,te.promise=Q.resolve({result:we}))}else te.dirty&&fn(W,te),te.subscribers.forEach(function(Mt){return M.add(Mt)})}}}}M.forEach(function(rt){return rt()})}}};w.addEventListener("abort",x(!1),{signal:D}),w.addEventListener("error",x(!1),{signal:D}),w.addEventListener("complete",x(!0),{signal:D})}return w},table:function(h){var g=c.table(h),C=g.schema.primaryKey,w=n(n({},g),{mutate:function(_){var D=se.trans;if(C.outbound||D.db._options.cache==="disabled"||D.explicit)return g.mutate(_);var x=Lo["idb://".concat(u,"/").concat(h)];if(!x)return g.mutate(_);var N=g.mutate(_);return(_.type==="add"||_.type==="put")&&(_.values.length>=50||Em(C,_).some(function(M){return M==null}))?N.then(function(M){var P=n(n({},_),{values:_.values.map(function(T,O){var F,L=!((F=C.keyPath)===null||F===void 0)&&F.includes(".")?Cn(T):n({},T);return Re(L,C.keyPath,M.results[O]),L})}),G=Xb(x,P,M);x.optimisticOps.push(G),queueMicrotask(function(){return _.mutatedParts&&id(_.mutatedParts)})}):(x.optimisticOps.push(_),_.mutatedParts&&id(_.mutatedParts),N.then(function(M){if(M.numFailures>0){fn(x.optimisticOps,_);var P=Xb(x,_,M);P&&x.optimisticOps.push(P),_.mutatedParts&&id(_.mutatedParts)}}),N.catch(function(){fn(x.optimisticOps,_),_.mutatedParts&&id(_.mutatedParts)})),N},query:function(_){var D;if(!Jb(se,g)||!Qb("query",_))return g.query(_);var x=((D=se.trans)===null||D===void 0?void 0:D.db._options.cache)==="immutable",N=se,M=N.requery,P=N.signal,G=bk(u,h,"query",_),T=G[0],O=G[1],F=G[2],L=G[3];if(T&&O)T.obsSet=_.obsSet;else{var B=g.query(_).then(function(z){var W=z.result;if(T&&(T.res=W),x){for(var R=0,q=W.length;R<q;++R)Object.freeze(W[R]);Object.freeze(W)}else z.result=Cn(W);return z}).catch(function(z){return L&&T&&fn(L,T),Promise.reject(z)});T={obsSet:_.obsSet,promise:B,subscribers:new Set,type:"query",req:_,dirty:!1},L?L.push(T):(L=[T],F||(F=Lo["idb://".concat(u,"/").concat(h)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}}),F.queries.query[_.query.index.name||""]=L)}return wk(T,L,M,P),T.promise.then(function(z){return{result:ew(z.result,_,F?.optimisticOps,g,T,x)}})}});return w}});return p}};function sd(c,u){return new Proxy(c,{get:function(p,h,g){return h==="db"?u:Reflect.get(p,h,g)}})}var Yr=function(){function c(u,p){var h=this;this._middlewares={},this.verno=0;var g=c.dependencies;this._options=p=n({addons:c.addons,autoOpen:!0,indexedDB:g.indexedDB,IDBKeyRange:g.IDBKeyRange,cache:"cloned"},p),this._deps={indexedDB:p.indexedDB,IDBKeyRange:p.IDBKeyRange};var C=p.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var w={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ze,dbReadyPromise:null,cancelOpen:Ze,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:p.autoOpen};w.dbReadyPromise=new Q(function(D){w.dbReadyResolve=D}),w.openCanceller=new Q(function(D,x){w.cancelOpen=x}),this._state=w,this.name=u,this.on=Gl(this,"populate","blocked","versionchange","close",{ready:[Uh,Ze]}),this.on.ready.subscribe=me(this.on.ready.subscribe,function(D){return function(x,N){c.vip(function(){var M=h._state;if(M.openComplete)M.dbOpenError||Q.resolve().then(x),N&&D(x);else if(M.onReadyBeingFired)M.onReadyBeingFired.push(x),N&&D(x);else{D(x);var P=h;N||D(function G(){P.on.ready.unsubscribe(x),P.on.ready.unsubscribe(G)})}})}}),this.Collection=kA(this),this.Table=IA(this),this.Transaction=BA(this),this.Version=tk(this),this.WhereClause=LA(this),this.on("versionchange",function(D){D.newVersion>0?console.warn("Another connection wants to upgrade database '".concat(h.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(h.name,"'. Closing db now to resume the delete request.")),h.close({disableAutoOpen:!1})}),this.on("blocked",function(D){!D.newVersion||D.newVersion<D.oldVersion?console.warn("Dexie.delete('".concat(h.name,"') was blocked")):console.warn("Upgrade '".concat(h.name,"' blocked by other connection holding version ").concat(D.oldVersion/10))}),this._maxKey=Jl(p.IDBKeyRange),this._createTransaction=function(D,x,N,M){return new h.Transaction(D,x,N,h._options.chromeTransactionDurability,M)},this._fireOnBlocked=function(D){h.on("blocked").fire(D),na.filter(function(x){return x.name===h.name&&x!==h&&!x._state.vcFired}).map(function(x){return x.on("versionchange").fire(D)})},this.use(fk),this.use(Dk),this.use(pk),this.use(ck),this.use(uk);var _=new Proxy(this,{get:function(D,x,N){if(x==="_vip")return!0;if(x==="table")return function(P){return sd(h.table(P),_)};var M=Reflect.get(D,x,N);return M instanceof Lb?sd(M,_):x==="tables"?M.map(function(P){return sd(P,_)}):x==="_createTransaction"?function(){var P=M.apply(this,arguments);return sd(P,_)}:M}});this.vip=_,C.forEach(function(D){return D(h)})}return c.prototype.version=function(u){if(isNaN(u)||u<.1)throw new pe.Type("Given version is not a positive number");if(u=Math.round(u*10)/10,this.idbdb||this._state.isBeingOpened)throw new pe.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,u);var p=this._versions,h=p.filter(function(g){return g._cfg.version===u})[0];return h||(h=new this.Version(u),p.push(h),p.sort(GA),h.stores({}),this._state.autoSchema=!1,h)},c.prototype._whenReady=function(u){var p=this;return this.idbdb&&(this._state.openComplete||se.letThrough||this._vip)?u():new Q(function(h,g){if(p._state.openComplete)return g(new pe.DatabaseClosed(p._state.dbOpenError));if(!p._state.isBeingOpened){if(!p._state.autoOpen){g(new pe.DatabaseClosed);return}p.open().catch(Ze)}p._state.dbReadyPromise.then(h,g)}).then(u)},c.prototype.use=function(u){var p=u.stack,h=u.create,g=u.level,C=u.name;C&&this.unuse({stack:p,name:C});var w=this._middlewares[p]||(this._middlewares[p]=[]);return w.push({stack:p,create:h,level:g??10,name:C}),w.sort(function(_,D){return _.level-D.level}),this},c.prototype.unuse=function(u){var p=u.stack,h=u.name,g=u.create;return p&&this._middlewares[p]&&(this._middlewares[p]=this._middlewares[p].filter(function(C){return g?C.create!==g:h?C.name!==h:!1})),this},c.prototype.open=function(){var u=this;return Ro(Ti,function(){return sk(u)})},c.prototype._close=function(){var u=this._state,p=na.indexOf(this);if(p>=0&&na.splice(p,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}u.isBeingOpened||(u.dbReadyPromise=new Q(function(h){u.dbReadyResolve=h}),u.openCanceller=new Q(function(h,g){u.cancelOpen=g}))},c.prototype.close=function(u){var p=u===void 0?{disableAutoOpen:!0}:u,h=p.disableAutoOpen,g=this._state;h?(g.isBeingOpened&&g.cancelOpen(new pe.DatabaseClosed),this._close(),g.autoOpen=!1,g.dbOpenError=new pe.DatabaseClosed):(this._close(),g.autoOpen=this._options.autoOpen||g.isBeingOpened,g.openComplete=!1,g.dbOpenError=null)},c.prototype.delete=function(u){var p=this;u===void 0&&(u={disableAutoOpen:!0});var h=arguments.length>0&&typeof arguments[0]!="object",g=this._state;return new Q(function(C,w){var _=function(){p.close(u);var D=p._deps.indexedDB.deleteDatabase(p.name);D.onsuccess=lt(function(){ik(p._deps,p.name),C()}),D.onerror=yr(w),D.onblocked=p._fireOnBlocked};if(h)throw new pe.InvalidArgument("Invalid closeOptions argument to db.delete()");g.isBeingOpened?g.dbReadyPromise.then(_):_()})},c.prototype.backendDB=function(){return this.idbdb},c.prototype.isOpen=function(){return this.idbdb!==null},c.prototype.hasBeenClosed=function(){var u=this._state.dbOpenError;return u&&u.name==="DatabaseClosed"},c.prototype.hasFailed=function(){return this._state.dbOpenError!==null},c.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(c.prototype,"tables",{get:function(){var u=this;return o(this._allTables).map(function(p){return u._allTables[p]})},enumerable:!1,configurable:!0}),c.prototype.transaction=function(){var u=ak.apply(this,arguments);return this._transaction.apply(this,u)},c.prototype._transaction=function(u,p,h){var g=this,C=se.trans;(!C||C.db!==this||u.indexOf("!")!==-1)&&(C=null);var w=u.indexOf("?")!==-1;u=u.replace("!","").replace("?","");var _,D;try{if(D=p.map(function(N){var M=N instanceof g.Table?N.name:N;if(typeof M!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return M}),u=="r"||u===tm)_=tm;else if(u=="rw"||u==nm)_=nm;else throw new pe.InvalidArgument("Invalid transaction mode: "+u);if(C){if(C.mode===tm&&_===nm)if(w)C=null;else throw new pe.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");C&&D.forEach(function(N){if(C&&C.storeNames.indexOf(N)===-1)if(w)C=null;else throw new pe.SubTransaction("Table "+N+" not included in parent transaction.")}),w&&C&&!C.active&&(C=null)}}catch(N){return C?C._promise(null,function(M,P){P(N)}):pt(N)}var x=Zb.bind(null,this,_,D,C,h);return C?C._promise(_,x,"lock"):se.trans?Ro(se.transless,function(){return g._whenReady(x)}):this._whenReady(x)},c.prototype.table=function(u){if(!f(this._allTables,u))throw new pe.InvalidTable("Table ".concat(u," does not exist"));return this._allTables[u]},c}(),Sk=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Ek=function(){function c(u){this._subscribe=u}return c.prototype.subscribe=function(u,p,h){return this._subscribe(!u||typeof u=="function"?{next:u,error:p,complete:h}:u)},c.prototype[Sk]=function(){return this},c}(),ad;try{ad={indexedDB:i.indexedDB||i.mozIndexedDB||i.webkitIndexedDB||i.msIndexedDB,IDBKeyRange:i.IDBKeyRange||i.webkitIDBKeyRange}}catch{ad={indexedDB:null,IDBKeyRange:null}}function nw(c){var u=!1,p,h=new Ek(function(g){var C=Ei(c);function w(L){var B=Xs();try{C&&ta();var z=Ai(c,L);return C&&(z=z.finally(ki)),z}finally{B&&ea()}}var _=!1,D,x={},N={},M={get closed(){return _},unsubscribe:function(){_||(_=!0,D&&D.abort(),P&&Ri.storagemutated.unsubscribe(O))}};g.start&&g.start(M);var P=!1,G=function(){return Qh(F)};function T(){return Cm(N,x)}var O=function(L){rd(x,L),T()&&G()},F=function(){if(!(_||!ad.indexedDB)){x={};var L={};D&&D.abort(),D=new AbortController;var B={subscr:L,signal:D.signal,requery:G,querier:c,trans:null},z=w(B);Promise.resolve(z).then(function(W){u=!0,p=W,!(_||B.signal.aborted)&&(x={},N=L,!Xt(N)&&!P&&(Ri(Yl,O),P=!0),Qh(function(){return!_&&g.next&&g.next(W)}))},function(W){u=!1,["DatabaseClosedError","AbortError"].includes(W?.name)||_||Qh(function(){_||g.error&&g.error(W)})})}};return setTimeout(G,0),M});return h.hasValue=function(){return u},h.getValue=function(){return p},h}var Vo=Yr;m(Vo,n(n({},Kr),{delete:function(c){var u=new Vo(c,{addons:[]});return u.delete()},exists:function(c){return new Vo(c,{addons:[]}).open().then(function(u){return u.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(c){try{return nk(Vo.dependencies).then(c)}catch{return pt(new pe.MissingAPI)}},defineClass:function(){function c(u){a(this,u)}return c},ignoreTransaction:function(c){return se.trans?Ro(se.transless,c):c()},vip:mm,async:function(c){return function(){try{var u=Dm(c.apply(this,arguments));return!u||typeof u.then!="function"?Q.resolve(u):u}catch(p){return pt(p)}}},spawn:function(c,u,p){try{var h=Dm(c.apply(p,u||[]));return!h||typeof h.then!="function"?Q.resolve(h):h}catch(g){return pt(g)}},currentTransaction:{get:function(){return se.trans||null}},waitFor:function(c,u){var p=Q.resolve(typeof c=="function"?Vo.ignoreTransaction(c):c).timeout(u||6e4);return se.trans?se.trans.waitFor(p):p},Promise:Q,debug:{get:function(){return gr},set:function(c){_b(c)}},derive:b,extend:a,props:m,override:me,Events:Gl,on:Ri,liveQuery:nw,extendObservabilitySet:rd,getByKeyPath:Me,setByKeyPath:Re,delByKeyPath:fe,shallowClone:Ge,deepClone:Cn,getObjectDiff:Sm,cmp:Ye,asap:Se,minKey:em,addons:[],connections:na,errnames:Qs,dependencies:ad,cache:Lo,semVer:kb,version:kb.split(".").map(function(c){return parseInt(c)}).reduce(function(c,u,p){return c+u/Math.pow(10,p*2)})})),Vo.maxKey=Jl(Vo.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Ri(Yl,function(c){if(!Pi){var u;u=new CustomEvent(sm,{detail:c}),Pi=!0,dispatchEvent(u),Pi=!1}}),addEventListener(sm,function(c){var u=c.detail;Pi||Im(u)}));function Im(c){var u=Pi;try{Pi=!0,Ri.storagemutated.fire(c),_m(c,!0)}finally{Pi=u}}var Pi=!1,Fi,Mm=function(){};typeof BroadcastChannel<"u"&&(Mm=function(){Fi=new BroadcastChannel(sm),Fi.onmessage=function(c){return c.data&&Im(c.data)}},Mm(),typeof Fi.unref=="function"&&Fi.unref(),Ri(Yl,function(c){Pi||Fi.postMessage(c)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(c){if(!Yr.disableBfCache&&c.persisted){gr&&console.debug("Dexie: handling persisted pagehide"),Fi?.close();for(var u=0,p=na;u<p.length;u++){var h=p[u];h.close({disableAutoOpen:!1})}}}),addEventListener("pageshow",function(c){!Yr.disableBfCache&&c.persisted&&(gr&&console.debug("Dexie: handling persisted pageshow"),Mm(),Im({all:new Wt(-1/0,[[]])}))}));function xk(c){return new Kl({add:c})}function Ik(c){return new Kl({remove:c})}function Mk(c,u){return new Kl({replacePrefix:[c,u]})}Q.rejectionMapper=qr,_b(gr);var Tk=Object.freeze({__proto__:null,Dexie:Yr,liveQuery:nw,Entity:Rb,cmp:Ye,PropModSymbol:TA,PropModification:Kl,replacePrefix:Mk,add:xk,remove:Ik,default:Yr,RangeSet:Wt,mergeRanges:ec,rangesOverlap:nd});return n(Yr,Tk,{default:Yr}),Yr})});var km=null;var Am=1,Nm=Symbol("SIGNAL");function He(t){let e=km;return km=t,e}function sw(){return km}var Om={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Hk(t){if(!(Vm(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Am)){if(!t.producerMustRecompute(t)&&!Pm(t)){t.dirty=!1,t.lastCleanEpoch=Am;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Am}}function Rm(t){return t&&(t.nextProducerIndex=0),He(t)}function aw(t,e){if(He(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Vm(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Lm(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Pm(t){Bm(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Hk(n),r!==n.version))return!0}return!1}function Fm(t){if(Bm(t),Vm(t))for(let e=0;e<t.producerNode.length;e++)Lm(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Lm(t,e){if(zk(t),t.liveConsumerNode.length===1&&Uk(t))for(let r=0;r<t.producerNode.length;r++)Lm(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Bm(i),i.producerIndexOfThis[r]=e}}function Vm(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Bm(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function zk(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Uk(t){return t.producerNode!==void 0}function $k(){throw new Error}var Wk=$k;function lw(t){Wk=t}function Ae(t){return typeof t=="function"}function oa(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var cd=oa(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function nc(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var yt=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Ae(r))try{r()}catch(o){e=o instanceof cd?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{cw(o)}catch(s){e=e??[],s instanceof cd?e=[...e,...s.errors]:e.push(s)}}if(e)throw new cd(e)}}add(e){var n;if(e&&e!==this)if(this.closed)cw(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&nc(n,e)}remove(e){let{_finalizers:n}=this;n&&nc(n,e),e instanceof t&&e._removeParent(this)}};yt.EMPTY=(()=>{let t=new yt;return t.closed=!0,t})();var jm=yt.EMPTY;function ud(t){return t instanceof yt||t&&"closed"in t&&Ae(t.remove)&&Ae(t.add)&&Ae(t.unsubscribe)}function cw(t){Ae(t)?t():t.unsubscribe()}var qn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var sa={setTimeout(t,e,...n){let{delegate:r}=sa;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=sa;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function dd(t){sa.setTimeout(()=>{let{onUnhandledError:e}=qn;if(e)e(t);else throw t})}function rc(){}var uw=Hm("C",void 0,void 0);function dw(t){return Hm("E",void 0,t)}function fw(t){return Hm("N",t,void 0)}function Hm(t,e,n){return{kind:t,value:e,error:n}}var Bo=null;function aa(t){if(qn.useDeprecatedSynchronousErrorHandling){let e=!Bo;if(e&&(Bo={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Bo;if(Bo=null,n)throw r}}else t()}function pw(t){qn.useDeprecatedSynchronousErrorHandling&&Bo&&(Bo.errorThrown=!0,Bo.error=t)}var jo=class extends yt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ud(e)&&e.add(this)):this.destination=Kk}static create(e,n,r){return new la(e,n,r)}next(e){this.isStopped?Um(fw(e),this):this._next(e)}error(e){this.isStopped?Um(dw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Um(uw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Gk=Function.prototype.bind;function zm(t,e){return Gk.call(t,e)}var $m=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){fd(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){fd(r)}else fd(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){fd(n)}}},la=class extends jo{constructor(e,n,r){super();let i;if(Ae(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&qn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&zm(e.next,o),error:e.error&&zm(e.error,o),complete:e.complete&&zm(e.complete,o)}):i=e}this.destination=new $m(i)}};function fd(t){qn.useDeprecatedSynchronousErrorHandling?pw(t):dd(t)}function qk(t){throw t}function Um(t,e){let{onStoppedNotification:n}=qn;n&&sa.setTimeout(()=>n(t,e))}var Kk={closed:!0,next:rc,error:qk,complete:rc};var ca=typeof Symbol=="function"&&Symbol.observable||"@@observable";function wn(t){return t}function Wm(...t){return Gm(t)}function Gm(t){return t.length===0?wn:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var Je=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=Yk(n)?n:new la(n,r,i);return aa(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=hw(r),new r((i,o)=>{let s=new la({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ca](){return this}pipe(...n){return Gm(n)(this)}toPromise(n){return n=hw(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function hw(t){var e;return(e=t??qn.Promise)!==null&&e!==void 0?e:Promise}function Zk(t){return t&&Ae(t.next)&&Ae(t.error)&&Ae(t.complete)}function Yk(t){return t&&t instanceof jo||Zk(t)&&ud(t)}function qm(t){return Ae(t?.lift)}function $e(t){return e=>{if(qm(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ue(t,e,n,r,i){return new Km(t,e,n,r,i)}var Km=class extends jo{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ua(){return $e((t,e)=>{let n=null;t._refCount++;let r=Ue(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var da=class extends Je{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,qm(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new yt;let n=this.getSubject();e.add(this.source.subscribe(Ue(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=yt.EMPTY)}return e}refCount(){return ua()(this)}};var mw=oa(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var at=(()=>{class t extends Je{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new pd(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new mw}next(n){aa(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){aa(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){aa(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?jm:(this.currentObservers=null,o.push(n),new yt(()=>{this.currentObservers=null,nc(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new Je;return n.source=this,n}}return t.create=(e,n)=>new pd(e,n),t})(),pd=class extends at{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:jm}};var Lt=class extends at{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var _n=new Je(t=>t.complete());function gw(t){return t&&Ae(t.schedule)}function yw(t){return t[t.length-1]}function hd(t){return Ae(yw(t))?t.pop():void 0}function Bi(t){return gw(yw(t))?t.pop():void 0}function Cw(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(f){try{d(r.next(f))}catch(m){s(m)}}function l(f){try{d(r.throw(f))}catch(m){s(m)}}function d(f){f.done?o(f.value):i(f.value).then(a,l)}d((r=r.apply(t,e||[])).next())})}function vw(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ho(t){return this instanceof Ho?(this.v=t,this):new Ho(t)}function bw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(v){return function(b){return Promise.resolve(b).then(v,m)}}function a(v,b){r[v]&&(i[v]=function(I){return new Promise(function(k,H){o.push([v,I,k,H])>1||l(v,I)})},b&&(i[v]=b(i[v])))}function l(v,b){try{d(r[v](b))}catch(I){y(o[0][3],I)}}function d(v){v.value instanceof Ho?Promise.resolve(v.value.v).then(f,m):y(o[0][2],v)}function f(v){l("next",v)}function m(v){l("throw",v)}function y(v,b){v(b),o.shift(),o.length&&l(o[0][0],o[0][1])}}function ww(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof vw=="function"?vw(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(d){o({value:d,done:a})},s)}}var md=t=>t&&typeof t.length=="number"&&typeof t!="function";function gd(t){return Ae(t?.then)}function yd(t){return Ae(t[ca])}function vd(t){return Symbol.asyncIterator&&Ae(t?.[Symbol.asyncIterator])}function Cd(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Jk(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var bd=Jk();function wd(t){return Ae(t?.[bd])}function _d(t){return bw(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Ho(n.read());if(i)return yield Ho(void 0);yield yield Ho(r)}}finally{n.releaseLock()}})}function Dd(t){return Ae(t?.getReader)}function vt(t){if(t instanceof Je)return t;if(t!=null){if(yd(t))return Qk(t);if(md(t))return Xk(t);if(gd(t))return eN(t);if(vd(t))return _w(t);if(wd(t))return tN(t);if(Dd(t))return nN(t)}throw Cd(t)}function Qk(t){return new Je(e=>{let n=t[ca]();if(Ae(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Xk(t){return new Je(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function eN(t){return new Je(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,dd)})}function tN(t){return new Je(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function _w(t){return new Je(e=>{rN(t,e).catch(n=>e.error(n))})}function nN(t){return _w(_d(t))}function rN(t,e){var n,r,i,o;return Cw(this,void 0,void 0,function*(){try{for(n=ww(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function pn(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Sd(t,e=0){return $e((n,r)=>{n.subscribe(Ue(r,i=>pn(r,t,()=>r.next(i),e),()=>pn(r,t,()=>r.complete(),e),i=>pn(r,t,()=>r.error(i),e)))})}function Ed(t,e=0){return $e((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Dw(t,e){return vt(t).pipe(Ed(e),Sd(e))}function Sw(t,e){return vt(t).pipe(Ed(e),Sd(e))}function Ew(t,e){return new Je(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function xw(t,e){return new Je(n=>{let r;return pn(n,e,()=>{r=t[bd](),pn(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>Ae(r?.return)&&r.return()})}function xd(t,e){if(!t)throw new Error("Iterable cannot be null");return new Je(n=>{pn(n,e,()=>{let r=t[Symbol.asyncIterator]();pn(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Iw(t,e){return xd(_d(t),e)}function Mw(t,e){if(t!=null){if(yd(t))return Dw(t,e);if(md(t))return Ew(t,e);if(gd(t))return Sw(t,e);if(vd(t))return xd(t,e);if(wd(t))return xw(t,e);if(Dd(t))return Iw(t,e)}throw Cd(t)}function ht(t,e){return e?Mw(t,e):vt(t)}function xe(...t){let e=Bi(t);return ht(t,e)}function fa(t,e){let n=Ae(t)?t:()=>t,r=i=>i.error(n());return new Je(e?i=>e.schedule(r,0,i):r)}function ic(t){return!!t&&(t instanceof Je||Ae(t.lift)&&Ae(t.subscribe))}var Jr=oa(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ze(t,e){return $e((n,r)=>{let i=0;n.subscribe(Ue(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:iN}=Array;function oN(t,e){return iN(e)?t(...e):t(e)}function Id(t){return ze(e=>oN(t,e))}var{isArray:sN}=Array,{getPrototypeOf:aN,prototype:lN,keys:cN}=Object;function Md(t){if(t.length===1){let e=t[0];if(sN(e))return{args:e,keys:null};if(uN(e)){let n=cN(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function uN(t){return t&&typeof t=="object"&&aN(t)===lN}function Td(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Ad(...t){let e=Bi(t),n=hd(t),{args:r,keys:i}=Md(t);if(r.length===0)return ht([],e);let o=new Je(dN(r,e,i?s=>Td(i,s):wn));return n?o.pipe(Id(n)):o}function dN(t,e,n=wn){return r=>{Tw(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)Tw(e,()=>{let d=ht(t[l],e),f=!1;d.subscribe(Ue(r,m=>{o[l]=m,f||(f=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Tw(t,e,n){t?pn(n,t,e):e()}function Aw(t,e,n,r,i,o,s,a){let l=[],d=0,f=0,m=!1,y=()=>{m&&!l.length&&!d&&e.complete()},v=I=>d<r?b(I):l.push(I),b=I=>{o&&e.next(I),d++;let k=!1;vt(n(I,f++)).subscribe(Ue(e,H=>{i?.(H),o?v(H):e.next(H)},()=>{k=!0},void 0,()=>{if(k)try{for(d--;l.length&&d<r;){let H=l.shift();s?pn(e,s,()=>b(H)):b(H)}y()}catch(H){e.error(H)}}))};return t.subscribe(Ue(e,v,()=>{m=!0,y()})),()=>{a?.()}}function Dt(t,e,n=1/0){return Ae(e)?Dt((r,i)=>ze((o,s)=>e(r,o,i,s))(vt(t(r,i))),n):(typeof e=="number"&&(n=e),$e((r,i)=>Aw(r,i,t,n)))}function Zm(t=1/0){return Dt(wn,t)}function kw(){return Zm(1)}function pa(...t){return kw()(ht(t,Bi(t)))}function kd(t){return new Je(e=>{vt(t()).subscribe(e)})}function Ym(...t){let e=hd(t),{args:n,keys:r}=Md(t),i=new Je(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,d=s;for(let f=0;f<s;f++){let m=!1;vt(n[f]).subscribe(Ue(o,y=>{m||(m=!0,d--),a[f]=y},()=>l--,void 0,()=>{(!l||!m)&&(d||o.next(r?Td(r,a):a),o.complete())}))}});return e?i.pipe(Id(e)):i}function Kn(t,e){return $e((n,r)=>{let i=0;n.subscribe(Ue(r,o=>t.call(e,o,i++)&&r.next(o)))})}function ji(t){return $e((e,n)=>{let r=null,i=!1,o;r=e.subscribe(Ue(n,void 0,void 0,s=>{o=vt(t(s,ji(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Nw(t,e,n,r,i){return(o,s)=>{let a=n,l=e,d=0;o.subscribe(Ue(s,f=>{let m=d++;l=a?t(l,f,m):(a=!0,f),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function ha(t,e){return Ae(e)?Dt(t,e,1):Dt(t,1)}function Hi(t){return $e((e,n)=>{let r=!1;e.subscribe(Ue(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Qr(t){return t<=0?()=>_n:$e((e,n)=>{let r=0;e.subscribe(Ue(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Jm(t){return ze(()=>t)}function Nd(t=fN){return $e((e,n)=>{let r=!1;e.subscribe(Ue(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function fN(){return new Jr}function oc(t){return $e((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function br(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Kn((i,o)=>t(i,o,r)):wn,Qr(1),n?Hi(e):Nd(()=>new Jr))}function ma(t){return t<=0?()=>_n:$e((e,n)=>{let r=[];e.subscribe(Ue(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Qm(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Kn((i,o)=>t(i,o,r)):wn,ma(1),n?Hi(e):Nd(()=>new Jr))}function Xm(t,e){return $e(Nw(t,e,arguments.length>=2,!0))}function eg(...t){let e=Bi(t);return $e((n,r)=>{(e?pa(t,n,e):pa(t,n)).subscribe(r)})}function Zn(t,e){return $e((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(Ue(r,l=>{i?.unsubscribe();let d=0,f=o++;vt(t(l,f)).subscribe(i=Ue(r,m=>r.next(e?e(l,m,f,d++):m),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function sc(t){return $e((e,n)=>{vt(t).subscribe(Ue(n,()=>n.complete(),rc)),!n.closed&&e.subscribe(n)})}function Vt(t,e,n){let r=Ae(t)||e||n?{next:t,error:e,complete:n}:t;return r?$e((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Ue(o,l=>{var d;(d=r.next)===null||d===void 0||d.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var d;a=!1,(d=r.error)===null||d===void 0||d.call(r,l),o.error(l)},()=>{var l,d;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):wn}var w_="https://g.co/ng/security#xss",ae=class extends Error{constructor(e,n){super(xy(e,n)),this.code=e}};function xy(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function yc(t){return{toString:t}.toString()}var Od="__parameters__";function pN(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function __(t,e,n){return yc(()=>{let r=pN(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,d,f){let m=l.hasOwnProperty(Od)?l[Od]:Object.defineProperty(l,Od,{value:[]})[Od];for(;m.length<=f;)m.push(null);return(m[f]=m[f]||[]).push(s),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var $o=globalThis;function it(t){for(let e in t)if(t[e]===it)return e;throw Error("Could not find renamed property on target object.")}function hN(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function rn(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(rn).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function gg(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var mN=it({__forward_ref__:it});function Mr(t){return t.__forward_ref__=Mr,t.toString=function(){return rn(this())},t}function nn(t){return D_(t)?t():t}function D_(t){return typeof t=="function"&&t.hasOwnProperty(mN)&&t.__forward_ref__===Mr}function U(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function er(t){return{providers:t.providers||[],imports:t.imports||[]}}function mf(t){return Ow(t,E_)||Ow(t,x_)}function S_(t){return mf(t)!==null}function Ow(t,e){return t.hasOwnProperty(e)?t[e]:null}function gN(t){let e=t&&(t[E_]||t[x_]);return e||null}function Rw(t){return t&&(t.hasOwnProperty(Pw)||t.hasOwnProperty(yN))?t[Pw]:null}var E_=it({\u0275prov:it}),Pw=it({\u0275inj:it}),x_=it({ngInjectableDef:it}),yN=it({ngInjectorDef:it}),_e=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=U({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function I_(t){return t&&!!t.\u0275providers}var vN=it({\u0275cmp:it}),CN=it({\u0275dir:it}),bN=it({\u0275pipe:it}),wN=it({\u0275mod:it}),Wd=it({\u0275fac:it}),ac=it({__NG_ELEMENT_ID__:it}),Fw=it({__NG_ENV_ID__:it});function Wo(t){return typeof t=="string"?t:t==null?"":String(t)}function _N(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Wo(t)}function DN(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new ae(-200,t)}function Iy(t,e){throw new ae(-201,!1)}var Le=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Le||{}),yg;function M_(){return yg}function hn(t){let e=yg;return yg=t,e}function T_(t,e,n){let r=mf(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&Le.Optional)return null;if(e!==void 0)return e;Iy(t,"Injector")}var SN={},lc=SN,vg="__NG_DI_FLAG__",Gd="ngTempTokenPath",EN="ngTokenPath",xN=/\n/gm,IN="\u0275",Lw="__source",Ca;function MN(){return Ca}function zi(t){let e=Ca;return Ca=t,e}function TN(t,e=Le.Default){if(Ca===void 0)throw new ae(-203,!1);return Ca===null?T_(t,void 0,e):Ca.get(t,e&Le.Optional?null:void 0,e)}function Ve(t,e=Le.Default){return(M_()||TN)(nn(t),e)}function V(t,e=Le.Default){return Ve(t,gf(e))}function gf(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Cg(t){let e=[];for(let n=0;n<t.length;n++){let r=nn(t[n]);if(Array.isArray(r)){if(r.length===0)throw new ae(900,!1);let i,o=Le.Default;for(let s=0;s<r.length;s++){let a=r[s],l=AN(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(Ve(i,o))}else e.push(Ve(r))}return e}function A_(t,e){return t[vg]=e,t.prototype[vg]=e,t}function AN(t){return t[vg]}function kN(t,e,n,r){let i=t[Gd];throw e[Lw]&&i.unshift(e[Lw]),t.message=NN(`
`+t.message,i,n,r),t[EN]=i,t[Gd]=null,t}function NN(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==IN?t.slice(2):t;let i=rn(e);if(Array.isArray(e))i=e.map(rn).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):rn(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(xN,`
  `)}`}var yf=A_(__("Optional"),8);var My=A_(__("SkipSelf"),4);function Go(t,e){let n=t.hasOwnProperty(Wd);return n?t[Wd]:null}function ON(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function RN(t){return t.flat(Number.POSITIVE_INFINITY)}function Ty(t,e){t.forEach(n=>Array.isArray(n)?Ty(n,e):e(n))}function k_(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function qd(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function PN(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function FN(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function Ay(t,e,n){let r=vc(t,e);return r>=0?t[r|1]=n:(r=~r,FN(t,r,e,n)),r}function tg(t,e){let n=vc(t,e);if(n>=0)return t[n|1]}function vc(t,e){return LN(t,e,1)}function LN(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var wa={},mn=[],_a=new _e(""),N_=new _e("",-1),O_=new _e(""),Kd=class{get(e,n=lc){if(n===lc){let r=new Error(`NullInjectorError: No provider for ${rn(e)}!`);throw r.name="NullInjectorError",r}return n}},R_=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(R_||{}),Dr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Dr||{}),Da=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Da||{});function VN(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function bg(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];jN(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function BN(t){return t===3||t===4||t===6}function jN(t){return t.charCodeAt(0)===64}function cc(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Vw(t,n,i,null,e[++r]):Vw(t,n,i,null,null))}}return t}function Vw(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var P_="ng-template";function HN(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&VN(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(ky(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function ky(t){return t.type===4&&t.value!==P_}function zN(t,e,n){let r=t.type===4&&!n?P_:t.value;return e===r}function UN(t,e,n){let r=4,i=t.attrs,o=i!==null?GN(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!Yn(r)&&!Yn(l))return!1;if(s&&Yn(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!zN(t,l,n)||l===""&&e.length===1){if(Yn(r))return!1;s=!0}}else if(r&8){if(i===null||!HN(t,i,l,n)){if(Yn(r))return!1;s=!0}}else{let d=e[++a],f=$N(l,i,ky(t),n);if(f===-1){if(Yn(r))return!1;s=!0;continue}if(d!==""){let m;if(f>o?m="":m=i[f+1].toLowerCase(),r&2&&d!==m){if(Yn(r))return!1;s=!0}}}}return Yn(r)||s}function Yn(t){return(t&1)===0}function $N(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return qN(e,t)}function F_(t,e,n=!1){for(let r=0;r<e.length;r++)if(UN(t,e[r],n))return!0;return!1}function WN(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function GN(t){for(let e=0;e<t.length;e++){let n=t[e];if(BN(n))return e}return t.length}function qN(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function KN(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function Bw(t,e){return t?":not("+e.trim()+")":e}function ZN(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Yn(s)&&(e+=Bw(o,i),i=""),r=s,o=o||!Yn(r);n++}return i!==""&&(e+=Bw(o,i)),e}function YN(t){return t.map(ZN).join(",")}function JN(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Yn(i))break;i=o}r++}return{attrs:e,classes:n}}function Fe(t){return yc(()=>{let e=H_(t),n=Pe(Z({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===R_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Dr.Emulated,styles:t.styles||mn,_:null,schemas:t.schemas||null,tView:null,id:""});z_(n);let r=t.dependencies;return n.directiveDefs=Hw(r,!1),n.pipeDefs=Hw(r,!0),n.id=eO(n),n})}function QN(t){return Wi(t)||L_(t)}function XN(t){return t!==null}function tr(t){return yc(()=>({type:t.type,bootstrap:t.bootstrap||mn,declarations:t.declarations||mn,imports:t.imports||mn,exports:t.exports||mn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function jw(t,e){if(t==null)return wa;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=Da.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==Da.None?[r,a]:r,e[o]=s):n[o]=r}return n}function St(t){return yc(()=>{let e=H_(t);return z_(e),e})}function Cc(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Wi(t){return t[vN]||null}function L_(t){return t[CN]||null}function V_(t){return t[bN]||null}function B_(t){let e=Wi(t)||L_(t)||V_(t);return e!==null?e.standalone:!1}function j_(t,e){let n=t[wN]||null;if(!n&&e===!0)throw new Error(`Type ${rn(t)} does not have '\u0275mod' property.`);return n}function H_(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||wa,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||mn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:jw(t.inputs,e),outputs:jw(t.outputs),debugInfo:null}}function z_(t){t.features?.forEach(e=>e(t))}function Hw(t,e){if(!t)return null;let n=e?V_:QN;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(XN)}function eO(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function vf(t){return{\u0275providers:t}}function tO(...t){return{\u0275providers:U_(!0,t),\u0275fromNgModule:!0}}function U_(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Ty(e,s=>{let a=s;wg(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&$_(i,o),n}function $_(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Ny(i,o=>{e(o,r)})}}function wg(t,e,n,r){if(t=nn(t),!t)return!1;let i=null,o=Rw(t),s=!o&&Wi(t);if(!o&&!s){let l=t.ngModule;if(o=Rw(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of l)wg(d,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let d;try{Ty(o.imports,f=>{wg(f,e,n,r)&&(d||=[],d.push(f))})}finally{}d!==void 0&&$_(d,e)}if(!a){let d=Go(i)||(()=>new i);e({provide:i,useFactory:d,deps:mn},i),e({provide:O_,useValue:i,multi:!0},i),e({provide:_a,useValue:()=>Ve(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let d=t;Ny(l,f=>{e(f,d)})}}else return!1;return i!==t&&t.providers!==void 0}function Ny(t,e){for(let n of t)I_(n)&&(n=n.\u0275providers),Array.isArray(n)?Ny(n,e):e(n)}var nO=it({provide:String,useValue:it});function W_(t){return t!==null&&typeof t=="object"&&nO in t}function rO(t){return!!(t&&t.useExisting)}function iO(t){return!!(t&&t.useFactory)}function Sa(t){return typeof t=="function"}function oO(t){return!!t.useClass}var Cf=new _e(""),Bd={},sO={},ng;function bf(){return ng===void 0&&(ng=new Kd),ng}var On=class{},uc=class extends On{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Dg(e,s=>this.processProvider(s)),this.records.set(N_,ga(void 0,this)),i.has("environment")&&this.records.set(On,ga(void 0,this));let o=this.records.get(Cf);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(O_,mn,Le.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=He(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),He(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=zi(this),r=hn(void 0),i;try{return e()}finally{zi(n),hn(r)}}get(e,n=lc,r=Le.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Fw))return e[Fw](this);r=gf(r);let i,o=zi(this),s=hn(void 0);try{if(!(r&Le.SkipSelf)){let l=this.records.get(e);if(l===void 0){let d=dO(e)&&mf(e);d&&this.injectableDefInScope(d)?l=ga(_g(e),Bd):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=r&Le.Self?bf():this.parent;return n=r&Le.Optional&&n===lc?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Gd]=a[Gd]||[]).unshift(rn(e)),o)throw a;return kN(a,e,"R3InjectorError",this.source)}else throw a}finally{hn(s),zi(o)}}resolveInjectorInitializers(){let e=He(null),n=zi(this),r=hn(void 0),i;try{let o=this.get(_a,mn,Le.Self);for(let s of o)s()}finally{zi(n),hn(r),He(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(rn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ae(205,!1)}processProvider(e){e=nn(e);let n=Sa(e)?e:nn(e&&e.provide),r=lO(e);if(!Sa(e)&&e.multi===!0){let i=this.records.get(n);i||(i=ga(void 0,Bd,!0),i.factory=()=>Cg(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=He(null);try{return n.value===Bd&&(n.value=sO,n.value=n.factory()),typeof n.value=="object"&&n.value&&uO(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{He(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=nn(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function _g(t){let e=mf(t),n=e!==null?e.factory:Go(t);if(n!==null)return n;if(t instanceof _e)throw new ae(204,!1);if(t instanceof Function)return aO(t);throw new ae(204,!1)}function aO(t){if(t.length>0)throw new ae(204,!1);let n=gN(t);return n!==null?()=>n.factory(t):()=>new t}function lO(t){if(W_(t))return ga(void 0,t.useValue);{let e=G_(t);return ga(e,Bd)}}function G_(t,e,n){let r;if(Sa(t)){let i=nn(t);return Go(i)||_g(i)}else if(W_(t))r=()=>nn(t.useValue);else if(iO(t))r=()=>t.useFactory(...Cg(t.deps||[]));else if(rO(t))r=()=>Ve(nn(t.useExisting));else{let i=nn(t&&(t.useClass||t.provide));if(cO(t))r=()=>new i(...Cg(t.deps));else return Go(i)||_g(i)}return r}function ga(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function cO(t){return!!t.deps}function uO(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function dO(t){return typeof t=="function"||typeof t=="object"&&t instanceof _e}function Dg(t,e){for(let n of t)Array.isArray(n)?Dg(n,e):n&&I_(n)?Dg(n.\u0275providers,e):e(n)}function ni(t,e){t instanceof uc&&t.assertNotDestroyed();let n,r=zi(t),i=hn(void 0);try{return e()}finally{zi(r),hn(i)}}function fO(){return M_()!==void 0||MN()!=null}function pO(t){return typeof t=="function"}var ri=0,Ie=1,Ee=2,Kt=3,Qn=4,gn=5,Ea=6,Zd=7,Gt=8,xa=9,Sr=10,dt=11,dc=12,zw=13,Ra=14,Dn=15,qo=16,ya=17,Xr=18,wf=19,q_=20,Ui=21,rg=22,Nn=23,Zt=25,K_=1;var Ko=7,Yd=8,Ia=9,qt=10,Jd=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Jd||{});function $i(t){return Array.isArray(t)&&typeof t[K_]=="object"}function ii(t){return Array.isArray(t)&&t[K_]===!0}function Oy(t){return(t.flags&4)!==0}function _f(t){return t.componentOffset>-1}function Df(t){return(t.flags&1)===1}function Gi(t){return!!t.template}function Sg(t){return(t[Ee]&512)!==0}var Eg=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Z_(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function nr(){return Y_}function Y_(t){return t.type.prototype.ngOnChanges&&(t.setInput=mO),hO}nr.ngInherit=!0;function hO(){let t=Q_(this),e=t?.current;if(e){let n=t.previous;if(n===wa)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function mO(t,e,n,r,i){let o=this.declaredInputs[r],s=Q_(t)||gO(t,{previous:wa,current:null}),a=s.current||(s.current={}),l=s.previous,d=l[o];a[o]=new Eg(d&&d.currentValue,n,l===wa),Z_(t,e,i,n)}var J_="__ngSimpleChanges__";function Q_(t){return t[J_]||null}function gO(t,e){return t[J_]=e}var Uw=null;var wr=function(t,e,n){Uw?.(t,e,n)},X_="svg",yO="math";function Er(t){for(;Array.isArray(t);)t=t[ri];return t}function eD(t,e){return Er(e[t])}function Rn(t,e){return Er(e[t.index])}function Ry(t,e){return t.data[e]}function vO(t,e){return t[e]}function Yi(t,e){let n=e[t];return $i(n)?n:n[ri]}function CO(t){return(t[Ee]&4)===4}function Py(t){return(t[Ee]&128)===128}function bO(t){return ii(t[Kt])}function qi(t,e){return e==null?null:t[e]}function tD(t){t[ya]=0}function nD(t){t[Ee]&1024||(t[Ee]|=1024,Py(t)&&Sf(t))}function wO(t,e){for(;t>0;)e=e[Ra],t--;return e}function fc(t){return!!(t[Ee]&9216||t[Nn]?.dirty)}function xg(t){t[Sr].changeDetectionScheduler?.notify(7),t[Ee]&64&&(t[Ee]|=1024),fc(t)&&Sf(t)}function Sf(t){t[Sr].changeDetectionScheduler?.notify(0);let e=Zo(t);for(;e!==null&&!(e[Ee]&8192||(e[Ee]|=8192,!Py(e)));)e=Zo(e)}function rD(t,e){if((t[Ee]&256)===256)throw new ae(911,!1);t[Ui]===null&&(t[Ui]=[]),t[Ui].push(e)}function _O(t,e){if(t[Ui]===null)return;let n=t[Ui].indexOf(e);n!==-1&&t[Ui].splice(n,1)}function Zo(t){let e=t[Kt];return ii(e)?e[Kt]:e}var ke={lFrame:fD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var iD=!1;function DO(){return ke.lFrame.elementDepthCount}function SO(){ke.lFrame.elementDepthCount++}function EO(){ke.lFrame.elementDepthCount--}function oD(){return ke.bindingsEnabled}function sD(){return ke.skipHydrationRootTNode!==null}function xO(t){return ke.skipHydrationRootTNode===t}function IO(){ke.skipHydrationRootTNode=null}function Ne(){return ke.lFrame.lView}function mt(){return ke.lFrame.tView}function ot(t){return ke.lFrame.contextLView=t,t[Gt]}function st(t){return ke.lFrame.contextLView=null,t}function on(){let t=aD();for(;t!==null&&t.type===64;)t=t.parent;return t}function aD(){return ke.lFrame.currentTNode}function MO(){let t=ke.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ns(t,e){let n=ke.lFrame;n.currentTNode=t,n.isParent=e}function Fy(){return ke.lFrame.isParent}function Ly(){ke.lFrame.isParent=!1}function lD(){return iD}function $w(t){iD=t}function Vy(){let t=ke.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function TO(){return ke.lFrame.bindingIndex}function AO(t){return ke.lFrame.bindingIndex=t}function Pa(){return ke.lFrame.bindingIndex++}function By(t){let e=ke.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function kO(){return ke.lFrame.inI18n}function NO(t,e){let n=ke.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ig(e)}function OO(){return ke.lFrame.currentDirectiveIndex}function Ig(t){ke.lFrame.currentDirectiveIndex=t}function RO(t){let e=ke.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function cD(){return ke.lFrame.currentQueryIndex}function jy(t){ke.lFrame.currentQueryIndex=t}function PO(t){let e=t[Ie];return e.type===2?e.declTNode:e.type===1?t[gn]:null}function uD(t,e,n){if(n&Le.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&Le.Host);)if(i=PO(o),i===null||(o=o[Ra],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ke.lFrame=dD();return r.currentTNode=e,r.lView=t,!0}function Hy(t){let e=dD(),n=t[Ie];ke.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function dD(){let t=ke.lFrame,e=t===null?null:t.child;return e===null?fD(t):e}function fD(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function pD(){let t=ke.lFrame;return ke.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var hD=pD;function zy(){let t=pD();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function FO(t){return(ke.lFrame.contextLView=wO(t,ke.lFrame.contextLView))[Gt]}function oi(){return ke.lFrame.selectedIndex}function Yo(t){ke.lFrame.selectedIndex=t}function Uy(){let t=ke.lFrame;return Ry(t.tView,t.selectedIndex)}function Tr(){ke.lFrame.currentNamespace=X_}function Ar(){LO()}function LO(){ke.lFrame.currentNamespace=null}function VO(){return ke.lFrame.currentNamespace}var mD=!0;function Ef(){return mD}function xf(t){mD=t}function BO(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Y_(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function If(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:d,ngOnDestroy:f}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),d&&((t.viewHooks??=[]).push(n,d),(t.viewCheckHooks??=[]).push(n,d)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function jd(t,e,n){gD(t,e,3,n)}function Hd(t,e,n,r){(t[Ee]&3)===n&&gD(t,e,n,r)}function ig(t,e){let n=t[Ee];(n&3)===e&&(n&=16383,n+=1,t[Ee]=n)}function gD(t,e,n,r){let i=r!==void 0?t[ya]&65535:0,o=r??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(t[ya]+=65536),(a<o||o==-1)&&(jO(t,n,e,l),t[ya]=(t[ya]&4294901760)+l+2),l++}function Ww(t,e){wr(4,t,e);let n=He(null);try{e.call(t)}finally{He(n),wr(5,t,e)}}function jO(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[Ee]>>14<t[ya]>>16&&(t[Ee]&3)===e&&(t[Ee]+=16384,Ww(a,o)):Ww(a,o)}var ba=-1,Jo=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function HO(t){return t instanceof Jo}function zO(t){return(t.flags&8)!==0}function UO(t){return(t.flags&16)!==0}function yD(t){return t!==ba}function Qd(t){return t&32767}function $O(t){return t>>16}function Xd(t,e){let n=$O(t),r=e;for(;n>0;)r=r[Ra],n--;return r}var Mg=!0;function ef(t){let e=Mg;return Mg=t,e}var WO=256,vD=WO-1,CD=5,GO=0,_r={};function qO(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ac)&&(r=n[ac]),r==null&&(r=n[ac]=GO++);let i=r&vD,o=1<<i;e.data[t+(i>>CD)]|=o}function tf(t,e){let n=bD(t,e);if(n!==-1)return n;let r=e[Ie];r.firstCreatePass&&(t.injectorIndex=e.length,og(r.data,t),og(e,null),og(r.blueprint,null));let i=$y(t,e),o=t.injectorIndex;if(yD(i)){let s=Qd(i),a=Xd(i,e),l=a[Ie].data;for(let d=0;d<8;d++)e[o+d]=a[s+d]|l[s+d]}return e[o+8]=i,o}function og(t,e){t.push(0,0,0,0,0,0,0,0,e)}function bD(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function $y(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=ED(i),r===null)return ba;if(n++,i=i[Ra],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ba}function Tg(t,e,n){qO(t,e,n)}function wD(t,e,n){if(n&Le.Optional||t!==void 0)return t;Iy(e,"NodeInjector")}function _D(t,e,n,r){if(n&Le.Optional&&r===void 0&&(r=null),!(n&(Le.Self|Le.Host))){let i=t[xa],o=hn(void 0);try{return i?i.get(e,r,n&Le.Optional):T_(e,r,n&Le.Optional)}finally{hn(o)}}return wD(r,e,n)}function DD(t,e,n,r=Le.Default,i){if(t!==null){if(e[Ee]&2048&&!(r&Le.Self)){let s=JO(t,e,n,r,_r);if(s!==_r)return s}let o=SD(t,e,n,r,_r);if(o!==_r)return o}return _D(e,n,r,i)}function SD(t,e,n,r,i){let o=ZO(n);if(typeof o=="function"){if(!uD(e,t,r))return r&Le.Host?wD(i,n,r):_D(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&Le.Optional))Iy(n);else return s}finally{hD()}}else if(typeof o=="number"){let s=null,a=bD(t,e),l=ba,d=r&Le.Host?e[Dn][gn]:null;for((a===-1||r&Le.SkipSelf)&&(l=a===-1?$y(t,e):e[a+8],l===ba||!qw(r,!1)?a=-1:(s=e[Ie],a=Qd(l),e=Xd(l,e)));a!==-1;){let f=e[Ie];if(Gw(o,a,f.data)){let m=KO(a,e,n,s,r,d);if(m!==_r)return m}l=e[a+8],l!==ba&&qw(r,e[Ie].data[a+8]===d)&&Gw(o,a,e)?(s=f,a=Qd(l),e=Xd(l,e)):a=-1}}return i}function KO(t,e,n,r,i,o){let s=e[Ie],a=s.data[t+8],l=r==null?_f(a)&&Mg:r!=s&&(a.type&3)!==0,d=i&Le.Host&&o===a,f=zd(a,s,n,l,d);return f!==null?Qo(e,s,f,a):_r}function zd(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,l=t.directiveStart,d=t.directiveEnd,f=o>>20,m=r?a:a+f,y=i?a+f:d;for(let v=m;v<y;v++){let b=s[v];if(v<l&&n===b||v>=l&&b.type===n)return v}if(i){let v=s[l];if(v&&Gi(v)&&v.type===n)return l}return null}function Qo(t,e,n,r){let i=t[n],o=e.data;if(HO(i)){let s=i;s.resolving&&DN(_N(o[n]));let a=ef(s.canSeeViewProviders);s.resolving=!0;let l,d=s.injectImpl?hn(s.injectImpl):null,f=uD(t,r,Le.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&BO(n,o[n],e)}finally{d!==null&&hn(d),ef(a),s.resolving=!1,hD()}}return i}function ZO(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ac)?t[ac]:void 0;return typeof e=="number"?e>=0?e&vD:YO:e}function Gw(t,e,n){let r=1<<t;return!!(n[e+(t>>CD)]&r)}function qw(t,e){return!(t&Le.Self)&&!(t&Le.Host&&e)}var Uo=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return DD(this._tNode,this._lView,e,gf(r),n)}};function YO(){return new Uo(on(),Ne())}function Fa(t){return yc(()=>{let e=t.prototype.constructor,n=e[Wd]||Ag(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Wd]||Ag(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Ag(t){return D_(t)?()=>{let e=Ag(nn(t));return e&&e()}:Go(t)}function JO(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[Ee]&2048&&!(s[Ee]&512);){let a=SD(o,s,n,r|Le.Self,_r);if(a!==_r)return a;let l=o.parent;if(!l){let d=s[q_];if(d){let f=d.get(n,_r,r);if(f!==_r)return f}l=ED(s),s=s[Ra]}o=l}return i}function ED(t){let e=t[Ie],n=e.type;return n===2?e.declTNode:n===1?t[gn]:null}function Kw(t,e=null,n=null,r){let i=xD(t,e,n,r);return i.resolveInjectorInitializers(),i}function xD(t,e=null,n=null,r,i=new Set){let o=[n||mn,tO(t)];return r=r||(typeof t=="object"?void 0:rn(t)),new uc(o,e||bf(),r||null,i)}var zo=class zo{static create(e,n){if(Array.isArray(e))return Kw({name:""},n,e,"");{let r=e.name??"";return Kw({name:r},e.parent,e.providers,r)}}};zo.THROW_IF_NOT_FOUND=lc,zo.NULL=new Kd,zo.\u0275prov=U({token:zo,providedIn:"any",factory:()=>Ve(N_)}),zo.__NG_ELEMENT_ID__=-1;var xr=zo;var QO=new _e("");QO.__NG_ELEMENT_ID__=t=>{let e=on();if(e===null)throw new ae(204,!1);if(e.type&2)return e.value;if(t&Le.Optional)return null;throw new ae(204,!1)};var XO="ngOriginalError";function sg(t){return t[XO]}var ei=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&sg(e);for(;n&&sg(n);)n=sg(n);return n||null}},ID=new _e("",{providedIn:"root",factory:()=>V(ei).handleError.bind(void 0)}),MD=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=eR,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),kg=class extends MD{constructor(e){super(),this._lView=e}onDestroy(e){return rD(this._lView,e),()=>_O(this._lView,e)}};function eR(){return new kg(Ne())}function tR(){return La(on(),Ne())}function La(t,e){return new Tt(Rn(t,e))}var Tt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=tR;let t=e;return t})();function nR(t){return t instanceof Tt?t.nativeElement:t}var Va=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Lt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=U({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var Ng=class extends at{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,fO()&&(this.destroyRef=V(MD,{optional:!0})??void 0,this.pendingTasks=V(Va,{optional:!0})??void 0)}emit(e){let n=He(null);try{super.next(e)}finally{He(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof yt&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},We=Ng;function rR(){return this._results[Symbol.iterator]()}var Og=class t{get changes(){return this._changes??=new We}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=rR)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=RN(e);(this._changesDetected=!ON(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function TD(t){return(t.flags&128)===128}var AD=new Map,iR=0;function oR(){return iR++}function sR(t){AD.set(t[wf],t)}function aR(t){AD.delete(t[wf])}var Zw="__ngContext__";function Ki(t,e){$i(e)?(t[Zw]=e[wf],sR(e)):t[Zw]=e}function kD(t){return OD(t[dc])}function ND(t){return OD(t[Qn])}function OD(t){for(;t!==null&&!ii(t);)t=t[Qn];return t}var Rg;function RD(t){Rg=t}function PD(){if(Rg!==void 0)return Rg;if(typeof document<"u")return document;throw new ae(210,!1)}var Wy=new _e("",{providedIn:"root",factory:()=>lR}),lR="ng",Gy=new _e(""),Ba=new _e("",{providedIn:"platform",factory:()=>"unknown"});var qy=new _e("",{providedIn:"root",factory:()=>PD().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var cR="h",uR="b";var dR=()=>null;function Ky(t,e,n=!1){return dR(t,e,n)}var FD=!1,fR=new _e("",{providedIn:"root",factory:()=>FD});var Rd;function pR(){if(Rd===void 0&&(Rd=null,$o.trustedTypes))try{Rd=$o.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Rd}function Mf(t){return pR()?.createHTML(t)||t}var Pd;function hR(){if(Pd===void 0&&(Pd=null,$o.trustedTypes))try{Pd=$o.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Pd}function Yw(t){return hR()?.createHTML(t)||t}var ti=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${w_})`}},Pg=class extends ti{getTypeName(){return"HTML"}},Fg=class extends ti{getTypeName(){return"Style"}},Lg=class extends ti{getTypeName(){return"Script"}},Vg=class extends ti{getTypeName(){return"URL"}},Bg=class extends ti{getTypeName(){return"ResourceURL"}};function rr(t){return t instanceof ti?t.changingThisBreaksApplicationSecurity:t}function Ji(t,e){let n=mR(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${w_})`)}return n===e}function mR(t){return t instanceof ti&&t.getTypeName()||null}function LD(t){return new Pg(t)}function VD(t){return new Fg(t)}function BD(t){return new Lg(t)}function jD(t){return new Vg(t)}function HD(t){return new Bg(t)}function gR(t){let e=new Hg(t);return yR()?new jg(e):e}var jg=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(Mf(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},Hg=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=Mf(e),n}};function yR(){try{return!!new window.DOMParser().parseFromString(Mf(""),"text/html")}catch{return!1}}var vR=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Tf(t){return t=String(t),t.match(vR)?t:"unsafe:"+t}function si(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function bc(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var zD=si("area,br,col,hr,img,wbr"),UD=si("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$D=si("rp,rt"),CR=bc($D,UD),bR=bc(UD,si("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),wR=bc($D,si("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Jw=bc(zD,bR,wR,CR),WD=si("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),_R=si("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),DR=si("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),SR=bc(WD,_R,DR),ER=si("script,style,template"),zg=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=MR(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let o=IR(n);if(o){n=o;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=Qw(e).toLowerCase();if(!Jw.hasOwnProperty(n))return this.sanitizedSomething=!0,!ER.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!SR.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;WD[a]&&(l=Tf(l)),this.buf.push(" ",s,'="',Xw(l),'"')}return this.buf.push(">"),!0}endElement(e){let n=Qw(e).toLowerCase();Jw.hasOwnProperty(n)&&!zD.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(Xw(e))}};function xR(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function IR(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw GD(e);return e}function MR(t){let e=t.firstChild;if(e&&xR(t,e))throw GD(e);return e}function Qw(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function GD(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var TR=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,AR=/([^\#-~ |!])/g;function Xw(t){return t.replace(/&/g,"&amp;").replace(TR,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(AR,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Fd;function Zy(t,e){let n=null;try{Fd=Fd||gR(t);let r=e?String(e):"";n=Fd.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Fd.getInertBodyElement(r)}while(r!==o);let a=new zg().sanitizeChildren(e_(n)||n);return Mf(a)}finally{if(n){let r=e_(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function e_(t){return"content"in t&&kR(t)?t.content:null}function kR(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var kr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(kr||{});function ja(t){let e=KD();return e?Yw(e.sanitize(kr.HTML,t)||""):Ji(t,"HTML")?Yw(rr(t)):Zy(PD(),Wo(t))}function qD(t){let e=KD();return e?e.sanitize(kr.URL,t)||"":Ji(t,"URL")?rr(t):Tf(Wo(t))}function KD(){let t=Ne();return t&&t[Sr].sanitizer}var NR=/^>|^->|<!--|-->|--!>|<!-$/g,OR=/(<|>)/g,RR="\u200B$1\u200B";function PR(t){return t.replace(NR,e=>e.replace(OR,RR))}function wc(t){return t.ownerDocument}function ZD(t){return t instanceof Function?t():t}var Ir=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ir||{}),FR;function Yy(t,e){return FR(t,e)}function va(t,e,n,r,i){if(r!=null){let o,s=!1;ii(r)?o=r:$i(r)&&(s=!0,r=r[ri]);let a=Er(r);t===0&&n!==null?i==null?eS(e,n,a):nf(e,n,a,i||null,!0):t===1&&n!==null?nf(e,n,a,i||null,!0):t===2?JR(e,a,s):t===3&&e.destroyNode(a),o!=null&&XR(e,t,o,n,i)}}function LR(t,e){return t.createText(e)}function VR(t,e,n){t.setValue(e,n)}function BR(t,e){return t.createComment(PR(e))}function YD(t,e,n){return t.createElement(e,n)}function jR(t,e){JD(t,e),e[ri]=null,e[gn]=null}function HR(t,e,n,r,i,o){r[ri]=i,r[gn]=e,Nf(t,r,n,1,i,o)}function JD(t,e){e[Sr].changeDetectionScheduler?.notify(8),Nf(t,e,e[dt],2,null,null)}function zR(t){let e=t[dc];if(!e)return ag(t[Ie],t);for(;e;){let n=null;if($i(e))n=e[dc];else{let r=e[qt];r&&(n=r)}if(!n){for(;e&&!e[Qn]&&e!==t;)$i(e)&&ag(e[Ie],e),e=e[Kt];e===null&&(e=t),$i(e)&&ag(e[Ie],e),n=e&&e[Qn]}e=n}}function UR(t,e,n,r){let i=qt+r,o=n.length;r>0&&(n[i-1][Qn]=e),r<o-qt?(e[Qn]=n[i],k_(n,qt+r,e)):(n.push(e),e[Qn]=null),e[Kt]=n;let s=e[qo];s!==null&&n!==s&&QD(s,e);let a=e[Xr];a!==null&&a.insertView(t),xg(e),e[Ee]|=128}function QD(t,e){let n=t[Ia],r=e[Kt];if($i(r))t[Ee]|=Jd.HasTransplantedViews;else{let i=r[Kt][Dn];e[Dn]!==i&&(t[Ee]|=Jd.HasTransplantedViews)}n===null?t[Ia]=[e]:n.push(e)}function Jy(t,e){let n=t[Ia],r=n.indexOf(e);n.splice(r,1)}function pc(t,e){if(t.length<=qt)return;let n=qt+e,r=t[n];if(r){let i=r[qo];i!==null&&i!==t&&Jy(i,r),e>0&&(t[n-1][Qn]=r[Qn]);let o=qd(t,qt+e);jR(r[Ie],r);let s=o[Xr];s!==null&&s.detachView(o[Ie]),r[Kt]=null,r[Qn]=null,r[Ee]&=-129}return r}function Af(t,e){if(!(e[Ee]&256)){let n=e[dt];n.destroyNode&&Nf(t,e,n,3,null,null),zR(e)}}function ag(t,e){if(e[Ee]&256)return;let n=He(null);try{e[Ee]&=-129,e[Ee]|=256,e[Nn]&&Fm(e[Nn]),WR(t,e),$R(t,e),e[Ie].type===1&&e[dt].destroy();let r=e[qo];if(r!==null&&ii(e[Kt])){r!==e[Kt]&&Jy(r,e);let i=e[Xr];i!==null&&i.detachView(t)}aR(e)}finally{He(n)}}function $R(t,e){let n=t.cleanup,r=e[Zd];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Zd]=null);let i=e[Ui];if(i!==null){e[Ui]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function WR(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Jo)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];wr(4,a,l);try{l.call(a)}finally{wr(5,a,l)}}else{wr(4,i,o);try{o.call(i)}finally{wr(5,i,o)}}}}}function XD(t,e,n){return GR(t,e.parent,n)}function GR(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[ri];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Dr.None||o===Dr.Emulated)return null}return Rn(r,n)}}function nf(t,e,n,r,i){t.insertBefore(e,n,r,i)}function eS(t,e,n){t.appendChild(e,n)}function t_(t,e,n,r,i){r!==null?nf(t,e,n,r,i):eS(t,e,n)}function qR(t,e,n,r){t.removeChild(e,n,r)}function Qy(t,e){return t.parentNode(e)}function KR(t,e){return t.nextSibling(e)}function tS(t,e,n){return YR(t,e,n)}function ZR(t,e,n){return t.type&40?Rn(t,n):null}var YR=ZR,n_;function kf(t,e,n,r){let i=XD(t,r,e),o=e[dt],s=r.parent||e[gn],a=tS(s,r,e);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)t_(o,i,n[l],a,!1);else t_(o,i,n,a,!1);n_!==void 0&&n_(o,r,e,n,i)}function Ud(t,e){if(e!==null){let n=e.type;if(n&3)return Rn(e,t);if(n&4)return Ug(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ud(t,r);{let i=t[e.index];return ii(i)?Ug(-1,i):Er(i)}}else{if(n&32)return Yy(e,t)()||Er(t[e.index]);{let r=nS(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Zo(t[Dn]);return Ud(i,r)}else return Ud(t,e.next)}}}return null}function nS(t,e){if(e!==null){let r=t[Dn][gn],i=e.projection;return r.projection[i]}return null}function Ug(t,e){let n=qt+t+1;if(n<e.length){let r=e[n],i=r[Ie].firstChild;if(i!==null)return Ud(r,i)}return e[Ko]}function JR(t,e,n){let r=Qy(t,e);r&&qR(t,r,e,n)}function Xy(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],l=n.type;if(s&&e===0&&(a&&Ki(Er(a),r),n.flags|=2),(n.flags&32)!==32)if(l&8)Xy(t,e,n.child,r,i,o,!1),va(e,t,i,a,o);else if(l&32){let d=Yy(n,r),f;for(;f=d();)va(e,t,i,f,o);va(e,t,i,a,o)}else l&16?rS(t,e,r,n,i,o):va(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Nf(t,e,n,r,i,o){Xy(n,r,t.firstChild,e,i,o,!1)}function QR(t,e,n){let r=e[dt],i=XD(t,n,e),o=n.parent||e[gn],s=tS(o,n,e);rS(r,0,e,n,i,s)}function rS(t,e,n,r,i,o){let s=n[Dn],l=s[gn].projection[r.projection];if(Array.isArray(l))for(let d=0;d<l.length;d++){let f=l[d];va(e,t,i,f,o)}else{let d=l,f=s[Kt];TD(r)&&(d.flags|=128),Xy(t,e,d,f,i,o,!0)}}function XR(t,e,n,r,i){let o=n[Ko],s=Er(n);o!==s&&va(e,t,r,o,i);for(let a=qt;a<n.length;a++){let l=n[a];Nf(l[Ie],l,t,e,r,o)}}function eP(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Ir.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Ir.Important),t.setStyle(n,r,i,o))}}function tP(t,e,n){t.setAttribute(e,"style",n)}function iS(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function oS(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&bg(t,e,r),i!==null&&iS(t,e,i),o!==null&&tP(t,e,o)}var Pn={};function A(t=1){sS(mt(),Ne(),oi()+t,!1)}function sS(t,e,n,r){if(!r)if((e[Ee]&3)===3){let o=t.preOrderCheckHooks;o!==null&&jd(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Hd(e,o,0,n)}Yo(n)}function re(t,e=Le.Default){let n=Ne();if(n===null)return Ve(t,e);let r=on();return DD(r,n,nn(t),e)}function aS(t,e,n,r,i,o){let s=He(null);try{let a=null;i&Da.SignalBased&&(a=e[r][Nm]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Da.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):Z_(e,a,r,o)}finally{He(s)}}function nP(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Yo(~i);else{let o=i,s=n[++r],a=n[++r];NO(s,o);let l=e[o];a(2,l)}}}finally{Yo(-1)}}function Of(t,e,n,r,i,o,s,a,l,d,f){let m=e.blueprint.slice();return m[ri]=i,m[Ee]=r|4|128|8|64,(d!==null||t&&t[Ee]&2048)&&(m[Ee]|=2048),tD(m),m[Kt]=m[Ra]=t,m[Gt]=n,m[Sr]=s||t&&t[Sr],m[dt]=a||t&&t[dt],m[xa]=l||t&&t[xa]||null,m[gn]=o,m[wf]=oR(),m[Ea]=f,m[q_]=d,m[Dn]=e.type==2?t[Dn]:m,m}function Ha(t,e,n,r,i){let o=t.data[e];if(o===null)o=rP(t,e,n,r,i),kO()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=MO();o.injectorIndex=s===null?-1:s.injectorIndex}return ns(o,!0),o}function rP(t,e,n,r,i){let o=aD(),s=Fy(),a=s?o:o&&o.parent,l=t.data[e]=cP(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function lS(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function cS(t,e,n,r,i){let o=oi(),s=r&2;try{Yo(-1),s&&e.length>Zt&&sS(t,e,Zt,!1),wr(s?2:0,i),n(r,i)}finally{Yo(o),wr(s?3:1,i)}}function ev(t,e,n){if(Oy(e)){let r=He(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{He(r)}}}function tv(t,e,n){oD()&&(mP(t,e,n,Rn(n,e)),(n.flags&64)===64&&pS(t,e,n))}function nv(t,e,n=Rn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function uS(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=rv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function rv(t,e,n,r,i,o,s,a,l,d,f){let m=Zt+r,y=m+i,v=iP(m,y),b=typeof d=="function"?d():d;return v[Ie]={type:t,blueprint:v,template:n,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:b,incompleteFirstPass:!1,ssrId:f}}function iP(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Pn);return n}function oP(t,e,n,r){let o=r.get(fR,FD)||n===Dr.ShadowDom,s=t.selectRootElement(e,o);return sP(s),s}function sP(t){aP(t)}var aP=()=>null;function lP(t,e,n,r){let i=gS(e);i.push(n),t.firstCreatePass&&yS(t).push(r,i.length-1)}function cP(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return sD()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function r_(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,l=Da.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let d=o;if(i!==null){if(!i.hasOwnProperty(o))continue;d=i[o]}t===0?i_(r,n,d,a,l):i_(r,n,d,a)}return r}function i_(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function uP(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],l=null,d=null;for(let f=r;f<i;f++){let m=o[f],y=n?n.get(m):null,v=y?y.inputs:null,b=y?y.outputs:null;l=r_(0,m.inputs,f,l,v),d=r_(1,m.outputs,f,d,b);let I=l!==null&&s!==null&&!ky(e)?xP(l,f,s):null;a.push(I)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=d}function dP(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function dS(t,e,n,r,i,o,s,a){let l=Rn(e,n),d=e.inputs,f;!a&&d!=null&&(f=d[r])?(ov(t,n,f,r,i),_f(e)&&fP(n,e.index)):e.type&3?(r=dP(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(l,r,i)):e.type&12}function fP(t,e){let n=Yi(e,t);n[Ee]&16||(n[Ee]|=64)}function iv(t,e,n,r){if(oD()){let i=r===null?null:{"":-1},o=yP(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&fS(t,e,n,s,i,a),i&&vP(n,r,i)}n.mergedAttrs=cc(n.mergedAttrs,n.attrs)}function fS(t,e,n,r,i,o){for(let d=0;d<r.length;d++)Tg(tf(n,e),t,r[d].type);bP(n,t.data.length,r.length);for(let d=0;d<r.length;d++){let f=r[d];f.providersResolver&&f.providersResolver(f)}let s=!1,a=!1,l=lS(t,e,r.length,null);for(let d=0;d<r.length;d++){let f=r[d];n.mergedAttrs=cc(n.mergedAttrs,f.hostAttrs),wP(t,n,e,l,f),CP(l,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let m=f.type.prototype;!s&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(m.ngOnChanges||m.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}uP(t,n,o)}function pP(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;hP(s)!=a&&s.push(a),s.push(n,r,o)}}function hP(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function mP(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;_f(n)&&_P(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||tf(n,e),Ki(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let l=t.data[a],d=Qo(e,t,a,n);if(Ki(d,e),s!==null&&EP(e,a-i,d,l,n,s),Gi(l)){let f=Yi(n.index,e);f[Gt]=Qo(e,t,a,n)}}}function pS(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=OO();try{Yo(o);for(let a=r;a<i;a++){let l=t.data[a],d=e[a];Ig(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&gP(l,d)}}finally{Yo(-1),Ig(s)}}function gP(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function yP(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(F_(e,s.selectors,!1))if(r||(r=[]),Gi(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let l=a.length;$g(t,e,l)}else r.unshift(s),$g(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function $g(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function vP(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new ae(-301,!1);r.push(e[i],o)}}}function CP(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Gi(e)&&(n[""]=t)}}function bP(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function wP(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Go(i.type,!0)),s=new Jo(o,Gi(i),re);t.blueprint[r]=s,n[r]=s,pP(t,e,r,lS(t,n,i.hostVars,Pn),i)}function _P(t,e,n){let r=Rn(e,t),i=uS(n),o=t[Sr].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Rf(t,Of(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function DP(t,e,n,r,i,o){let s=Rn(t,e);SP(e[dt],s,o,t.value,n,r,i)}function SP(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Wo(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function EP(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],d=s[a++],f=s[a++],m=s[a++];aS(r,n,l,d,f,m)}}function xP(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function hS(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function mS(t,e){let n=t.contentQueries;if(n!==null){let r=He(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];jy(o),a.contentQueries(2,e[s],s)}}}finally{He(r)}}}function Rf(t,e){return t[dc]?t[zw][Qn]=e:t[dc]=e,t[zw]=e,e}function Wg(t,e,n){jy(0);let r=He(null);try{e(t,n)}finally{He(r)}}function gS(t){return t[Zd]??=[]}function yS(t){return t.cleanup??=[]}function vS(t,e){let n=t[xa],r=n?n.get(ei,null):null;r&&r.handleError(e)}function ov(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],l=n[o++],d=e[s],f=t.data[s];aS(f,d,r,a,l,i)}}function CS(t,e,n){let r=eD(e,t);VR(t[dt],r,n)}function IP(t,e){let n=Yi(e,t),r=n[Ie];MP(r,n);let i=n[ri];i!==null&&n[Ea]===null&&(n[Ea]=Ky(i,n[xa])),sv(r,n,n[Gt])}function MP(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function sv(t,e,n){Hy(e);try{let r=t.viewQuery;r!==null&&Wg(1,r,n);let i=t.template;i!==null&&cS(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Xr]?.finishViewCreation(t),t.staticContentQueries&&mS(t,e),t.staticViewQueries&&Wg(2,t.viewQuery,n);let o=t.components;o!==null&&TP(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Ee]&=-5,zy()}}function TP(t,e){for(let n=0;n<e.length;n++)IP(t,e[n])}function _c(t,e,n,r){let i=He(null);try{let o=e.tView,a=t[Ee]&4096?4096:16,l=Of(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=t[e.index];l[qo]=d;let f=t[Xr];return f!==null&&(l[Xr]=f.createEmbeddedView(o)),sv(o,l,n),l}finally{He(i)}}function bS(t,e){let n=qt+e;if(n<t.length)return t[n]}function Ma(t,e){return!e||e.firstChild===null||TD(t)}function Dc(t,e,n,r=!0){let i=e[Ie];if(UR(i,e,t,n),r){let s=Ug(n,t),a=e[dt],l=Qy(a,t[Ko]);l!==null&&HR(i,t[gn],a,e,l,s)}let o=e[Ea];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function wS(t,e){let n=pc(t,e);return n!==void 0&&Af(n[Ie],n),n}function rf(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(Er(o)),ii(o)&&AP(o,r);let s=n.type;if(s&8)rf(t,e,n.child,r);else if(s&32){let a=Yy(n,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=nS(e,n);if(Array.isArray(a))r.push(...a);else{let l=Zo(e[Dn]);rf(l[Ie],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function AP(t,e){for(let n=qt;n<t.length;n++){let r=t[n],i=r[Ie].firstChild;i!==null&&rf(r[Ie],r,i,e)}t[Ko]!==t[ri]&&e.push(t[Ko])}var _S=[];function kP(t){return t[Nn]??NP(t)}function NP(t){let e=_S.pop()??Object.create(RP);return e.lView=t,e}function OP(t){t.lView[Nn]!==t&&(t.lView=null,_S.push(t))}var RP=Pe(Z({},Om),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Sf(t.lView)},consumerOnSignalRead(){this.lView[Nn]=this}});function PP(t){let e=t[Nn]??Object.create(FP);return e.lView=t,e}var FP=Pe(Z({},Om),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Zo(t.lView);for(;e&&!DS(e[Ie]);)e=Zo(e);e&&nD(e)},consumerOnSignalRead(){this.lView[Nn]=this}});function DS(t){return t.type!==2}var LP=100;function SS(t,e=!0,n=0){let r=t[Sr],i=r.rendererFactory,o=!1;o||i.begin?.();try{VP(t,n)}catch(s){throw e&&vS(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function VP(t,e){let n=lD();try{$w(!0),Gg(t,e);let r=0;for(;fc(t);){if(r===LP)throw new ae(103,!1);r++,Gg(t,1)}}finally{$w(n)}}function BP(t,e,n,r){let i=e[Ee];if((i&256)===256)return;let o=!1,s=!1;!o&&e[Sr].inlineEffectRunner?.flush(),Hy(e);let a=!0,l=null,d=null;o||(DS(t)?(d=kP(e),l=Rm(d)):sw()===null?(a=!1,d=PP(e),l=Rm(d)):e[Nn]&&(Fm(e[Nn]),e[Nn]=null));try{tD(e),AO(t.bindingStartIndex),n!==null&&cS(t,e,n,2,r);let f=(i&3)===3;if(!o)if(f){let v=t.preOrderCheckHooks;v!==null&&jd(e,v,null)}else{let v=t.preOrderHooks;v!==null&&Hd(e,v,0,null),ig(e,0)}if(s||jP(e),ES(e,0),t.contentQueries!==null&&mS(t,e),!o)if(f){let v=t.contentCheckHooks;v!==null&&jd(e,v)}else{let v=t.contentHooks;v!==null&&Hd(e,v,1),ig(e,1)}nP(t,e);let m=t.components;m!==null&&IS(e,m,0);let y=t.viewQuery;if(y!==null&&Wg(2,y,r),!o)if(f){let v=t.viewCheckHooks;v!==null&&jd(e,v)}else{let v=t.viewHooks;v!==null&&Hd(e,v,2),ig(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[rg]){for(let v of e[rg])v();e[rg]=null}o||(e[Ee]&=-73)}catch(f){throw o||Sf(e),f}finally{d!==null&&(aw(d,l),a&&OP(d)),zy()}}function ES(t,e){for(let n=kD(t);n!==null;n=ND(n))for(let r=qt;r<n.length;r++){let i=n[r];xS(i,e)}}function jP(t){for(let e=kD(t);e!==null;e=ND(e)){if(!(e[Ee]&Jd.HasTransplantedViews))continue;let n=e[Ia];for(let r=0;r<n.length;r++){let i=n[r];nD(i)}}}function HP(t,e,n){let r=Yi(e,t);xS(r,n)}function xS(t,e){Py(t)&&Gg(t,e)}function Gg(t,e){let r=t[Ie],i=t[Ee],o=t[Nn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Pm(o)),s||=!1,o&&(o.dirty=!1),t[Ee]&=-9217,s)BP(r,t,r.template,t[Gt]);else if(i&8192){ES(t,1);let a=r.components;a!==null&&IS(t,a,1)}}function IS(t,e,n){for(let r=0;r<e.length;r++)HP(t,e[r],n)}function av(t,e){let n=lD()?64:1088;for(t[Sr].changeDetectionScheduler?.notify(e);t;){t[Ee]|=n;let r=Zo(t);if(Sg(t)&&!r)return t;t=r}return null}var Xo=class{get rootNodes(){let e=this._lView,n=e[Ie];return rf(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Gt]}set context(e){this._lView[Gt]=e}get destroyed(){return(this._lView[Ee]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Kt];if(ii(e)){let n=e[Yd],r=n?n.indexOf(this):-1;r>-1&&(pc(e,r),qd(n,r))}this._attachedToViewContainer=!1}Af(this._lView[Ie],this._lView)}onDestroy(e){rD(this._lView,e)}markForCheck(){av(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Ee]&=-129}reattach(){xg(this._lView),this._lView[Ee]|=128}detectChanges(){this._lView[Ee]|=1024,SS(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ae(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Sg(this._lView),n=this._lView[qo];n!==null&&!e&&Jy(n,this._lView),JD(this._lView[Ie],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ae(902,!1);this._appRef=e;let n=Sg(this._lView),r=this._lView[qo];r!==null&&!n&&QD(r,this._lView),xg(this._lView)}},es=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=$P;let t=e;return t})(),zP=es,UP=class extends zP{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=_c(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Xo(i)}};function $P(){return lv(on(),Ne())}function lv(t,e){return t.type&4?new UP(e,t,La(t,e)):null}var q7=new RegExp(`^(\\d+)*(${uR}|${cR})*(.*)`);var WP=()=>null;function Ta(t,e){return WP(t,e)}var hc=class{},cv=new _e("",{providedIn:"root",factory:()=>!1});var MS=new _e(""),qg=class{},of=class{};function GP(t){let e=Error(`No component factory found for ${rn(t)}.`);return e[qP]=t,e}var qP="ngComponent";var Kg=class{resolveComponentFactory(e){throw GP(e)}},Dv=class Dv{};Dv.NULL=new Kg;var Aa=Dv,ka=class{},Nr=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>KP();let t=e;return t})();function KP(){let t=Ne(),e=on(),n=Yi(e.index,t);return($i(n)?n:t)[dt]}var ZP=(()=>{let e=class e{};e.\u0275prov=U({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),lg={};var o_=new Set;function Sc(t){o_.has(t)||(o_.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function TS(t){let e=!0;return setTimeout(()=>{e&&(e=!1,t())}),typeof $o.requestAnimationFrame=="function"&&$o.requestAnimationFrame(()=>{e&&(e=!1,t())}),()=>{e=!1}}function s_(t){let e=!0;return queueMicrotask(()=>{e&&t()}),()=>{e=!1}}function a_(...t){}var Ct=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new We(!1),this.onMicrotaskEmpty=new We(!1),this.onStable=new We(!1),this.onError=new We(!1),typeof Zone>"u")throw new ae(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.callbackScheduled=!1,QP(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new ae(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new ae(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,YP,a_,a_);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},YP={};function uv(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function JP(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{TS(()=>{t.callbackScheduled=!1,Zg(t),t.isCheckStableRunning=!0,uv(t),t.isCheckStableRunning=!1})}),Zg(t))}function QP(t){let e=()=>{JP(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(XP(a))return n.invokeTask(i,o,s,a);try{return l_(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),c_(t)}},onInvoke:(n,r,i,o,s,a,l)=>{try{return l_(t),n.invoke(i,o,s,a,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!eF(a)&&e(),c_(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Zg(t),uv(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Zg(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function l_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function c_(t){t._nesting--,uv(t)}var Yg=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new We,this.onMicrotaskEmpty=new We,this.onStable=new We,this.onError=new We}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function XP(t){return AS(t,"__ignore_ng_zone__")}function eF(t){return AS(t,"__scheduler_tick__")}function AS(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var kS=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=U({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function sf(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=gg(i,a);else if(o==2){let l=a,d=e[++s];r=gg(r,l+": "+d+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var af=class extends Aa{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Wi(e);return new Na(n,this.ngModule)}};function u_(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function tF(t){let e=t.toLowerCase();return e==="svg"?X_:e==="math"?yO:null}var Jg=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=gf(r);let i=this.injector.get(e,lg,r);return i!==lg||n===lg?i:this.parentInjector.get(e,n,r)}},Na=class extends of{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=u_(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return u_(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=YN(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=He(null);try{i=i||this.ngModule;let s=i instanceof On?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Jg(e,s):e,l=a.get(ka,null);if(l===null)throw new ae(407,!1);let d=a.get(ZP,null),f=a.get(kS,null),m=a.get(hc,null),y={rendererFactory:l,sanitizer:d,inlineEffectRunner:null,afterRenderEventManager:f,changeDetectionScheduler:m},v=l.createRenderer(null,this.componentDef),b=this.componentDef.selectors[0][0]||"div",I=r?oP(v,r,this.componentDef.encapsulation,a):YD(v,b,tF(b)),k=512;this.componentDef.signals?k|=4096:this.componentDef.onPush||(k|=16);let H=null;I!==null&&(H=Ky(I,a,!0));let ie=rv(0,null,null,1,0,null,null,null,null,null,null),me=Of(null,ie,null,k,null,null,y,v,a,null,H);Hy(me);let oe,Se;try{let ue=this.componentDef,Me,Re=null;ue.findHostDirectiveDefs?(Me=[],Re=new Map,ue.findHostDirectiveDefs(ue,Me,Re),Me.push(ue)):Me=[ue];let fe=nF(me,I),Ge=rF(fe,I,ue,Me,me,y,v);Se=Ry(ie,Zt),I&&sF(v,ue,I,r),n!==void 0&&aF(Se,this.ngContentSelectors,n),oe=oF(Ge,ue,Me,Re,me,[lF]),sv(ie,me,null)}finally{zy()}return new Qg(this.componentType,oe,La(Se,me),me,Se)}finally{He(o)}}},Qg=class extends qg{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Xo(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;ov(o[Ie],o,i,e,n),this.previousInputValues.set(e,n);let s=Yi(this._tNode.index,o);av(s,1)}}get injector(){return new Uo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function nF(t,e){let n=t[Ie],r=Zt;return t[r]=e,Ha(n,r,2,"#host",null)}function rF(t,e,n,r,i,o,s){let a=i[Ie];iF(r,t,e,s);let l=null;e!==null&&(l=Ky(e,i[xa]));let d=o.rendererFactory.createRenderer(e,n),f=16;n.signals?f=4096:n.onPush&&(f=64);let m=Of(i,uS(n),null,f,i[t.index],t,o,d,null,null,l);return a.firstCreatePass&&$g(a,t,r.length-1),Rf(i,m),i[t.index]=m}function iF(t,e,n,r){for(let i of t)e.mergedAttrs=cc(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(sf(e,e.mergedAttrs,!0),n!==null&&oS(r,n,e))}function oF(t,e,n,r,i,o){let s=on(),a=i[Ie],l=Rn(s,i);fS(a,i,s,n,null,r);for(let f=0;f<n.length;f++){let m=s.directiveStart+f,y=Qo(i,a,m,s);Ki(y,i)}pS(a,i,s),l&&Ki(l,i);let d=Qo(i,a,s.directiveStart+s.componentOffset,s);if(t[Gt]=i[Gt]=d,o!==null)for(let f of o)f(d,e);return ev(a,s,i),d}function sF(t,e,n,r){if(r)bg(t,n,["ng-version","18.0.3"]);else{let{attrs:i,classes:o}=JN(e.selectors[0]);i&&bg(t,n,i),o&&o.length>0&&iS(t,n,o.join(" "))}}function aF(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function lF(){let t=on();If(Ne()[Ie],t)}var ai=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=cF;let t=e;return t})();function cF(){let t=on();return OS(t,Ne())}var uF=ai,NS=class extends uF{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return La(this._hostTNode,this._hostLView)}get injector(){return new Uo(this._hostTNode,this._hostLView)}get parentInjector(){let e=$y(this._hostTNode,this._hostLView);if(yD(e)){let n=Xd(e,this._hostLView),r=Qd(e),i=n[Ie].data[r+8];return new Uo(i,n)}else return new Uo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=d_(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-qt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Ta(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Ma(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!pO(e),a;if(s)a=n;else{let b=n||{};a=b.index,r=b.injector,i=b.projectableNodes,o=b.environmentInjector||b.ngModuleRef}let l=s?e:new Na(Wi(e)),d=r||this.parentInjector;if(!o&&l.ngModule==null){let I=(s?d:this.parentInjector).get(On,null);I&&(o=I)}let f=Wi(l.componentType??{}),m=Ta(this._lContainer,f?.id??null),y=m?.firstChild??null,v=l.create(d,i,y,o);return this.insertImpl(v.hostView,a,Ma(this._hostTNode,m)),v}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(bO(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[Kt],d=new NS(l,l[gn],l[Kt]);d.detach(d.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return Dc(s,i,o,r),e.attachToViewContainerRef(),k_(cg(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=d_(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=pc(this._lContainer,n);r&&(qd(cg(this._lContainer),n),Af(r[Ie],r))}detach(e){let n=this._adjustIndex(e,-1),r=pc(this._lContainer,n);return r&&qd(cg(this._lContainer),n)!=null?new Xo(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function d_(t){return t[Yd]}function cg(t){return t[Yd]||(t[Yd]=[])}function OS(t,e){let n,r=e[t.index];return ii(r)?n=r:(n=hS(r,e,null,t),e[t.index]=n,Rf(e,n)),fF(n,e,t,r),new NS(n,t,e)}function dF(t,e){let n=t[dt],r=n.createComment(""),i=Rn(e,t),o=Qy(n,i);return nf(n,o,r,KR(n,i),!1),r}var fF=mF,pF=()=>!1;function hF(t,e,n){return pF(t,e,n)}function mF(t,e,n,r){if(t[Ko])return;let i;n.type&8?i=Er(r):i=dF(e,n),t[Ko]=i}var Xg=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},ey=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)dv(e,n).matches!==null&&this.queries[n].setDirty()}},ty=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=DF(e):this.predicate=e}},ny=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},ry=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,gF(n,o)),this.matchTNodeWithReadOption(e,n,zd(n,e,o,!1,!1))}else r===es?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,zd(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Tt||i===ai||i===es&&n.type&4)this.addMatch(n.index,-2);else{let o=zd(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function gF(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function yF(t,e){return t.type&11?La(t,e):t.type&4?lv(t,e):null}function vF(t,e,n,r){return n===-1?yF(e,t):n===-2?CF(t,e,r):Qo(t,t[Ie],n,e)}function CF(t,e,n){if(n===Tt)return La(e,t);if(n===es)return lv(e,t);if(n===ai)return OS(e,t)}function RS(t,e,n,r){let i=e[Xr].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let d=s[l];if(d<0)a.push(null);else{let f=o[d];a.push(vF(e,f,s[l+1],n.metadata.read))}}i.matches=a}return i.matches}function iy(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=RS(t,e,i,n);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)r.push(s[a/2]);else{let d=o[a+1],f=e[-l];for(let m=qt;m<f.length;m++){let y=f[m];y[qo]===y[Kt]&&iy(y[Ie],y,d,r)}if(f[Ia]!==null){let m=f[Ia];for(let y=0;y<m.length;y++){let v=m[y];iy(v[Ie],v,d,r)}}}}}return r}function bF(t,e){return t[Xr].queries[e].queryList}function wF(t,e,n){let r=new Og((n&4)===4);return lP(t,e,r,r.destroy),(e[Xr]??=new ey).queries.push(new Xg(r))-1}function _F(t,e,n){let r=mt();return r.firstCreatePass&&(SF(r,new ty(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),wF(r,Ne(),e)}function DF(t){return t.split(",").map(e=>e.trim())}function SF(t,e,n){t.queries===null&&(t.queries=new ny),t.queries.track(new ry(e,n))}function dv(t,e){return t.queries.getByIndex(e)}function EF(t,e){let n=t[Ie],r=dv(n,e);return r.crossesNgTemplate?iy(n,t,e,[]):RS(n,t,r,e)}function xF(t){return typeof t=="function"&&t[Nm]!==void 0}function PS(t){return xF(t)&&typeof t.set=="function"}function IF(t){return Object.getPrototypeOf(t.prototype).constructor}function Or(t){let e=IF(t.type),n=!0,r=[t];for(;e;){let i;if(Gi(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ae(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Ld(t.inputs),s.inputTransforms=Ld(t.inputTransforms),s.declaredInputs=Ld(t.declaredInputs),s.outputs=Ld(t.outputs);let a=i.hostBindings;a&&NF(t,a);let l=i.viewQuery,d=i.contentQueries;if(l&&AF(t,l),d&&kF(t,d),MF(t,i),hN(t.outputs,i.outputs),Gi(i)&&i.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Or&&(n=!1)}}e=Object.getPrototypeOf(e)}TF(r)}function MF(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function TF(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=cc(i.hostAttrs,n=cc(n,i.hostAttrs))}}function Ld(t){return t===wa?{}:t===mn?[]:t}function AF(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function kF(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function NF(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Pf(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Zi=class{},mc=class{};var oy=class extends Zi{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new af(this);let i=j_(e);this._bootstrapComponents=ZD(i.bootstrap),this._r3Injector=xD(e,n,[{provide:Zi,useValue:this},{provide:Aa,useValue:this.componentFactoryResolver},...r],rn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},sy=class extends mc{constructor(e){super(),this.moduleType=e}create(e){return new oy(this.moduleType,e,[])}};var lf=class extends Zi{constructor(e){super(),this.componentFactoryResolver=new af(this),this.instance=null;let n=new uc([...e.providers,{provide:Zi,useValue:this},{provide:Aa,useValue:this.componentFactoryResolver}],e.parent||bf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function fv(t,e,n=null){return new lf({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function FS(t){return pv(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function OF(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function pv(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function LS(t,e,n){return t[e]=n}function Xn(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function VS(t,e,n,r){let i=Xn(t,e,n);return Xn(t,e+1,r)||i}function RF(t){return(t.flags&32)===32}function PF(t,e,n,r,i,o,s,a,l){let d=e.consts,f=Ha(e,t,4,s||null,a||null);iv(e,n,f,qi(d,l)),If(e,f);let m=f.tView=rv(2,f,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return e.queries!==null&&(e.queries.template(e,f),m.queries=e.queries.embeddedTView(f)),f}function cf(t,e,n,r,i,o,s,a,l,d){let f=n+Zt,m=e.firstCreatePass?PF(f,e,t,r,i,o,s,a,l):e.data[f];ns(m,!1);let y=FF(e,t,m,n);Ef()&&kf(e,t,y,m),Ki(y,t);let v=hS(y,t,y,m);return t[f]=v,Rf(t,v),hF(v,m,t),Df(m)&&tv(e,t,m),l!=null&&nv(t,m,d),m}function tt(t,e,n,r,i,o,s,a){let l=Ne(),d=mt(),f=qi(d.consts,o);return cf(l,d,t,e,n,r,i,f,s,a),tt}var FF=LF;function LF(t,e,n,r){return xf(!0),e[dt].createComment("")}function Ec(t,e,n,r){let i=Ne(),o=Pa();if(Xn(i,o,e)){let s=mt(),a=Uy();DP(a,i,t,e,n,r)}return Ec}function VF(t,e,n,r){return Xn(t,Pa(),n)?e+Wo(n)+r:Pn}function BF(t,e,n,r,i,o){let s=TO(),a=VS(t,s,n,i);return By(2),a?e+Wo(n)+r+Wo(i)+o:Pn}function Vd(t,e){return t<<17|e<<2}function ts(t){return t>>17&32767}function jF(t){return(t&2)==2}function HF(t,e){return t&131071|e<<17}function ay(t){return t|2}function Oa(t){return(t&131068)>>2}function ug(t,e){return t&-131069|e<<2}function zF(t){return(t&1)===1}function ly(t){return t|1}function UF(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ts(s),l=Oa(s);t[r]=n;let d=!1,f;if(Array.isArray(n)){let m=n;f=m[1],(f===null||vc(m,f)>0)&&(d=!0)}else f=n;if(i)if(l!==0){let y=ts(t[a+1]);t[r+1]=Vd(y,a),y!==0&&(t[y+1]=ug(t[y+1],r)),t[a+1]=HF(t[a+1],r)}else t[r+1]=Vd(a,0),a!==0&&(t[a+1]=ug(t[a+1],r)),a=r;else t[r+1]=Vd(l,0),a===0?a=r:t[l+1]=ug(t[l+1],r),l=r;d&&(t[r+1]=ay(t[r+1])),f_(t,f,r,!0),f_(t,f,r,!1),$F(e,f,t,r,o),s=Vd(a,l),o?e.classBindings=s:e.styleBindings=s}function $F(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&vc(o,e)>=0&&(n[r+1]=ly(n[r+1]))}function f_(t,e,n,r){let i=t[n+1],o=e===null,s=r?ts(i):Oa(i),a=!1;for(;s!==0&&(a===!1||o);){let l=t[s],d=t[s+1];WF(l,e)&&(a=!0,t[s+1]=r?ly(d):ay(d)),s=r?ts(d):Oa(d)}a&&(t[n+1]=r?ay(i):ly(i))}function WF(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?vc(t,e)>=0:!1}var Jn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function GF(t){return t.substring(Jn.key,Jn.keyEnd)}function qF(t){return KF(t),BS(t,jS(t,0,Jn.textEnd))}function BS(t,e){let n=Jn.textEnd;return n===e?-1:(e=Jn.keyEnd=ZF(t,Jn.key=e,n),jS(t,e,n))}function KF(t){Jn.key=0,Jn.keyEnd=0,Jn.value=0,Jn.valueEnd=0,Jn.textEnd=t.length}function jS(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function ZF(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function $(t,e,n){let r=Ne(),i=Pa();if(Xn(r,i,e)){let o=mt(),s=Uy();dS(o,s,r,t,e,r[dt],n,!1)}return $}function cy(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";ov(t,n,o[s],s,r)}function Ff(t,e,n){return HS(t,e,n,!1),Ff}function ir(t,e){return HS(t,e,null,!0),ir}function li(t){JF(rL,YF,t,!0)}function YF(t,e){for(let n=qF(e);n>=0;n=BS(e,n))Ay(t,GF(e),!0)}function HS(t,e,n,r){let i=Ne(),o=mt(),s=By(2);if(o.firstUpdatePass&&US(o,t,s,r),e!==Pn&&Xn(i,s,e)){let a=o.data[oi()];$S(o,a,i,i[dt],t,i[s+1]=oL(e,n),r,s)}}function JF(t,e,n,r){let i=mt(),o=By(2);i.firstUpdatePass&&US(i,null,o,r);let s=Ne();if(n!==Pn&&Xn(s,o,n)){let a=i.data[oi()];if(WS(a,r)&&!zS(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(n=gg(l,n||"")),cy(i,a,s,n,r)}else iL(i,a,s,s[dt],s[o+1],s[o+1]=nL(t,e,n),r,o)}}function zS(t,e){return e>=t.expandoStartIndex}function US(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[oi()],s=zS(t,n);WS(o,r)&&e===null&&!s&&(e=!1),e=QF(i,o,e,r),UF(i,o,e,n,s,r)}}function QF(t,e,n,r){let i=RO(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=dg(null,t,e,n,r),n=gc(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=dg(i,t,e,n,r),o===null){let l=XF(t,e,r);l!==void 0&&Array.isArray(l)&&(l=dg(null,t,e,l[1],r),l=gc(l,e.attrs,r),eL(t,e,r,l))}else o=tL(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function XF(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Oa(r)!==0)return t[ts(r)]}function eL(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ts(i)]=r}function tL(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=gc(r,s,n)}return gc(r,e.attrs,n)}function dg(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=gc(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function gc(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Ay(t,s,n?!0:e[++o]))}return t===void 0?null:t}function nL(t,e,n){if(n==null||n==="")return mn;let r=[],i=rr(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function rL(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&Ay(t,r,n)}function iL(t,e,n,r,i,o,s,a){i===Pn&&(i=mn);let l=0,d=0,f=0<i.length?i[0]:null,m=0<o.length?o[0]:null;for(;f!==null||m!==null;){let y=l<i.length?i[l+1]:void 0,v=d<o.length?o[d+1]:void 0,b=null,I;f===m?(l+=2,d+=2,y!==v&&(b=m,I=v)):m===null||f!==null&&f<m?(l+=2,b=f):(d+=2,b=m,I=v),b!==null&&$S(t,e,n,r,b,I,s,a),f=l<i.length?i[l]:null,m=d<o.length?o[d]:null}}function $S(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let l=t.data,d=l[a+1],f=zF(d)?p_(l,e,n,i,Oa(d),s):void 0;if(!uf(f)){uf(o)||jF(d)&&(o=p_(l,null,n,i,a,s));let m=eD(oi(),n);eP(r,s,m,i,o)}}function p_(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let l=t[i],d=Array.isArray(l),f=d?l[1]:l,m=f===null,y=n[i+1];y===Pn&&(y=m?mn:void 0);let v=m?tg(y,r):f===r?y:void 0;if(d&&!uf(v)&&(v=tg(l,r)),uf(v)&&(a=v,s))return a;let b=t[i+1];i=s?ts(b):Oa(b)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=tg(l,r))}return a}function uf(t){return t!==void 0}function oL(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=rn(rr(t)))),t}function WS(t,e){return(t.flags&(e?8:16))!==0}var uy=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function fg(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function sL(t,e,n){let r,i,o=0,s=t.length-1,a=void 0;if(Array.isArray(e)){let l=e.length-1;for(;o<=s&&o<=l;){let d=t.at(o),f=e[o],m=fg(o,d,o,f,n);if(m!==0){m<0&&t.updateValue(o,f),o++;continue}let y=t.at(s),v=e[l],b=fg(s,y,l,v,n);if(b!==0){b<0&&t.updateValue(s,v),s--,l--;continue}let I=n(o,d),k=n(s,y),H=n(o,f);if(Object.is(H,k)){let ie=n(l,v);Object.is(ie,I)?(t.swap(o,s),t.updateValue(s,v),l--,s--):t.move(s,o),t.updateValue(o,f),o++;continue}if(r??=new df,i??=m_(t,o,s,n),dy(t,r,o,H))t.updateValue(o,f),o++,s++;else if(i.has(H))r.set(I,t.detach(o)),s--;else{let ie=t.create(o,e[o]);t.attach(o,ie),o++,s++}}for(;o<=l;)h_(t,r,n,o,e[o]),o++}else if(e!=null){let l=e[Symbol.iterator](),d=l.next();for(;!d.done&&o<=s;){let f=t.at(o),m=d.value,y=fg(o,f,o,m,n);if(y!==0)y<0&&t.updateValue(o,m),o++,d=l.next();else{r??=new df,i??=m_(t,o,s,n);let v=n(o,m);if(dy(t,r,o,v))t.updateValue(o,m),o++,s++,d=l.next();else if(!i.has(v))t.attach(o,t.create(o,m)),o++,s++,d=l.next();else{let b=n(o,f);r.set(b,t.detach(o)),s--}}}for(;!d.done;)h_(t,r,n,t.length,d.value),d=l.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(l=>{t.destroy(l)})}function dy(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function h_(t,e,n,r,i){if(dy(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function m_(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var df=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function or(t,e){Sc("NgControlFlow");let n=Ne(),r=Pa(),i=n[r]!==Pn?n[r]:-1,o=i!==-1?ff(n,Zt+i):void 0,s=0;if(Xn(n,r,t)){let a=He(null);try{if(o!==void 0&&wS(o,s),t!==-1){let l=Zt+t,d=ff(n,l),f=my(n[Ie],l),m=Ta(d,f.tView.ssrId),y=_c(n,f,e,{dehydratedView:m});Dc(d,y,s,Ma(f,m))}}finally{He(a)}}else if(o!==void 0){let a=bS(o,s);a!==void 0&&(a[Gt]=e)}}var fy=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-qt}};function Qi(t,e){return e}var py=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function Xi(t,e,n,r,i,o,s,a,l,d,f,m,y){Sc("NgControlFlow");let v=Ne(),b=mt(),I=l!==void 0,k=Ne(),H=a?s.bind(k[Dn][Gt]):s,ie=new py(I,H);k[Zt+t]=ie,cf(v,b,t+1,e,n,r,i,qi(b.consts,o)),I&&cf(v,b,t+2,l,d,f,m,qi(b.consts,y))}var hy=class extends uy{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-qt}at(e){return this.getLView(e)[Gt].$implicit}attach(e,n){let r=n[Ea];this.needsIndexUpdate||=e!==this.length,Dc(this.lContainer,n,e,Ma(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,aL(this.lContainer,e)}create(e,n){let r=Ta(this.lContainer,this.templateTNode.tView.ssrId),i=_c(this.hostLView,this.templateTNode,new fy(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Af(e[Ie],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[Gt].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Gt].$index=e}getLView(e){return lL(this.lContainer,e)}};function eo(t){let e=He(null),n=oi();try{let r=Ne(),i=r[Ie],o=r[n],s=n+1,a=ff(r,s);if(o.liveCollection===void 0){let d=my(i,s);o.liveCollection=new hy(a,r,d)}else o.liveCollection.reset();let l=o.liveCollection;if(sL(l,t,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let d=Pa(),f=l.length===0;if(Xn(r,d,f)){let m=n+2,y=ff(r,m);if(f){let v=my(i,m),b=Ta(y,v.tView.ssrId),I=_c(r,v,void 0,{dehydratedView:b});Dc(y,I,0,Ma(v,b))}else wS(y,0)}}}finally{He(e)}}function ff(t,e){return t[e]}function aL(t,e){return pc(t,e)}function lL(t,e){return bS(t,e)}function my(t,e){return Ry(t,e)}function cL(t,e,n,r,i,o){let s=e.consts,a=qi(s,i),l=Ha(e,t,2,r,a);return iv(e,n,l,qi(s,o)),l.attrs!==null&&sf(l,l.attrs,!1),l.mergedAttrs!==null&&sf(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function S(t,e,n,r){let i=Ne(),o=mt(),s=Zt+t,a=i[dt],l=o.firstCreatePass?cL(s,o,i,e,n,r):o.data[s],d=uL(o,i,l,a,e,t);i[s]=d;let f=Df(l);return ns(l,!0),oS(a,d,l),!RF(l)&&Ef()&&kf(o,i,d,l),DO()===0&&Ki(d,i),SO(),f&&(tv(o,i,l),ev(o,l,i)),r!==null&&nv(i,l),S}function E(){let t=on();Fy()?Ly():(t=t.parent,ns(t,!1));let e=t;xO(e)&&IO(),EO();let n=mt();return n.firstCreatePass&&(If(n,t),Oy(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&zO(e)&&cy(n,e,Ne(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&UO(e)&&cy(n,e,Ne(),e.stylesWithoutHost,!1),E}function J(t,e,n,r){return S(t,e,n,r),E(),J}var uL=(t,e,n,r,i,o)=>(xf(!0),YD(r,i,VO()));function dL(t,e,n,r,i){let o=e.consts,s=qi(o,r),a=Ha(e,t,8,"ng-container",s);s!==null&&sf(a,s,!0);let l=qi(o,i);return iv(e,n,a,l),e.queries!==null&&e.queries.elementStart(e,a),a}function to(t,e,n){let r=Ne(),i=mt(),o=t+Zt,s=i.firstCreatePass?dL(o,i,r,e,n):i.data[o];ns(s,!0);let a=fL(i,r,s,t);return r[o]=a,Ef()&&kf(i,r,a,s),Ki(a,r),Df(s)&&(tv(i,r,s),ev(i,s,r)),n!=null&&nv(r,s),to}function no(){let t=on(),e=mt();return Fy()?Ly():(t=t.parent,ns(t,!1)),e.firstCreatePass&&(If(e,t),Oy(t)&&e.queries.elementEnd(t)),no}function hv(t,e,n){return to(t,e,n),no(),hv}var fL=(t,e,n,r)=>(xf(!0),BR(e[dt],""));function At(){return Ne()}var pf="en-US";var pL=pf;function hL(t){typeof t=="string"&&(pL=t.toLowerCase().replace(/_/g,"-"))}var mL=(t,e,n)=>{};function Y(t,e,n,r){let i=Ne(),o=mt(),s=on();return GS(o,i,i[dt],s,t,e,r),Y}function gL(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Zd],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function GS(t,e,n,r,i,o,s){let a=Df(r),d=t.firstCreatePass&&yS(t),f=e[Gt],m=gS(e),y=!0;if(r.type&3||s){let I=Rn(r,e),k=s?s(I):I,H=m.length,ie=s?oe=>s(Er(oe[r.index])):r.index,me=null;if(!s&&a&&(me=gL(t,e,i,r.index)),me!==null){let oe=me.__ngLastListenerFn__||me;oe.__ngNextListenerFn__=o,me.__ngLastListenerFn__=o,y=!1}else{o=y_(r,e,f,o),mL(I,i,o);let oe=n.listen(k,i,o);m.push(o,oe),d&&d.push(i,ie,H,H+1)}}else o=y_(r,e,f,o);let v=r.outputs,b;if(y&&v!==null&&(b=v[i])){let I=b.length;if(I)for(let k=0;k<I;k+=2){let H=b[k],ie=b[k+1],Se=e[H][ie].subscribe(o),ue=m.length;m.push(o,Se),d&&d.push(i,r.index,ue,-(ue+1))}}}function g_(t,e,n,r){let i=He(null);try{return wr(6,e,n),n(r)!==!1}catch(o){return vS(t,o),!1}finally{wr(7,e,n),He(i)}}function y_(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?Yi(t.index,e):e;av(s,5);let a=g_(e,n,r,o),l=i.__ngNextListenerFn__;for(;l;)a=g_(e,n,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function X(t=1){return FO(t)}function yL(t,e){let n=null,r=WN(t);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){n=i;continue}if(r===null?F_(t,o,!0):KN(r,o))return i}return n}function qS(t){let e=Ne()[Dn][gn];if(!e.projection){let n=t?t.length:1,r=e.projection=PN(n,null),i=r.slice(),o=e.child;for(;o!==null;){let s=t?yL(o,t):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}function KS(t,e=0,n,r,i,o){let s=Ne(),a=mt(),l=r?t+1:null;l!==null&&cf(s,a,l,r,i,o,null,n);let d=Ha(a,Zt+t,16,null,n||null);d.projection===null&&(d.projection=e),Ly();let m=!s[Ea]||sD();s[Dn][gn].projection[d.projection]===null&&l!==null?vL(s,a,l):m&&(d.flags&32)!==32&&QR(a,s,d)}function vL(t,e,n){let r=Zt+n,i=e.data[r],o=t[r],s=Ta(o,i.tView.ssrId),a=_c(t,i,void 0,{dehydratedView:s});Dc(o,a,0,Ma(i,s))}function mv(t,e,n){_F(t,e,n)}function Lf(t){let e=Ne(),n=mt(),r=cD();jy(r+1);let i=dv(n,r);if(t.dirty&&CO(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=EF(e,r);t.reset(o,nR),t.notifyOnChanges()}return!0}return!1}function Vf(){return bF(Ne(),cD())}function CL(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function j(t,e=""){let n=Ne(),r=mt(),i=t+Zt,o=r.firstCreatePass?Ha(r,i,1,e,null):r.data[i],s=bL(r,n,o,e,t);n[i]=s,Ef()&&kf(r,n,s,o),ns(o,!1)}var bL=(t,e,n,r,i)=>(xf(!0),LR(e[dt],r));function bt(t){return Rr("",t,""),bt}function Rr(t,e,n){let r=Ne(),i=VF(r,t,e,n);return i!==Pn&&CS(r,oi(),i),Rr}function gv(t,e,n,r,i){let o=Ne(),s=BF(o,t,e,n,r,i);return s!==Pn&&CS(o,oi(),s),gv}function le(t,e,n){PS(e)&&(e=e());let r=Ne(),i=Pa();if(Xn(r,i,e)){let o=mt(),s=Uy();dS(o,s,r,t,e,r[dt],n,!1)}return le}function de(t,e){let n=PS(t);return n&&t.set(e),n}function ce(t,e){let n=Ne(),r=mt(),i=on();return GS(r,n,n[dt],i,t,e),ce}function wL(t,e,n){let r=mt();if(r.firstCreatePass){let i=Gi(t);gy(n,r.data,r.blueprint,i,!0),gy(e,r.data,r.blueprint,i,!1)}}function gy(t,e,n,r,i){if(t=nn(t),Array.isArray(t))for(let o=0;o<t.length;o++)gy(t[o],e,n,r,i);else{let o=mt(),s=Ne(),a=on(),l=Sa(t)?t:nn(t.provide),d=G_(t),f=a.providerIndexes&1048575,m=a.directiveStart,y=a.providerIndexes>>20;if(Sa(t)||!t.multi){let v=new Jo(d,i,re),b=hg(l,e,i?f:f+y,m);b===-1?(Tg(tf(a,s),o,l),pg(o,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),s.push(v)):(n[b]=v,s[b]=v)}else{let v=hg(l,e,f+y,m),b=hg(l,e,f,f+y),I=v>=0&&n[v],k=b>=0&&n[b];if(i&&!k||!i&&!I){Tg(tf(a,s),o,l);let H=SL(i?DL:_L,n.length,i,r,d);!i&&k&&(n[b].providerFactory=H),pg(o,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(H),s.push(H)}else{let H=ZS(n[i?b:v],d,!i&&r);pg(o,t,v>-1?v:b,H)}!i&&r&&k&&n[b].componentProviders++}}}function pg(t,e,n,r){let i=Sa(e),o=oO(e);if(i||o){let l=(o?nn(e.useClass):e).prototype.ngOnDestroy;if(l){let d=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let f=d.indexOf(n);f===-1?d.push(n,[r,l]):d[f+1].push(r,l)}else d.push(n,l)}}}function ZS(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function hg(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function _L(t,e,n,r){return yy(this.multi,[])}function DL(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Qo(n,n[Ie],this.providerFactory.index,r);o=a.slice(0,s),yy(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],yy(i,o);return o}function yy(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function SL(t,e,n,r,i){let o=new Jo(t,n,re);return o.multi=[],o.index=e,o.componentProviders=0,ZS(o,i,r&&!n),o}function ci(t,e=[]){return n=>{n.providersResolver=(r,i)=>wL(r,i?i(t):t,e)}}var EL=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=U_(!1,r.type),o=i.length>0?fv([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=U({token:e,providedIn:"environment",factory:()=>new e(Ve(On))});let t=e;return t})();function Qe(t){Sc("NgStandalone"),t.getStandaloneInjector=e=>e.get(EL).getOrCreateStandaloneInjector(t)}function xc(t,e,n,r){return JS(Ne(),Vy(),t,e,n,r)}function Bf(t,e,n,r,i){return xL(Ne(),Vy(),t,e,n,r,i)}function YS(t,e){let n=t[e];return n===Pn?void 0:n}function JS(t,e,n,r,i,o){let s=e+n;return Xn(t,s,i)?LS(t,s+1,o?r.call(o,i):r(i)):YS(t,s+1)}function xL(t,e,n,r,i,o,s){let a=e+n;return VS(t,a,i,o)?LS(t,a+2,s?r.call(s,i,o):r(i,o)):YS(t,a+2)}function qe(t,e){let n=mt(),r,i=t+Zt;n.firstCreatePass?(r=IL(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Go(r.type,!0)),s,a=hn(re);try{let l=ef(!1),d=o();return ef(l),CL(n,Ne(),i,d),d}finally{hn(a)}}function IL(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function Ke(t,e,n){let r=t+Zt,i=Ne(),o=vO(i,r);return ML(i,r)?JS(i,Vy(),e,o.transform,n,o):o.transform(n)}function ML(t,e){return t[Ie].data[e].pure}var jf=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var QS=new _e("");function ro(t){return!!t&&typeof t.then=="function"}function yv(t){return!!t&&typeof t.subscribe=="function"}var XS=new _e(""),eE=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=V(XS,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(ro(s))r.push(s);else if(yv(s)){let a=new Promise((l,d)=>{s.subscribe({complete:l,error:d})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),vv=new _e("");function TL(){lw(()=>{throw new ae(600,!1)})}function AL(t){return t.isBoundToModule}var kL=10;function NL(t,e,n){try{let r=n();return ro(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var io=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=V(ID),this.afterRenderEffectManager=V(kS),this.zonelessEnabled=V(cv),this.externalTestViews=new Set,this.beforeRender=new at,this.afterTick=new at,this.componentTypes=[],this.components=[],this.isStable=V(Va).hasPendingTasks.pipe(ze(r=>!r)),this._injector=V(On)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof of;if(!this._injector.get(eE).done){let v=!o&&B_(r),b=!1;throw new ae(405,b)}let a;o?a=r:a=this._injector.get(Aa).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let l=AL(a)?void 0:this._injector.get(Zi),d=i||a.selector,f=a.create(xr.NULL,[],d,l),m=f.location.nativeElement,y=f.injector.get(QS,null);return y?.registerApplication(m),f.onDestroy(()=>{this.detachView(f.hostView),mg(this.components,f),y?.unregisterApplication(m)}),this._loadComponent(f),f}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new ae(101,!1);let i=He(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,He(i),this.afterTick.next()}}detectChangesInAttachedViews(r){let i=null;this._injector.destroyed||(i=this._injector.get(ka,null,{optional:!0}));let o=0,s=this.afterRenderEffectManager;for(;o<kL;){let a=o===0;if(r||!a){this.beforeRender.next(a);for(let{_lView:l,notifyErrorHandler:d}of this._views)OL(l,d,a,this.zonelessEnabled)}else i?.begin?.(),i?.end?.();if(o++,s.executeInternalCallbacks(),!this.allViews.some(({_lView:l})=>fc(l))&&(s.execute(),!this.allViews.some(({_lView:l})=>fc(l))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;mg(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(vv,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>mg(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new ae(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function mg(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function OL(t,e,n,r){if(!n&&!fc(t))return;SS(t,e,n&&!r?0:1)}var vy=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Cv=(()=>{let e=class e{compileModuleSync(r){return new sy(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=j_(r),s=ZD(o.declarations).reduce((a,l)=>{let d=Wi(l);return d&&a.push(new Na(d)),a},[]);return new vy(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var RL=(()=>{let e=class e{constructor(){this.zone=V(Ct),this.changeDetectionScheduler=V(hc),this.applicationRef=V(io)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),PL=new _e("",{factory:()=>!1});function tE({ngZoneFactory:t,ignoreChangesOutsideZone:e}){return t??=()=>new Ct(rE()),[{provide:Ct,useFactory:t},{provide:_a,multi:!0,useFactory:()=>{let n=V(RL,{optional:!0});return()=>n.initialize()}},{provide:_a,multi:!0,useFactory:()=>{let n=V(LL);return()=>{n.initialize()}}},{provide:ID,useFactory:FL},e===!0?{provide:MS,useValue:!0}:[]]}function FL(){let t=V(Ct),e=V(ei);return n=>t.runOutsideAngular(()=>e.handleError(n))}function nE(t){let e=t?.ignoreChangesOutsideZone,n=tE({ngZoneFactory:()=>{let r=rE(t);return r.shouldCoalesceEventChangeDetection&&Sc("NgZone_CoalesceEvent"),new Ct(r)},ignoreChangesOutsideZone:e});return vf([{provide:PL,useValue:!0},{provide:cv,useValue:!1},n])}function rE(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var LL=(()=>{let e=class e{constructor(){this.subscription=new yt,this.initialized=!1,this.zone=V(Ct),this.pendingTasks=V(Va)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ct.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ct.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var VL=(()=>{let e=class e{constructor(){this.appRef=V(io),this.taskService=V(Va),this.ngZone=V(Ct),this.zonelessEnabled=V(cv),this.disableScheduling=V(MS,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new yt,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Yg||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?s_:TS;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Ct.isInAngularZone())}tick(r){if(this.runningTick||this.appRef.destroyed)return;let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(r)},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(i),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,s_(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function BL(){return typeof $localize<"u"&&$localize.locale||pf}var bv=new _e("",{providedIn:"root",factory:()=>V(bv,Le.Optional|Le.SkipSelf)||BL()});var iE=new _e("");var $d=null;function jL(t=[],e){return xr.create({name:e,providers:[{provide:Cf,useValue:"platform"},{provide:iE,useValue:new Set([()=>$d=null])},...t]})}function HL(t=[]){if($d)return $d;let e=jL(t);return $d=e,TL(),zL(e),e}function zL(t){t.get(Gy,null)?.forEach(n=>n())}var oo=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=UL;let t=e;return t})();function UL(t){return $L(on(),Ne(),(t&16)===16)}function $L(t,e,n){if(_f(t)&&!n){let r=Yi(t.index,e);return new Xo(r,r)}else if(t.type&47){let r=e[Dn];return new Xo(r,e)}return null}var Cy=class{constructor(){}supports(e){return FS(e)}create(e){return new by(e)}},WL=(t,e)=>e,by=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||WL}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<v_(r,i,o)?n:r,a=v_(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let d=a-i,f=l-i;if(d!=f){for(let y=0;y<d;y++){let v=y<o.length?o[y]:o[y]=0,b=v+y;f<=b&&b<d&&(o[y]=v+1)}let m=s.previousIndex;o[m]=f-d}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!FS(e))throw new ae(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,OF(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new wy(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new hf),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new hf),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},wy=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},_y=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},hf=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new _y,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function v_(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var Dy=class{constructor(){}supports(e){return e instanceof Map||pv(e)}create(){return new Sy}},Sy=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||pv(e)))throw new ae(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new Ey(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},Ey=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function C_(){return new wv([new Cy])}var wv=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||C_()),deps:[[e,new My,new yf]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new ae(901,!1)}};e.\u0275prov=U({token:e,providedIn:"root",factory:C_});let t=e;return t})();function b_(){return new Hf([new Dy])}var Hf=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||b_()),deps:[[e,new My,new yf]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i)return i;throw new ae(901,!1)}};e.\u0275prov=U({token:e,providedIn:"root",factory:b_});let t=e;return t})();function oE(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=HL(r),o=[tE({}),{provide:hc,useExisting:VL},...n||[]],a=new lf({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,l=a.get(Ct);return l.run(()=>{a.resolveInjectorInitializers();let d=a.get(ei,null),f;l.runOutsideAngular(()=>{f=l.onError.subscribe({next:v=>{d.handleError(v)}})});let m=()=>a.destroy(),y=i.get(iE);return y.add(m),a.onDestroy(()=>{f.unsubscribe(),y.delete(m)}),NL(d,l,()=>{let v=a.get(eE);return v.runInitializers(),v.donePromise.then(()=>{let b=a.get(bv,pf);hL(b||pf);let I=a.get(io);return e!==void 0&&I.bootstrap(e),I})})})}catch(e){return Promise.reject(e)}}function zf(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function _v(t){let e=He(null);try{return t()}finally{He(e)}}function sE(t,e){let n=Wi(t),r=e.elementInjector||bf();return new Na(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}var pE=null;function ui(){return pE}function hE(t){pE??=t}var Uf=class{};var Sn=new _e(""),mE=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:()=>V(qL),providedIn:"platform"});let t=e;return t})();var qL=(()=>{let e=class e extends mE{constructor(){super(),this._doc=V(Sn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ui().getBaseHref(this._doc)}onPopState(r){let i=ui().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=ui().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function gE(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function aE(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function rs(t){return t&&t[0]!=="?"?"?"+t:t}var Wf=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:()=>V(yE),providedIn:"root"});let t=e;return t})(),KL=new _e(""),yE=(()=>{let e=class e extends Wf{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??V(Sn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return gE(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+rs(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+rs(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+rs(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(Ve(mE),Ve(KL,8))},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ic=(()=>{let e=class e{constructor(r){this._subject=new We,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=JL(aE(lE(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+rs(i))}normalize(r){return e.stripTrailingSlash(YL(this._basePath,lE(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+rs(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+rs(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=rs,e.joinWithSlash=gE,e.stripTrailingSlash=aE,e.\u0275fac=function(i){return new(i||e)(Ve(Wf))},e.\u0275prov=U({token:e,factory:()=>ZL(),providedIn:"root"});let t=e;return t})();function ZL(){return new Ic(Ve(Wf))}function YL(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function lE(t){return t.replace(/\/index.html$/,"")}function JL(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function vE(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Sv=/\s+/,cE=[],is=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=cE,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(Sv):cE}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(Sv):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let o=this.stateMap.get(r);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(Sv).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)(re(Tt),re(Nr))},e.\u0275dir=St({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var Ev=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Gf=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new Ev(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let l=i.get(s);i.move(l,a),uE(l,o)}});for(let o=0,s=i.length;o<s;o++){let l=i.get(o).context;l.index=o,l.count=s,l.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);uE(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(re(ai),re(es),re(wv))},e.\u0275dir=St({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function uE(t,e){t.context.$implicit=e.item}var ss=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new xv,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){dE("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){dE("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(re(ai),re(es))},e.\u0275dir=St({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),xv=class{constructor(){this.$implicit=null,this.ngIf=null}};function dE(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${rn(e)}'.`)}var CE=(()=>{let e=class e{constructor(r,i,o){this._ngEl=r,this._differs=i,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(r){this._ngStyle=r,!this._differ&&r&&(this._differ=this._differs.find(r).create())}ngDoCheck(){if(this._differ){let r=this._differ.diff(this._ngStyle);r&&this._applyChanges(r)}}_setStyle(r,i){let[o,s]=r.split("."),a=o.indexOf("-")===-1?void 0:Ir.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,o,s?`${i}${s}`:i,a):this._renderer.removeStyle(this._ngEl.nativeElement,o,a)}_applyChanges(r){r.forEachRemovedItem(i=>this._setStyle(i.key,null)),r.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),r.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}};e.\u0275fac=function(i){return new(i||e)(re(Tt),re(Hf),re(Nr))},e.\u0275dir=St({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let t=e;return t})(),bE=(()=>{let e=class e{constructor(r){this._viewContainerRef=r,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(r){if(this._shouldRecreateView(r)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let o=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,o,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(r){return!!r.ngTemplateOutlet||!!r.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(r,i,o)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,o):!1,get:(r,i,o)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,o)}})}};e.\u0275fac=function(i){return new(i||e)(re(ai))},e.\u0275dir=St({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[nr]});let t=e;return t})();function QL(t,e){return new ae(2100,!1)}var Iv=class{createSubscription(e,n){return _v(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){_v(()=>e.unsubscribe())}},Mv=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},XL=new Mv,e2=new Iv,as=(()=>{let e=class e{constructor(r){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){if(!this._obj){if(r)try{this.markForCheckOnValueUpdate=!1,this._subscribe(r)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if(ro(r))return XL;if(yv(r))return e2;throw QL(e,r)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}};e.\u0275fac=function(i){return new(i||e)(re(oo,16))},e.\u0275pipe=Cc({name:"async",type:e,pure:!1,standalone:!0});let t=e;return t})();function t2(t,e){return{key:t,value:e}}var wE=(()=>{let e=class e{constructor(r){this.differs=r,this.keyValues=[],this.compareFn=fE}transform(r,i=fE){if(!r||!(r instanceof Map)&&typeof r!="object")return null;this.differ??=this.differs.find(r).create();let o=this.differ.diff(r),s=i!==this.compareFn;return o&&(this.keyValues=[],o.forEachItem(a=>{this.keyValues.push(t2(a.key,a.currentValue))})),(o||s)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}};e.\u0275fac=function(i){return new(i||e)(re(Hf,16))},e.\u0275pipe=Cc({name:"keyvalue",type:e,pure:!1,standalone:!0});let t=e;return t})();function fE(t,e){let n=t.key,r=e.key;if(n===r)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(n===null)return 1;if(r===null)return-1;if(typeof n=="string"&&typeof r=="string")return n<r?-1:1;if(typeof n=="number"&&typeof r=="number")return n-r;if(typeof n=="boolean"&&typeof r=="boolean")return n<r?-1:1;let i=String(n),o=String(r);return i==o?0:i<o?-1:1}var qf=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=tr({type:e}),e.\u0275inj=er({});let t=e;return t})(),_E="browser",n2="server";function Av(t){return t===n2}var $f=class{};var Ov=class extends Uf{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Rv=class t extends Ov{static makeCurrent(){hE(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=i2();return n==null?null:o2(n)}resetBaseElement(){Mc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return vE(document.cookie,e)}},Mc=null;function i2(){return Mc=Mc||document.querySelector("base"),Mc?Mc.getAttribute("href"):null}function o2(t){return new URL(t,document.baseURI).pathname}var s2=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac});let t=e;return t})(),Pv=new _e(""),xE=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new ae(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(Ve(Pv),Ve(Ct))},e.\u0275prov=U({token:e,factory:e.\u0275fac});let t=e;return t})(),Kf=class{constructor(e){this._doc=e}},kv="ng-app-id",IE=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Av(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${kv}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(kv),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(kv,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(Ve(Sn),Ve(Wy),Ve(qy,8),Ve(Ba))},e.\u0275prov=U({token:e,factory:e.\u0275fac});let t=e;return t})(),Nv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Lv=/%COMP%/g,ME="%COMP%",a2=`_nghost-${ME}`,l2=`_ngcontent-${ME}`,c2=!0,u2=new _e("",{providedIn:"root",factory:()=>c2});function d2(t){return l2.replace(Lv,t)}function f2(t){return a2.replace(Lv,t)}function TE(t,e){return e.map(n=>n.replace(Lv,t))}var DE=(()=>{let e=class e{constructor(r,i,o,s,a,l,d,f=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=d,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=Av(l),this.defaultRenderer=new Tc(r,a,d,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Dr.ShadowDom&&(i=Pe(Z({},i),{encapsulation:Dr.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof Zf?o.applyToHost(r):o instanceof Ac&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,l=this.ngZone,d=this.eventManager,f=this.sharedStylesHost,m=this.removeStylesOnCompDestroy,y=this.platformIsServer;switch(i.encapsulation){case Dr.Emulated:s=new Zf(d,f,i,this.appId,m,a,l,y);break;case Dr.ShadowDom:return new Fv(d,f,r,i,a,l,this.nonce,y);default:s=new Ac(d,f,i,m,a,l,y);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(Ve(xE),Ve(IE),Ve(Wy),Ve(u2),Ve(Sn),Ve(Ba),Ve(Ct),Ve(qy))},e.\u0275prov=U({token:e,factory:e.\u0275fac});let t=e;return t})(),Tc=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Nv[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(SE(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(SE(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new ae(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Nv[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Nv[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Ir.DashCase|Ir.Important)?e.style.setProperty(n,r,i&Ir.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Ir.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=ui().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function SE(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Fv=class extends Tc{constructor(e,n,r,i,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=TE(i.id,i.styles);for(let f of d){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=f,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ac=class extends Tc{constructor(e,n,r,i,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?TE(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Zf=class extends Ac{constructor(e,n,r,i,o,s,a,l){let d=i+"-"+r.id;super(e,n,r,o,s,a,l,d),this.contentAttr=d2(d),this.hostAttr=f2(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},p2=(()=>{let e=class e extends Kf{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(Ve(Sn))},e.\u0275prov=U({token:e,factory:e.\u0275fac});let t=e;return t})(),EE=["alt","control","meta","shift"],h2={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},m2={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},g2=(()=>{let e=class e extends Kf{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ui().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),a="code."),EE.forEach(f=>{let m=i.indexOf(f);m>-1&&(i.splice(m,1),a+=f+".")}),a+=s,i.length!=0||s.length===0)return null;let d={};return d.domEventName=o,d.fullKey=a,d}static matchEventFullKeyCode(r,i){let o=h2[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),EE.forEach(a=>{if(a!==o){let l=m2[a];l(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(Ve(Sn))},e.\u0275prov=U({token:e,factory:e.\u0275fac});let t=e;return t})();function AE(t,e){return oE(Z({rootComponent:t},y2(e)))}function y2(t){return{appProviders:[..._2,...t?.providers??[]],platformProviders:w2}}function v2(){Rv.makeCurrent()}function C2(){return new ei}function b2(){return RD(document),document}var w2=[{provide:Ba,useValue:_E},{provide:Gy,useValue:v2,multi:!0},{provide:Sn,useFactory:b2,deps:[]}];var _2=[{provide:Cf,useValue:"root"},{provide:ei,useFactory:C2,deps:[]},{provide:Pv,useClass:p2,multi:!0,deps:[Sn,Ct,Ba]},{provide:Pv,useClass:g2,multi:!0,deps:[Sn]},DE,IE,xE,{provide:ka,useExisting:DE},{provide:$f,useClass:s2,deps:[]},[]];var kE=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(Ve(Sn))},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Vv=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:function(i){let o=null;return i?o=new(i||e):o=Ve(D2),o},providedIn:"root"});let t=e;return t})(),D2=(()=>{let e=class e extends Vv{constructor(r){super(),this._doc=r}sanitize(r,i){if(i==null)return null;switch(r){case kr.NONE:return i;case kr.HTML:return Ji(i,"HTML")?rr(i):Zy(this._doc,String(i)).toString();case kr.STYLE:return Ji(i,"Style")?rr(i):i;case kr.SCRIPT:if(Ji(i,"Script"))return rr(i);throw new ae(5200,!1);case kr.URL:return Ji(i,"URL")?rr(i):Tf(String(i));case kr.RESOURCE_URL:if(Ji(i,"ResourceURL"))return rr(i);throw new ae(5201,!1);default:throw new ae(5202,!1)}}bypassSecurityTrustHtml(r){return LD(r)}bypassSecurityTrustStyle(r){return VD(r)}bypassSecurityTrustScript(r){return BD(r)}bypassSecurityTrustUrl(r){return jD(r)}bypassSecurityTrustResourceUrl(r){return HD(r)}};e.\u0275fac=function(i){return new(i||e)(Ve(Sn))},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Oe="primary",qc=Symbol("RouteTitle"),Uv=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function qa(t){return new Uv(t)}function E2(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function x2(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Pr(t[n],e[n]))return!1;return!0}function Pr(t,e){let n=t?$v(t):void 0,r=e?$v(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!jE(t[i],e[i]))return!1;return!0}function $v(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function jE(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function HE(t){return t.length>0?t[t.length-1]:null}function ao(t){return ic(t)?t:ro(t)?ht(Promise.resolve(t)):xe(t)}var I2={exact:UE,subset:$E},zE={exact:M2,subset:T2,ignored:()=>!0};function OE(t,e,n){return I2[n.paths](t.root,e.root,n.matrixParams)&&zE[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function M2(t,e){return Pr(t,e)}function UE(t,e,n){if(!cs(t.segments,e.segments)||!Qf(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!UE(t.children[r],e.children[r],n))return!1;return!0}function T2(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>jE(t[n],e[n]))}function $E(t,e,n){return WE(t,e,e.segments,n)}function WE(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!cs(i,n)||e.hasChildren()||!Qf(i,n,r))}else if(t.segments.length===n.length){if(!cs(t.segments,n)||!Qf(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!$E(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!cs(t.segments,i)||!Qf(t.segments,i,r)||!t.children[Oe]?!1:WE(t.children[Oe],e,o,r)}}function Qf(t,e,n){return e.every((r,i)=>zE[n](t[i].parameters,r.parameters))}var so=class{constructor(e=new Xe([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=qa(this.queryParams),this._queryParamMap}toString(){return N2.serialize(this)}},Xe=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xf(this)}},ls=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=qa(this.parameters),this._parameterMap}toString(){return qE(this)}};function A2(t,e){return cs(t,e)&&t.every((n,r)=>Pr(n.parameters,e[r].parameters))}function cs(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function k2(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Oe&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Oe&&(n=n.concat(e(i,r)))}),n}var g0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:()=>new Lc,providedIn:"root"});let t=e;return t})(),Lc=class{parse(e){let n=new Gv(e);return new so(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${kc(e.root,!0)}`,r=P2(e.queryParams),i=typeof e.fragment=="string"?`#${O2(e.fragment)}`:"";return`${n}${r}${i}`}},N2=new Lc;function Xf(t){return t.segments.map(e=>qE(e)).join("/")}function kc(t,e){if(!t.hasChildren())return Xf(t);if(e){let n=t.children[Oe]?kc(t.children[Oe],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==Oe&&r.push(`${i}:${kc(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=k2(t,(r,i)=>i===Oe?[kc(t.children[Oe],!1)]:[`${i}:${kc(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[Oe]!=null?`${Xf(t)}/${n[0]}`:`${Xf(t)}/(${n.join("//")})`}}function GE(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yf(t){return GE(t).replace(/%3B/gi,";")}function O2(t){return encodeURI(t)}function Wv(t){return GE(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ep(t){return decodeURIComponent(t)}function RE(t){return ep(t.replace(/\+/g,"%20"))}function qE(t){return`${Wv(t.path)}${R2(t.parameters)}`}function R2(t){return Object.entries(t).map(([e,n])=>`;${Wv(e)}=${Wv(n)}`).join("")}function P2(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Yf(n)}=${Yf(i)}`).join("&"):`${Yf(n)}=${Yf(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var F2=/^[^\/()?;#]+/;function Bv(t){let e=t.match(F2);return e?e[0]:""}var L2=/^[^\/()?;=#]+/;function V2(t){let e=t.match(L2);return e?e[0]:""}var B2=/^[^=?&#]+/;function j2(t){let e=t.match(B2);return e?e[0]:""}var H2=/^[^&#]+/;function z2(t){let e=t.match(H2);return e?e[0]:""}var Gv=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xe([],{}):new Xe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Oe]=new Xe(e,n)),r}parseSegment(){let e=Bv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new ae(4009,!1);return this.capture(e),new ls(ep(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=V2(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Bv(this.remaining);i&&(r=i,this.capture(r))}e[ep(n)]=ep(r)}parseQueryParam(e){let n=j2(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=z2(this.remaining);s&&(r=s,this.capture(r))}let i=RE(n),o=RE(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Bv(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new ae(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Oe);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[Oe]:new Xe([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new ae(4011,!1)}};function KE(t){return t.segments.length>0?new Xe([],{[Oe]:t}):t}function ZE(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=ZE(i);if(r===Oe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Xe(t.segments,e);return U2(n)}function U2(t){if(t.numberOfChildren===1&&t.children[Oe]){let e=t.children[Oe];return new Xe(t.segments.concat(e.segments),e.children)}return t}function Vc(t){return t instanceof so}function $2(t,e,n=null,r=null){let i=YE(t);return JE(i,e,n,r)}function YE(t){let e;function n(o){let s={};for(let l of o.children){let d=n(l);s[l.outlet]=d}let a=new Xe(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=KE(r);return e??i}function JE(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return jv(i,i,i,n,r);let o=W2(e);if(o.toRoot())return jv(i,i,new Xe([],{}),n,r);let s=G2(o,i,t),a=s.processChildren?Rc(s.segmentGroup,s.index,o.commands):XE(s.segmentGroup,s.index,o.commands);return jv(i,s.segmentGroup,a,n,r)}function tp(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Bc(t){return typeof t=="object"&&t!=null&&t.outlets}function jv(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([l,d])=>{o[l]=Array.isArray(d)?d.map(f=>`${f}`):`${d}`});let s;t===e?s=n:s=QE(t,e,n);let a=KE(ZE(s));return new so(a,o,i)}function QE(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=QE(o,e,n)}),new Xe(t.segments,r)}var np=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&tp(r[0]))throw new ae(4003,!1);let i=r.find(Bc);if(i&&i!==HE(r))throw new ae(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function W2(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new np(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,d])=>{a[l]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new np(n,e,r)}var $a=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function G2(t,e,n){if(t.isAbsolute)return new $a(e,!0,0);if(!n)return new $a(e,!1,NaN);if(n.parent===null)return new $a(n,!0,0);let r=tp(t.commands[0])?0:1,i=n.segments.length-1+r;return q2(n,i,t.numberOfDoubleDots)}function q2(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new ae(4005,!1);i=r.segments.length}return new $a(r,!1,i-o)}function K2(t){return Bc(t[0])?t[0].outlets:{[Oe]:t}}function XE(t,e,n){if(t??=new Xe([],{}),t.segments.length===0&&t.hasChildren())return Rc(t,e,n);let r=Z2(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Xe(t.segments.slice(0,r.pathIndex),{});return o.children[Oe]=new Xe(t.segments.slice(r.pathIndex),t.children),Rc(o,0,i)}else return r.match&&i.length===0?new Xe(t.segments,{}):r.match&&!t.hasChildren()?qv(t,e,n):r.match?Rc(t,0,i):qv(t,e,n)}function Rc(t,e,n){if(n.length===0)return new Xe(t.segments,{});{let r=K2(n),i={};if(Object.keys(r).some(o=>o!==Oe)&&t.children[Oe]&&t.numberOfChildren===1&&t.children[Oe].segments.length===0){let o=Rc(t.children[Oe],e,n);return new Xe(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=XE(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Xe(t.segments,i)}}function Z2(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Bc(a))break;let l=`${a}`,d=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&d&&typeof d=="object"&&d.outlets===void 0){if(!FE(l,d,s))return o;r+=2}else{if(!FE(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function qv(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Bc(o)){let l=Y2(o.outlets);return new Xe(r,l)}if(i===0&&tp(n[0])){let l=t.segments[e];r.push(new ls(l.path,PE(n[0]))),i++;continue}let s=Bc(o)?o.outlets[Oe]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&tp(a)?(r.push(new ls(s,PE(a))),i+=2):(r.push(new ls(s,{})),i++)}return new Xe(r,{})}function Y2(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=qv(new Xe([],{}),0,r))}),e}function PE(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function FE(t,e,n){return t==n.path&&Pr(e,n.parameters)}var Pc="imperative",Bt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Bt||{}),Fn=class{constructor(e,n){this.id=e,this.url=n}},jc=class extends Fn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Bt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},us=class extends Fn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Bt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},xn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(xn||{}),Kv=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Kv||{}),di=class extends Fn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Bt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ds=class extends Fn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Bt.NavigationSkipped}},Hc=class extends Fn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Bt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},rp=class extends Fn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Bt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zv=class extends Fn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Bt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yv=class extends Fn{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Bt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Jv=class extends Fn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Bt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qv=class extends Fn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Bt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xv=class{constructor(e){this.route=e,this.type=Bt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},e0=class{constructor(e){this.route=e,this.type=Bt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},t0=class{constructor(e){this.snapshot=e,this.type=Bt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},n0=class{constructor(e){this.snapshot=e,this.type=Bt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},r0=class{constructor(e){this.snapshot=e,this.type=Bt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},i0=class{constructor(e){this.snapshot=e,this.type=Bt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var zc=class{},Ka=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};var o0=class{constructor(e){this.injector=e,this.outlet=null,this.route=null,this.children=new up(this.injector),this.attachRef=null}},up=(()=>{let e=class e{constructor(r){this.parentInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new o0(this.parentInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(Ve(On))},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ip=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=s0(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=s0(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=a0(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return a0(e,this._root).map(n=>n.value)}};function s0(t,e){if(t===e.value)return e;for(let n of e.children){let r=s0(t,n);if(r)return r}return null}function a0(t,e){if(t===e.value)return[e];for(let n of e.children){let r=a0(t,n);if(r.length)return r.unshift(e),r}return[]}var En=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ua(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var op=class extends ip{constructor(e,n){super(e),this.snapshot=n,y0(this,e)}toString(){return this.snapshot.toString()}};function e1(t){let e=J2(t),n=new Lt([new ls("",{})]),r=new Lt({}),i=new Lt({}),o=new Lt({}),s=new Lt(""),a=new Za(n,r,o,s,i,Oe,t,e.root);return a.snapshot=e.root,new op(new En(a,[]),e)}function J2(t){let e={},n={},r={},i="",o=new Wa([],e,r,i,n,Oe,t,null,{});return new ap("",new En(o,[]))}var Za=class{constructor(e,n,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ze(d=>d[qc]))??xe(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ze(e=>qa(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ze(e=>qa(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function sp(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:Z(Z({},e.params),t.params),data:Z(Z({},e.data),t.data),resolve:Z(Z(Z(Z({},t.data),e.data),i?.data),t._resolvedData)}:r={params:Z({},t.params),data:Z({},t.data),resolve:Z(Z({},t.data),t._resolvedData??{})},i&&n1(i)&&(r.resolve[qc]=i.title),r}var Wa=class{get title(){return this.data?.[qc]}constructor(e,n,r,i,o,s,a,l,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=qa(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=qa(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},ap=class extends ip{constructor(e,n){super(n),this.url=e,y0(this,n)}toString(){return t1(this._root)}};function y0(t,e){e.value._routerState=t,e.children.forEach(n=>y0(t,n))}function t1(t){let e=t.children.length>0?` { ${t.children.map(t1).join(", ")} } `:"";return`${t.value}${e}`}function Hv(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Pr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Pr(e.params,n.params)||t.paramsSubject.next(n.params),x2(e.url,n.url)||t.urlSubject.next(n.url),Pr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function l0(t,e){let n=Pr(t.params,e.params)&&A2(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||l0(t.parent,e.parent))}function n1(t){return typeof t.title=="string"||t.title===null}var Q2=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Oe,this.activateEvents=new We,this.deactivateEvents=new We,this.attachEvents=new We,this.detachEvents=new We,this.parentContexts=V(up),this.location=V(ai),this.changeDetector=V(oo),this.inputBinder=V(v0,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ae(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ae(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ae(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new ae(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,d=new c0(r,l,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:d,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=St({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[nr]});let t=e;return t})(),c0=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Za?this.route:e===up?this.childContexts:this.parent.get(e,n)}},v0=new _e("");function X2(t,e,n){let r=Uc(t,e._root,n?n._root:void 0);return new op(r,e)}function Uc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=eV(t,e,n);return new En(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Uc(t,a)),s}}let r=tV(e.value),i=e.children.map(o=>Uc(t,o));return new En(r,i)}}function eV(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Uc(t,r,i);return Uc(t,r)})}function tV(t){return new Za(new Lt(t.url),new Lt(t.params),new Lt(t.queryParams),new Lt(t.fragment),new Lt(t.data),t.outlet,t.component,t)}var $c=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},r1="ngNavigationCancelingError";function lp(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Vc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=i1(!1,xn.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function i1(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[r1]=!0,n.cancellationCode=e,n}function nV(t){return o1(t)&&Vc(t.url)}function o1(t){return!!t&&t[r1]}var rV=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Fe({type:e,selectors:[["ng-component"]],standalone:!0,features:[Qe],decls:1,vars:0,template:function(i,o){i&1&&J(0,"router-outlet")},dependencies:[Q2],encapsulation:2});let t=e;return t})();function iV(t,e){return t.providers&&!t._injector&&(t._injector=fv(t.providers,e,`Route: ${t.path}`)),t._injector??e}function C0(t){let e=t.children&&t.children.map(C0),n=e?Pe(Z({},t),{children:e}):Z({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Oe&&(n.component=rV),n}function sr(t){return t.outlet||Oe}function oV(t,e){let n=t.filter(r=>sr(r)===e);return n.push(...t.filter(r=>sr(r)!==e)),n}function Kc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var sV=(t,e,n,r)=>ze(i=>(new u0(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),u0=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Hv(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ua(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ua(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ua(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ua(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new i0(o.value.snapshot))}),e.children.length&&this.forwardEvent(new n0(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Hv(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Hv(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Kc(i.snapshot);s.attachRef=null,s.route=i,s.injector=a??s.injector,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},cp=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ga=class{constructor(e,n){this.component=e,this.route=n}};function aV(t,e,n){let r=t._root,i=e?e._root:null;return Nc(r,i,n,[r.value])}function lV(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ja(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!S_(t)?t:e.get(t):r}function Nc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ua(e);return t.children.forEach(s=>{cV(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Fc(a,n.getContext(s),i)),i}function cV(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=uV(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new cp(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Nc(t,e,a?a.children:null,r,i):Nc(t,e,n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ga(a.outlet.component,s))}else s&&Fc(e,a,i),i.canActivateChecks.push(new cp(r)),o.component?Nc(t,null,a?a.children:null,r,i):Nc(t,null,n,r,i);return i}function uV(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!cs(t.url,e.url);case"pathParamsOrQueryParamsChange":return!cs(t.url,e.url)||!Pr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!l0(t,e)||!Pr(t.queryParams,e.queryParams);case"paramsChange":default:return!l0(t,e)}}function Fc(t,e,n){let r=Ua(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Fc(s,e.children.getContext(o),n):Fc(s,null,n):Fc(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ga(e.outlet.component,i)):n.canDeactivateChecks.push(new Ga(null,i)):n.canDeactivateChecks.push(new Ga(null,i))}function Zc(t){return typeof t=="function"}function dV(t){return typeof t=="boolean"}function fV(t){return t&&Zc(t.canLoad)}function pV(t){return t&&Zc(t.canActivate)}function hV(t){return t&&Zc(t.canActivateChild)}function mV(t){return t&&Zc(t.canDeactivate)}function gV(t){return t&&Zc(t.canMatch)}function s1(t){return t instanceof Jr||t?.name==="EmptyError"}var Jf=Symbol("INITIAL_VALUE");function Ya(){return Zn(t=>Ad(t.map(e=>e.pipe(Qr(1),eg(Jf)))).pipe(ze(e=>{for(let n of e)if(n!==!0){if(n===Jf)return Jf;if(n===!1||yV(n))return n}return!0}),Kn(e=>e!==Jf),Qr(1)))}function yV(t){return Vc(t)||t instanceof $c}function vV(t,e){return Dt(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?xe(Pe(Z({},n),{guardsResult:!0})):CV(s,r,i,t).pipe(Dt(a=>a&&dV(a)?bV(r,o,t,e):xe(a)),ze(a=>Pe(Z({},n),{guardsResult:a})))})}function CV(t,e,n,r){return ht(t).pipe(Dt(i=>EV(i.component,i.route,n,e,r)),br(i=>i!==!0,!0))}function bV(t,e,n,r){return ht(e).pipe(ha(i=>pa(_V(i.route.parent,r),wV(i.route,r),SV(t,i.path,n),DV(t,i.route,n))),br(i=>i!==!0,!0))}function wV(t,e){return t!==null&&e&&e(new r0(t)),xe(!0)}function _V(t,e){return t!==null&&e&&e(new t0(t)),xe(!0)}function DV(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return xe(!0);let i=r.map(o=>kd(()=>{let s=Kc(e)??n,a=Ja(o,s),l=pV(a)?a.canActivate(e,t):ni(s,()=>a(e,t));return ao(l).pipe(br())}));return xe(i).pipe(Ya())}function SV(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>lV(s)).filter(s=>s!==null).map(s=>kd(()=>{let a=s.guards.map(l=>{let d=Kc(s.node)??n,f=Ja(l,d),m=hV(f)?f.canActivateChild(r,t):ni(d,()=>f(r,t));return ao(m).pipe(br())});return xe(a).pipe(Ya())}));return xe(o).pipe(Ya())}function EV(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return xe(!0);let s=o.map(a=>{let l=Kc(e)??i,d=Ja(a,l),f=mV(d)?d.canDeactivate(t,e,n,r):ni(l,()=>d(t,e,n,r));return ao(f).pipe(br())});return xe(s).pipe(Ya())}function xV(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return xe(!0);let o=i.map(s=>{let a=Ja(s,t),l=fV(a)?a.canLoad(e,n):ni(t,()=>a(e,n));return ao(l)});return xe(o).pipe(Ya(),a1(r))}function a1(t){return Wm(Vt(e=>{if(typeof e!="boolean")throw lp(t,e)}),ze(e=>e===!0))}function IV(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return xe(!0);let o=i.map(s=>{let a=Ja(s,t),l=gV(a)?a.canMatch(e,n):ni(t,()=>a(e,n));return ao(l)});return xe(o).pipe(Ya(),a1(r))}var Wc=class{constructor(e){this.segmentGroup=e||null}},Gc=class extends Error{constructor(e){super(),this.urlTree=e}};function za(t){return fa(new Wc(t))}function MV(t){return fa(new ae(4e3,!1))}function TV(t){return fa(i1(!1,xn.GuardRejected))}var d0=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return xe(r);if(i.numberOfChildren>1||!i.children[Oe])return MV(`${e.redirectTo}`);i=i.children[Oe]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:l,fragment:d,routeConfig:f,url:m,outlet:y,params:v,data:b,title:I}=i,k=ni(o,()=>a({params:v,data:b,queryParams:l,fragment:d,routeConfig:f,url:m,outlet:y,title:I}));if(k instanceof so)throw new Gc(k);n=k}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Gc(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new so(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new Xe(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new ae(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},f0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function AV(t,e,n,r,i){let o=b0(t,e,n);return o.matched?(r=iV(e,r),IV(r,e,n,i).pipe(ze(s=>s===!0?o:Z({},f0)))):xe(o)}function b0(t,e,n){if(e.path==="**")return kV(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?Z({},f0):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||E2)(n,t,e);if(!i)return Z({},f0);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?Z(Z({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function kV(t){return{matched:!0,parameters:t.length>0?HE(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function LE(t,e,n,r){return n.length>0&&RV(t,n,r)?{segmentGroup:new Xe(e,OV(r,new Xe(n,t.children))),slicedSegments:[]}:n.length===0&&PV(t,n,r)?{segmentGroup:new Xe(t.segments,NV(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Xe(t.segments,t.children),slicedSegments:n}}function NV(t,e,n,r){let i={};for(let o of n)if(dp(t,e,o)&&!r[sr(o)]){let s=new Xe([],{});i[sr(o)]=s}return Z(Z({},r),i)}function OV(t,e){let n={};n[Oe]=e;for(let r of t)if(r.path===""&&sr(r)!==Oe){let i=new Xe([],{});n[sr(r)]=i}return n}function RV(t,e,n){return n.some(r=>dp(t,e,r)&&sr(r)!==Oe)}function PV(t,e,n){return n.some(r=>dp(t,e,r))}function dp(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function FV(t,e,n,r){return sr(t)!==r&&(r===Oe||!dp(e,n,t))?!1:b0(e,t,n).matched}function LV(t,e,n){return e.length===0&&!t.children[n]}var p0=class{};function VV(t,e,n,r,i,o,s="emptyOnly"){return new h0(t,e,n,r,i,s,o).recognize()}var BV=31,h0=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new d0(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new ae(4002,`'${e.segmentGroup}'`)}recognize(){let e=LE(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ze(({children:n,rootSnapshot:r})=>{let i=new En(r,n),o=new ap("",i),s=$2(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Wa([],Object.freeze({}),Object.freeze(Z({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Oe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Oe,n).pipe(ze(r=>({children:r,rootSnapshot:n})),ji(r=>{if(r instanceof Gc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Wc?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(ze(s=>s instanceof En?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return ht(o).pipe(ha(s=>{let a=r.children[s],l=oV(n,s);return this.processSegmentGroup(e,l,a,s,i)}),Xm((s,a)=>(s.push(...a),s)),Hi(null),Qm(),Dt(s=>{if(s===null)return za(r);let a=l1(s);return jV(a),xe(a)}))}processSegment(e,n,r,i,o,s,a){return ht(n).pipe(ha(l=>this.processSegmentAgainstRoute(l._injector??e,n,l,r,i,o,s,a).pipe(ji(d=>{if(d instanceof Wc)return xe(null);throw d}))),br(l=>!!l),ji(l=>{if(s1(l))return LV(r,i,o)?xe(new p0):za(r);throw l}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,l){return FV(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,l):za(i):za(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:l,parameters:d,consumedSegments:f,positionalParamSegments:m,remainingSegments:y}=b0(n,i,o);if(!l)return za(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>BV&&(this.allowRedirects=!1));let v=new Wa(o,d,Object.freeze(Z({},this.urlTree.queryParams)),this.urlTree.fragment,VE(i),sr(i),i.component??i._loadedComponent??null,i,BE(i)),b=sp(v,a,this.paramsInheritanceStrategy);v.params=Object.freeze(b.params),v.data=Object.freeze(b.data);let I=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,m,v,e);return this.applyRedirects.lineralizeSegments(i,I).pipe(Dt(k=>this.processSegment(e,r,n,k.concat(y),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=AV(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Zn(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Zn(({routes:d})=>{let f=r._loadedInjector??e,{parameters:m,consumedSegments:y,remainingSegments:v}=l,b=new Wa(y,m,Object.freeze(Z({},this.urlTree.queryParams)),this.urlTree.fragment,VE(r),sr(r),r.component??r._loadedComponent??null,r,BE(r)),I=sp(b,s,this.paramsInheritanceStrategy);b.params=Object.freeze(I.params),b.data=Object.freeze(I.data);let{segmentGroup:k,slicedSegments:H}=LE(n,y,v,d);if(H.length===0&&k.hasChildren())return this.processChildren(f,d,k,b).pipe(ze(me=>new En(b,me)));if(d.length===0&&H.length===0)return xe(new En(b,[]));let ie=sr(r)===o;return this.processSegment(f,d,k,H,ie?Oe:o,!0,b).pipe(ze(me=>new En(b,me instanceof En?[me]:[])))}))):za(n)))}getChildConfig(e,n,r){return n.children?xe({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?xe({routes:n._loadedRoutes,injector:n._loadedInjector}):xV(e,n,r,this.urlSerializer).pipe(Dt(i=>i?this.configLoader.loadChildren(e,n).pipe(Vt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):TV(n))):xe({routes:[],injector:e})}};function jV(t){t.sort((e,n)=>e.value.outlet===Oe?-1:n.value.outlet===Oe?1:e.value.outlet.localeCompare(n.value.outlet))}function HV(t){let e=t.value.routeConfig;return e&&e.path===""}function l1(t){let e=[],n=new Set;for(let r of t){if(!HV(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=l1(r.children);e.push(new En(r.value,i))}return e.filter(r=>!n.has(r))}function VE(t){return t.data||{}}function BE(t){return t.resolve||{}}function zV(t,e,n,r,i,o){return Dt(s=>VV(t,e,n,r,s.extractedUrl,i,o).pipe(ze(({state:a,tree:l})=>Pe(Z({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function UV(t,e){return Dt(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return xe(n);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let d of c1(l))s.add(d);let a=0;return ht(s).pipe(ha(l=>o.has(l)?$V(l,r,t,e):(l.data=sp(l,l.parent,t).resolve,xe(void 0))),Vt(()=>a++),ma(1),Dt(l=>a===s.size?xe(n):_n))})}function c1(t){let e=t.children.map(n=>c1(n)).flat();return[t,...e]}function $V(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!n1(i)&&(o[qc]=i.title),WV(o,t,e,r).pipe(ze(s=>(t._resolvedData=s,t.data=sp(t,t.parent,n).resolve,null)))}function WV(t,e,n,r){let i=$v(t);if(i.length===0)return xe({});let o={};return ht(i).pipe(Dt(s=>GV(t[s],e,n,r).pipe(br(),Vt(a=>{if(a instanceof $c)throw lp(new Lc,a);o[s]=a}))),ma(1),Jm(o),ji(s=>s1(s)?_n:fa(s)))}function GV(t,e,n,r){let i=Kc(e)??r,o=Ja(t,i),s=o.resolve?o.resolve(e,n):ni(i,()=>o(e,n));return ao(s)}function zv(t){return Zn(e=>{let n=t(e);return n?ht(n).pipe(ze(()=>e)):xe(e)})}var u1=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===Oe);return i}getResolvedTitleForRoute(r){return r.data[qc]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:()=>V(qV),providedIn:"root"});let t=e;return t})(),qV=(()=>{let e=class e extends u1{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(Ve(kE))},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),w0=new _e("",{providedIn:"root",factory:()=>({})}),_0=new _e(""),KV=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=V(Cv)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return xe(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=ao(r.loadComponent()).pipe(ze(d1),Vt(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),oc(()=>{this.componentLoaders.delete(r)})),o=new da(i,()=>new at).pipe(ua());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return xe({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=ZV(i,this.compiler,r,this.onLoadEndListener).pipe(oc(()=>{this.childrenLoaders.delete(i)})),a=new da(s,()=>new at).pipe(ua());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ZV(t,e,n,r){return ao(t.loadChildren()).pipe(ze(d1),Dt(i=>i instanceof mc||Array.isArray(i)?xe(i):ht(e.compileModuleAsync(i))),ze(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(_0,[],{optional:!0,self:!0}).flat()),{routes:s.map(C0),injector:o}}))}function YV(t){return t&&typeof t=="object"&&"default"in t}function d1(t){return YV(t)?t.default:t}var D0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:()=>V(JV),providedIn:"root"});let t=e;return t})(),JV=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),QV=new _e("");var XV=new _e(""),eB=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new at,this.transitionAbortSubject=new at,this.configLoader=V(KV),this.environmentInjector=V(On),this.urlSerializer=V(g0),this.rootContexts=V(up),this.location=V(Ic),this.inputBindingEnabled=V(v0,{optional:!0})!==null,this.titleStrategy=V(u1),this.options=V(w0,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=V(D0),this.createViewTransition=V(QV,{optional:!0}),this.navigationErrorHandler=V(XV,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>xe(void 0),this.rootComponentType=null;let r=o=>this.events.next(new Xv(o)),i=o=>this.events.next(new e0(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(Pe(Z(Z({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new Lt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Pc,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Kn(s=>s.id!==0),ze(s=>Pe(Z({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Zn(s=>{let a=!1,l=!1;return xe(s).pipe(Zn(d=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",xn.SupersededByNewNavigation),_n;this.currentTransition=s,this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?Pe(Z({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let f=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),m=d.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!f&&m!=="reload"){let y="";return this.events.next(new ds(d.id,this.urlSerializer.serialize(d.rawUrl),y,Kv.IgnoredSameUrlNavigation)),d.resolve(!1),_n}if(this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return xe(d).pipe(Zn(y=>{let v=this.transitions?.getValue();return this.events.next(new jc(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),v!==this.transitions?.getValue()?_n:Promise.resolve(y)}),zV(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Vt(y=>{s.targetSnapshot=y.targetSnapshot,s.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation=Pe(Z({},this.currentNavigation),{finalUrl:y.urlAfterRedirects});let v=new rp(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(v)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(d.currentRawUrl)){let{id:y,extractedUrl:v,source:b,restoredState:I,extras:k}=d,H=new jc(y,this.urlSerializer.serialize(v),b,I);this.events.next(H);let ie=e1(this.rootComponentType).snapshot;return this.currentTransition=s=Pe(Z({},d),{targetSnapshot:ie,urlAfterRedirects:v,extras:Pe(Z({},k),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=v,xe(s)}else{let y="";return this.events.next(new ds(d.id,this.urlSerializer.serialize(d.extractedUrl),y,Kv.IgnoredByUrlHandlingStrategy)),d.resolve(!1),_n}}),Vt(d=>{let f=new Zv(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),ze(d=>(this.currentTransition=s=Pe(Z({},d),{guards:aV(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),s)),vV(this.environmentInjector,d=>this.events.next(d)),Vt(d=>{if(s.guardsResult=d.guardsResult,d.guardsResult&&typeof d.guardsResult!="boolean")throw lp(this.urlSerializer,d.guardsResult);let f=new Yv(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(f)}),Kn(d=>d.guardsResult?!0:(this.cancelNavigationTransition(d,"",xn.GuardRejected),!1)),zv(d=>{if(d.guards.canActivateChecks.length)return xe(d).pipe(Vt(f=>{let m=new Jv(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}),Zn(f=>{let m=!1;return xe(f).pipe(UV(this.paramsInheritanceStrategy,this.environmentInjector),Vt({next:()=>m=!0,complete:()=>{m||this.cancelNavigationTransition(f,"",xn.NoDataFromResolver)}}))}),Vt(f=>{let m=new Qv(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}))}),zv(d=>{let f=m=>{let y=[];m.routeConfig?.loadComponent&&!m.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(m.routeConfig).pipe(Vt(v=>{m.component=v}),ze(()=>{})));for(let v of m.children)y.push(...f(v));return y};return Ad(f(d.targetSnapshot.root)).pipe(Hi(null),Qr(1))}),zv(()=>this.afterPreactivation()),Zn(()=>{let{currentSnapshot:d,targetSnapshot:f}=s,m=this.createViewTransition?.(this.environmentInjector,d.root,f.root);return m?ht(m).pipe(ze(()=>s)):xe(s)}),ze(d=>{let f=X2(r.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return this.currentTransition=s=Pe(Z({},d),{targetRouterState:f}),this.currentNavigation.targetRouterState=f,s}),Vt(()=>{this.events.next(new zc)}),sV(this.rootContexts,r.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),Qr(1),Vt({next:d=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new us(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects))),this.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{a=!0}}),sc(this.transitionAbortSubject.pipe(Vt(d=>{throw d}))),oc(()=>{!a&&!l&&this.cancelNavigationTransition(s,"",xn.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),ji(d=>{if(l=!0,o1(d))this.events.next(new di(s.id,this.urlSerializer.serialize(s.extractedUrl),d.message,d.cancellationCode)),nV(d)?this.events.next(new Ka(d.url,d.navigationBehaviorOptions)):s.resolve(!1);else{let f=new Hc(s.id,this.urlSerializer.serialize(s.extractedUrl),d,s.targetSnapshot??void 0);try{let m=ni(this.environmentInjector,()=>this.navigationErrorHandler?.(f));if(m instanceof $c){let{message:y,cancellationCode:v}=lp(this.urlSerializer,m);this.events.next(new di(s.id,this.urlSerializer.serialize(s.extractedUrl),y,v)),this.events.next(new Ka(m.redirectTo,m.navigationBehaviorOptions))}else{this.events.next(f);let y=r.errorHandler(d);s.resolve(!!y)}}catch(m){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(m)}}return _n}))}))}cancelNavigationTransition(r,i,o){let s=new di(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function tB(t){return t!==Pc}var nB=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:()=>V(rB),providedIn:"root"});let t=e;return t})(),m0=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},rB=(()=>{let e=class e extends m0{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Fa(e)))(o||e)}})(),e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),f1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:()=>V(iB),providedIn:"root"});let t=e;return t})(),iB=(()=>{let e=class e extends f1{constructor(){super(...arguments),this.location=V(Ic),this.urlSerializer=V(g0),this.options=V(w0,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=V(D0),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new so,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=e1(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof jc)this.stateMemento=this.createStateMemento();else if(r instanceof ds)this.rawUrlTree=i.initialUrl;else if(r instanceof rp){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof zc?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof di&&(r.code===xn.GuardRejected||r.code===xn.NoDataFromResolver)?this.restoreHistory(i):r instanceof Hc?this.restoreHistory(i,!0):r instanceof us&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=Z(Z({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=Z(Z({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Fa(e)))(o||e)}})(),e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Oc=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Oc||{});function oB(t,e){t.events.pipe(Kn(n=>n instanceof us||n instanceof di||n instanceof Hc||n instanceof ds),ze(n=>n instanceof us||n instanceof ds?Oc.COMPLETE:(n instanceof di?n.code===xn.Redirect||n.code===xn.SupersededByNewNavigation:!1)?Oc.REDIRECTING:Oc.FAILED),Kn(n=>n!==Oc.REDIRECTING),Qr(1)).subscribe(()=>{e()})}function sB(t){throw t}var aB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},lB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},p1=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=V(jf),this.stateManager=V(f1),this.options=V(w0,{optional:!0})||{},this.pendingTasks=V(Va),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=V(eB),this.urlSerializer=V(g0),this.location=V(Ic),this.urlHandlingStrategy=V(D0),this._events=new at,this.errorHandler=this.options.errorHandler||sB,this.navigated=!1,this.routeReuseStrategy=V(nB),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=V(_0,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!V(v0,{optional:!0}),this.eventsSubscription=new yt,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof di&&i.code!==xn.Redirect&&i.code!==xn.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof us)this.navigated=!0;else if(i instanceof Ka){let a=i.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),d=Z({info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||tB(o.source)},a);this.scheduleNavigation(l,Pc,null,d,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}uB(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Pc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let d=Z({},o);delete d.navigationId,delete d.\u0275routerPageId,Object.keys(d).length!==0&&(s.state=d)}let l=this.parseUrl(r);this.scheduleNavigation(l,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(C0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:d}=i,f=d?this.currentUrlTree.fragment:a,m=null;switch(l){case"merge":m=Z(Z({},this.currentUrlTree.queryParams),s);break;case"preserve":m=this.currentUrlTree.queryParams;break;default:m=s||null}m!==null&&(m=this.removeEmptyProps(m));let y;try{let v=o?o.snapshot:this.routerState.snapshot.root;y=YE(v)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),y=this.currentUrlTree.root}return JE(y,r,m,f??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=Vc(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Pc,null,i)}navigate(r,i={skipLocationChange:!1}){return cB(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=Z({},aB):i===!1?o=Z({},lB):o=i,Vc(r))return OE(this.currentUrlTree,r,o);let s=this.parseUrl(r);return OE(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let l,d,f;a?(l=a.resolve,d=a.reject,f=a.promise):f=new Promise((y,v)=>{l=y,d=v});let m=this.pendingTasks.add();return oB(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(m))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:l,reject:d,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(y=>Promise.reject(y))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function cB(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new ae(4008,!1)}function uB(t){return!(t instanceof zc)&&!(t instanceof Ka)}var dB=new _e("");function h1(t,...e){return vf([{provide:_0,multi:!0,useValue:t},[],{provide:Za,useFactory:fB,deps:[p1]},{provide:vv,multi:!0,useFactory:pB},e.map(n=>n.\u0275providers)])}function fB(t){return t.routerState.root}function pB(){let t=V(xr);return e=>{let n=t.get(io);if(e!==n.components[0])return;let r=t.get(p1),i=t.get(hB);t.get(mB)===1&&r.initialNavigation(),t.get(gB,null,Le.Optional)?.setUpPreloading(),t.get(dB,null,Le.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var hB=new _e("",{factory:()=>new at}),mB=new _e("",{providedIn:"root",factory:()=>1});var gB=new _e("");var m1=[];var g1={providers:[nE({eventCoalescing:!0}),h1(m1)]};var fp=(()=>{let e=class e{roll(r=0,i=1,o=20){return Math.floor(Math.random()*o)+i+r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var he=(()=>{let e=class e{constructor(){this.rollerService=V(fp),this.title="Oracle Base Service",this.followUpOracle=[]}getResult(r=void 0){return"This is the base class, choose an oracle"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var y1=(()=>{let e=class e{constructor(){this.oracle=new he,this.oracleResultEvent=new We}rollOracle(){this.oracleResultEvent.emit({oracle:this.oracle,result:this.oracle.getResult()})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Fe({type:e,selectors:[["app-oracle"]],inputs:{oracle:"oracle"},outputs:{oracleResultEvent:"oracleResultEvent"},standalone:!0,features:[Qe],decls:2,vars:1,consts:[[1,"btn","rounded-full","mx-2","w-full",3,"click"]],template:function(i,o){i&1&&(S(0,"button",0),Y("click",function(){return o.rollOracle()}),j(1),E()),i&2&&(A(),bt(o.oracle.title))}});let t=e;return t})();var v1=(()=>{let e=class e extends he{constructor(){super(),this.title="Mission Types"}getResult(r=void 0){switch(r===void 0?this.rollerService.roll():r){case 1:return"Aid and Relief";case 2:return"Conspiracy";case 3:return"Deep Space Exploration";case 4:return"Defence";case 5:return"Diplomacy";case 6:return"Escort and Evacuation";case 7:return"Espionage";case 8:return"First Contact";case 9:return"Medical";case 10:return"Near Space Exploration";case 11:return"Patrol";case 12:return"Planetary Exploration";case 13:return"Political";case 14:return"Research and Development";case 15:return"Show the Flag";case 16:return"Spiritual";case 17:return"Starfleet JAG";case 18:return"Tactical";case 19:case 20:let o=this.rollerService.roll(0,1,18),s=this.rollerService.roll(0,1,18);for(;s===o;)s=this.rollerService.roll(0,1,18);return this.getResult(o)+" AND "+this.getResult(s);default:return"Roll Again"}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var C1=(()=>{let e=class e extends he{constructor(){super(),this.title="Aid and Relief"}getResult(r=void 0){switch(r===void 0?this.rollerService.roll():r){case 1:return"Discover stowaway on another ship";case 2:return"Ensure key data is transmitted";case 3:return"Ferry food to famine-stricken world";case 4:return"Find lost escape pod";case 5:return"Fulfil dying officer's last wish";case 6:return"Help build back a failed economy";case 7:return"Improve sensors to detect hostiles";case 8:return"Investigate why convoy is under attack";case 9:return"Locate ship lost in anomoly";case 10:return"Negotiate trade agreement to save species";case 11:return"Plot course for convoy";case 12:return"Prevent natural disaster with science";case 13:return"Protect merchant convoy";case 14:return"Provide aid to an enemy";case 15:return"Provide counseling services to distressed parties";case 16:return"Provide needed resoruce to station or ship";case 17:return"Provide power to ship or colony";case 18:return"Repair colony's defence grid";case 19:return"Respond to planetary distress call";case 20:return"Upgrade civilian ships";default:return"Roll Again"}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var b1=(()=>{let e=class e extends he{constructor(){super(),this.title="Incident"}getResult(r=void 0){switch(r===void 0?this.rollerService.roll():r){case 1:return"Arrest";case 2:return"Build";case 3:return"Command";case 4:return"Control";case 5:return"Debate";case 6:return"Destroy";case 7:return"Explore";case 8:return"Investigate";case 9:return"Medicate";case 10:return"Navigate";case 11:return"Rescue";case 12:return"Research";case 13:return"Retrieve";case 14:return"Save";case 15:return"Survey";case 16:return"Terraform";case 17:return"Transform";case 18:return"Unite";case 19:case 20:let o=this.rollerService.roll(0,1,18),s=this.rollerService.roll(0,1,18);for(;s===o;)s=this.rollerService.roll(0,1,18);return this.getResult(o)+" AND "+this.getResult(s);default:return"Roll Again"}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var w1=(()=>{let e=class e extends he{constructor(){super(),this.title="Theme"}getResult(r=void 0){switch(r===void 0?this.rollerService.roll():r){case 1:return"Ancient Ruin";case 2:return"Colony";case 3:return"Crater";case 4:return"Energy Being";case 5:return"Exploding Planet";case 6:return"Gravimetric Distortion";case 7:return"Living Ship";case 8:return"Marooned Shuttlecraft";case 9:return"Nest";case 10:return"Quarantine Zone";case 11:return"Relic";case 12:return"Rogue Comet";case 13:return"Rogue Superweapon";case 14:return"Salvagable Wreck";case 15:return"Sentient Machine";case 16:return"Spatial Rift";case 17:return"Temporal Anomoly";case 18:return"Unknown life-form";case 19:case 20:let o=this.rollerService.roll(0,1,18),s=this.rollerService.roll(0,1,18);for(;s===o;)s=this.rollerService.roll(0,1,18);return this.getResult(o)+" AND "+this.getResult(s);default:return"Roll Again"}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var _1=(()=>{let e=class e extends he{constructor(){super(),this.title="Advantages"}getResult(r=void 0){switch(r===void 0?this.rollerService.roll():r){case 1:return"A Chance Encounter";case 2:return"Surplus Components";case 3:return"Surprise Discovery";case 4:return"Remember Your Training";case 5:return"Second Wind";case 6:return"Helpful Species - Primitive";case 7:return"Helpful Species - Contemporaries";case 8:return"Helpful Species - Advanced";case 9:return"An Aincient Discovery";case 10:return"Federation Assitance";case 11:return"Change of Heart";case 12:return"Redundant Systems";case 13:return"Lucky Circumstances";case 14:return"Beneficial Element";case 15:return"Inspiring Vista";case 16:return"Historic Precedent";case 17:return"Advanced Prototype";case 18:return"Critical Evidence";case 19:return"Power Surge";case 20:let o=this.rollerService.roll(0,1,19),s=this.rollerService.roll(0,1,19);for(;s===o;)s=this.rollerService.roll(0,1,19);return this.getResult(o)+" AND "+this.getResult(s);default:return"Roll Again"}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var D1=(()=>{let e=class e extends he{constructor(){super(),this.title="Complications"}getResult(r=void 0){switch(r===void 0?this.rollerService.roll():r){case 1:return"Total Catastrophe";case 2:return"Inferior Equipment";case 3:return"Random Failure";case 4:return"Horrific Discovery";case 5:return"Crisis of Conscience";case 6:return"Unexpected Attack";case 7:return"Disease Outbreak";case 8:return"Environmental Danger";case 9:return"Sudden Reversal";case 10:return"Absolute Bedlam";case 11:return"Conflicting Orders";case 12:return"Shattered Chain of Command";case 13:return"Infiltrator";case 14:return"Mesmerized Crew";case 15:return"Overworked Crew";case 16:return"Diplomatic Incident";case 17:return"Inept Crewmember";case 18:return"Massive Casualties";case 19:return"More Valuable Than Useful";case 20:let o=this.rollerService.roll(0,1,19),s=this.rollerService.roll(0,1,19);for(;s===o;)s=this.rollerService.roll(0,1,19);return this.getResult(o)+" AND "+this.getResult(s);default:return"Roll Again"}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var S1=(()=>{let e=class e extends he{constructor(){super(),this.title="Encounters"}getResult(r=void 0){switch(r===void 0?this.rollerService.roll():r){case 1:case 2:case 3:return"Abandoned Places";case 4:case 5:case 6:case 7:return"Deep Space";case 8:return"Different Time or Reality";case 9:case 10:case 11:return"Inhabited Planet";case 12:case 13:case 14:return"Spacefaring Civilizations";case 15:case 16:case 17:return"Subspace";case 18:case 19:case 20:return"Uninhabited Planet";default:return"Roll Again"}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var E1=(()=>{let e=class e extends he{constructor(){super(),this.title="Momentum"}getResult(r=void 0){switch(r===void 0?this.rollerService.roll():r){case 1:case 2:case 3:case 4:return"Advanced Warning";case 5:case 6:case 7:return"Danger Revealed";case 8:case 9:case 10:return"Friendly Aliens";case 11:case 12:case 13:return"New Technology";case 14:case 15:case 16:return"Refuge";case 17:case 18:case 19:case 20:return"Trade Opportunity";default:return"Roll Again"}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var x1=(()=>{let e=class e extends he{constructor(){super(),this.title="Threat"}getResult(r=void 0){switch(r===void 0?this.rollerService.roll():r){case 1:case 2:case 3:case 4:return"Gravity";case 5:case 6:case 7:return"Hostile Alien Entity";case 8:case 9:case 10:return"Psionic Incident";case 11:case 12:case 13:case 14:return"Ship in Distress";case 15:case 16:case 17:case 18:return"Subspace";case 19:return"Systems Failure";case 20:return"Temporal Anomoly";default:return"Roll Again"}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var I1=(()=>{let e=class e extends he{constructor(){super(),this.title="Conspiracy"}getResult(r=void 0){switch(r===void 0?this.rollerService.roll():r){case 1:return"Allied with Enemies";case 2:return"Assassination Planned";case 3:return"Conspiracy theory gone wild";case 4:return"Corrupt Starfleet official";case 5:return"Crewmate lying";case 6:return"Faked death";case 7:return"Government undermined from within";case 8:return"Informant discloses secrets";case 9:return"Intelligence leak";case 10:return"Intercepted messages";case 11:return"Misleading propoganda";case 12:return"New tech is spyware";case 13:return"Offical bribed";case 14:return"Paranoid pre-warp species";case 15:return"Politician poisoned or attacked";case 16:return"Possessed by alien entity";case 17:return"Replaced with body double";case 18:return"Sabotaged negotiations";case 19:return"Smuggling contraband";case 20:return"Unauthorized surveillance";default:return"Roll Again"}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var M1=(()=>{let e=class e extends he{constructor(){super(),this.title="Deep Space Exploration"}getResult(r=void 0){switch(r===void 0?this.rollerService.roll():r){case 1:return"Abandoned world or vessel";case 2:return"Advisor accompanying mission has mission of their own";case 3:return"Alien explorers were there before";case 4:return"Cosmozoan life-form is hungry";case 5:return"Cosmozoan life-form mistakes ship for rival";case 6:return"Cosmozoan life-form wants to mate with vessel";case 7:return"Cryostasis required to survive";case 8:return"Detect incoming threat";case 9:return"Discover a planet made of a strange substance";case 10:return"Dropping subspace beacons";case 11:return"Mapping a sector of space";case 12:return"Nebula is a sentient being";case 13:return"No communication with home";case 14:return"Peaceful planet offers respite";case 15:return"Ship becomes out of phase with reality";case 16:return"Strange probe discovered";case 17:return"Struck by object that sends ship off course";case 18:return"Test a technology";case 19:return"Warp does not work";case 20:return"Wormhole of unknown origins suddenly appears";default:return"Roll Again"}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var T1=(()=>{let e=class e extends he{constructor(){super(),this.title="Defence"}getResult(r=void 0){switch(r===void 0?this.rollerService.roll():r){case 1:return"Argue the benefits of the Prime Directive";case 2:return"Defend colony";case 3:return"Defend ship from sentient entity";case 4:return"Defend space station";case 5:return"Defend the Federation from a smear campaign";case 6:return"Engage in war games with tactical advisor";case 7:return"Join fleet for defensive maneuvers";case 8:return"Neutral Zone violation";case 9:return"Retrieve lost weapons";case 10:return"Protect the rights of a religious group";case 11:return"Provide protection for diplomat";case 12:return"Represent a foreign polity as a neutral party";case 13:return"Secure trade location";case 14:return"Security services for vital meeting";case 15:return"Set up defence for faction";case 16:return"Ship's tactical system taken over by hostile";case 17:return"Tactical maneuvers with ally";case 18:return"Uphold the rights of a federation citizen";case 19:return"Uphold the rights of a Federation world";case 20:return"Uphold the laws of a Non-Federation world";default:return"Roll Again"}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var A1=(()=>{let e=class e extends he{constructor(){super(),this.title="Diplomacy"}getResult(r=void 0){switch(r===void 0?this.rollerService.roll():r){case 1:return"Attend official event";case 2:return"Conduct anti-propogands campaign";case 3:return"Draft peace treaty";case 4:return"Establish trade routes";case 5:return"Facilitate government restructure";case 6:return"Host cultural exchange";case 7:return"Implement new policy";case 8:return"Implement training program";case 9:return"Investigate civil unrest";case 10:return"Mediate between rival factions";case 11:return"Negotiate release of political prisoner";case 12:return"Negotiate surrender";case 13:return"Negotiate trade deal";case 14:return"Serve as advisory committee";case 15:return"Set up Starfleet Academy extension";case 16:return"Settle border conflict";case 17:return"Settle international dispute";case 18:return"Settle interplanetary dispute";case 19:return"Sign mining accord";case 20:return"Oversee election";default:return"Roll Again"}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var k1=(()=>{let e=class e extends he{constructor(){super(),this.title="Escort and Evacuation"}getResult(r=void 0){switch(r===void 0?this.rollerService.roll():r){case 1:return"Aid scientists trapped in another realm";case 2:return"Attend congratulatory celebration for successful mission";case 3:return"Command fleet operation during evacuation";case 4:return"Deliver command officers to their new ship";case 5:return"Escort admiral to retirement location";case 6:return"Escort dignitary to crucial meeting";case 7:return"Escort key diplomat(s)";case 8:return"Evacuate planet";case 9:return"Evacuate ship about to explode";case 10:return"Evacuate space station";case 11:return"Evacuee out for revenge";case 12:return"Help evacuation efforts before natural disaster";case 13:return"Mechanical failure on escorted ship";case 14:return"Plot course for convoy";case 15:return"Rescue miners";case 16:return"Retrieve tactical team";case 17:return"Save endangered species from dying world";case 18:return"Shepherd civillian transport";case 19:return"Strategize evacuation scenario";case 20:return"Transfer supplies from one planet to another";default:return"Roll Again"}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var N1=(()=>{let e=class e extends he{constructor(){super(),this.title="Defence"}getResult(r=void 0){switch(r===void 0?this.rollerService.roll():r){case 1:return"Analyze captured prisoners";case 2:return"Analyze data to uncover plot";case 3:return"Collect data";case 4:return"Cosmetic surgery required";case 5:return"Decrypt message";case 6:return"Establish underworld contact";case 7:return"Faction sabotages negotiations";case 8:return"Fall off the frid to perform mission";case 9:return"Find weapons cache";case 10:return"Forensics investigation tainted";case 11:return"Infiltrate criminal gang or terrorist organisation";case 12:return"Intercept comm chatter";case 13:return"Monitor ship movements";case 14:return"Present evidence of conspiracy";case 15:return"Psychographic debriefing required";case 16:return"Psyops required";case 17:return"Recover hostages from unfriendly territory";case 18:return"Section 31 assignment";case 19:return"Spies discovered";case 20:return"Undercover operation into enemy territory";default:return"Roll Again"}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var O1=(()=>{let e=class e extends he{constructor(){super(),this.title="First Contact"}getResult(r=void 0){switch(r===void 0?this.rollerService.roll():r){case 1:return"Ascertain biochemical compatability";case 2:return"Assemble first contact team";case 3:return"Catalogue diseases and pathogens";case 4:return"Catalogue new technology";case 5:return"Compile linguistic database";case 6:return"Complete computer network integration";case 7:return"Create psychological profile of new species";case 8:return"Don ceremonial garb";case 9:return"Eat strange food";case 10:return"Establish security protocols";case 11:return"Establish transport procedures";case 12:return"Fix first contact gone wrong";case 13:return"Host diplomatic reception";case 14:return"Learn native dance";case 15:return"Make first contact";case 16:return"Participate in odd welcoming ceremony";case 17:return"Prepare xenoanthopological report";case 18:return"Repair malfunctioning duck blind";case 19:return"Second contact mission";case 20:return"Roll secondary directive from any mission type oracle";default:return"Roll Again"}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var R1=(()=>{let e=class e extends he{constructor(){super(),this.title="Medical"}getResult(r=void 0){switch(r===void 0?this.rollerService.roll():r){case 1:return"All crew get sick";case 2:return"Asked by enemies to assist with research";case 3:return"Bioweapon unleashed";case 4:return"Conduct medical forensics investigation";case 5:return"Conduct routine crew evaluations";case 6:return"Crew catches new flu bug";case 7:return"Crew sick after strange event";case 8:return"Crew transformed into something else";case 9:return"Crew members going insane";case 10:return"Dead person miraculously comes back to life";case 11:return"Disease is solution";case 12:return"Doctor abducted to help terrorist group";case 13:return"Medical supplies tainted";case 14:return"Plague on alien ship or station";case 15:return"Plague on enemy ship or station";case 16:return"Plague on planet";case 17:return"Psychic disease spreads";case 18:return"Psychographic profile needed of species";case 19:return"Ship system causes sickness";case 20:return"Speak at medical conference";default:return"Roll Again"}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var P1=(()=>{let e=class e extends he{constructor(){super(),this.title="Near Space Exploration"}getResult(r=void 0){switch(r===void 0?this.rollerService.roll():r){case 1:return"Alien probe enters Federation space";case 2:return"Art competition/show off your talents";case 3:return"Collect data on spatial anomoly";case 4:return"Crew member (or you) becomes a celebrity";case 5:return"Dedicate new colony";case 6:return"Dedicate new ship";case 7:return"Eliminate dangerous spatial phenomena";case 8:return"Enemy faction has established peaceful colony";case 9:return"Enemy polity makes a power grab";case 10:return"Family comes to visit";case 11:return"Host meeting with admirals";case 12:return"Lost starbase";case 13:return"New and different Bajoran orb discovered";case 14:return"New mineral or energy resource under dispute";case 15:return"New planet appears in Federation space";case 16:return"Seek permission from Starfleet to conduct fringe research";case 17:return"Sensors detect hidden foe";case 18:return"Sojourn back to homeworld";case 19:return"Treaty violations must be investigated";case 20:return"Visit local pleasure planet";default:return"Roll Again"}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var F1=(()=>{let e=class e extends he{constructor(){super(),this.title="Patrol"}getResult(r=void 0){switch(r===void 0?this.rollerService.roll():r){case 1:return"Analyze sensor readings on unknown ship";case 2:return"Away team patrols colony";case 3:return"Enemy blockade";case 4:return"Establish new patrol route";case 5:return"Find lost vessel";case 6:return"Install new sensor array";case 7:return"Investiate enemy fleet movements";case 8:return"Investiate strange event or anomoly";case 9:return"Long patrol; holodeck time";case 10:return"Monitor comm traffic";case 11:return"Negotiate patrol route";case 12:return"New warp-capable civilization contacted";case 13:return"Patrol hotspot (e.g., Cardassian Demilitarized Zone or Romulan Neutral Zone)";case 14:return"Repair collapsed defence grid";case 15:return"Rogue planet drifts into trade route";case 16:return"Search and rescue mission";case 17:return"Search detained vessel";case 18:return"Space mines inhibit movement";case 19:return"Survey a planetary surface";case 20:return"Tech floating adrift in space";default:return"Roll Again"}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var L1=(()=>{let e=class e extends he{constructor(){super(),this.title="Planetary Exploration"}getResult(r=void 0){switch(r===void 0?this.rollerService.roll():r){case 1:return"Cetacean planet";case 2:return"Corrosive environment";case 3:return"Crashed ship";case 4:return"Dry seabed reveals ancient civilization";case 5:return"Ecological collapse";case 6:return"Enemy research facility";case 7:return"Forbidden world";case 8:return"Geothermal springs offer health benefits";case 9:return"Holy planet";case 10:return"Mass graves";case 11:return"Massive battlefield";case 12:return"Meteorites constantly entering atmosphere";case 13:return"Pre-wap species detects starship";case 14:return"Prison planet";case 15:return"Radioactive fog hides secret colony";case 16:return"Rare element discovered";case 17:return"Secret weapons facility";case 18:return"Sentient liquid metal pools";case 19:return"Trap";case 20:return"Unusual flora or fauna holds solution";default:return"Roll Again"}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var V1=(()=>{let e=class e extends he{constructor(){super(),this.title="Political"}getResult(r=void 0){switch(r===void 0?this.rollerService.roll():r){case 1:return"Analyze conflict";case 2:return"Application to join Federation";case 3:return"Dismantle puppet government";case 4:return"Dissolve monetary system";case 5:return"Enforce Federation law";case 6:return"Expose corrupt politician";case 7:return"Extradite prisoner";case 8:return"Guard duty for rude dignitary";case 9:return"Honour retiring politician";case 10:return"Investigate use of banned technology";case 11:return"Investigate voter fraud";case 12:return"Issue arrest warrant";case 13:return"Manipulated media";case 14:return"Negotiate cease-fire";case 15:return"Politician needs a favour";case 16:return"Sanction noncompliant Federation planet";case 17:return"Stop flow of biogenic weaponry";case 18:return"Succession from the Federation";case 19:return"Transport cultural delegation";case 20:return"Violent uprising disrupts peace talks";default:return"Roll Again"}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var B1=(()=>{let e=class e extends he{constructor(){super(),this.title="Research and Development"}getResult(r=void 0){switch(r===void 0?this.rollerService.roll():r){case 1:return"Astrometrics enhancement";case 2:return"Communications upgrade";case 3:return"Deflector upgrade";case 4:return"Engine upgrade";case 5:return"Exploring the mind";case 6:return"Holographic technology";case 7:return"Innovation with replicators";case 8:return"Interdimensional event";case 9:return"Medical innovation";case 10:return"Navigational system";case 11:return"New energy resource";case 12:return"New polymer";case 13:return"Power systems upgrade";case 14:return"Prime directive relevance questioned";case 15:return"Sensors upgrade";case 16:return"Temporal sciences";case 17:return"Terraforming technology";case 18:return"Transporter technology";case 19:return"Utopia Planitia project";case 20:return"Weapons development";default:return"Roll Again"}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var j1=(()=>{let e=class e extends he{constructor(){super(),this.title="Show the Flag"}getResult(r=void 0){switch(r===void 0?this.rollerService.roll():r){case 1:return"Assist in building terraforming facilities";case 2:return"Construct water system on planet";case 3:return"Dedicate new space station";case 4:return"Deliver supplies to colony along Neutral Zone";case 5:return"Develop a new strain of disease-resistant food";case 6:return"Help alien species naviate safe trade route";case 7:return"Help rival cure disease";case 8:return"Lay claim to a planet";case 9:return"Plant the flag on a moon";case 10:return"Provide guidance on terraforming";case 11:return"Reinforce collapsed mineshaft";case 12:return"Repair malfunctioning weather control system";case 13:return"Secure asteroid for mining";case 14:return"Set up schools";case 15:return"Set up social program after a disaster";case 16:return"Stop an asteroid from hitting planet";case 17:return"Stop hostiles from harrassing colony";case 18:return"Track down pirates";case 19:return"Transport staff to relay station";case 20:return"Visit new member world";default:return"Roll Again"}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var H1=(()=>{let e=class e extends he{constructor(){super(),this.title="Spiritual"}getResult(r=void 0){switch(r===void 0?this.rollerService.roll():r){case 1:return"Ancient diety appears";case 2:return"Archeological dig uncovers hidden truth";case 3:return"Assist with restoration of religious site";case 4:return"Community has decided to give up religion";case 5:return"Crew member has prophetic vision";case 6:return"Dieties are proven to be other-dimensional aliens";case 7:return"Entire population has shared vision";case 8:return"Exiled spiritual figure returns";case 9:return"Life after death experience";case 10:return"Minority group wants representation";case 11:return"New religion begins to form";case 12:return"Prophesied disaster occurs";case 13:return"Religious dissidents exiled";case 14:return"Religious minority takes extreme action";case 15:return"Religious sect forbids alien visitors";case 16:return"Science conflicts with long-held belief";case 17:return"Spiritual figure assassinated";case 18:return"Temple defaced or destroyed";case 19:return"tradition unwittingly defiled by crew";case 20:return"Vow broken by holy order";default:return"Roll Again"}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var z1=(()=>{let e=class e extends he{constructor(){super(),this.title="Starfleet JAG"}getResult(r=void 0){switch(r===void 0?this.rollerService.roll():r){case 1:return"Advise Starfleet on enemy species";case 2:return"Advise Starfleet on territory boundaries";case 3:return"Argue case on behalf of former admiral";case 4:return"Conduct forensics investigation at crime scene";case 5:return"Defend fellow crew member in alien court";case 6:return"Defend Starfleet officer in court";case 7:return"Discipline rowdy cadets";case 8:return"Investigate corrupt judge";case 9:return"Investigate destruction of relay station";case 10:return"Investigate wrongful death";case 11:return"Negotiate land settlement";case 12:return"Prosecute contraband case";case 13:return"Prosecute environmental crime";case 14:return"Prosecute errant captain";case 15:return"Prosecure war crime";case 16:return"Review rules of engagement";case 17:return"Serve on court martial case";case 18:return"Serve subpoena to reclusive Starfleet individual";case 19:return"Transport JAG to court hearing";case 20:return"Unconver tainted evidence";default:return"Roll Again"}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var U1=(()=>{let e=class e extends he{constructor(){super(),this.title="Tactical"}getResult(r=void 0){switch(r===void 0?this.rollerService.roll():r){case 1:return"Admiral on board issues questionable order";case 2:return"Analyze enemy ship construction rates";case 3:return"Analyze weapon signatures";case 4:return"Appointed fleet commander";case 5:return"Blow something up";case 6:return"Borg incursion";case 7:return"Buy evacuees time to escape";case 8:return"Employ damage control teams";case 9:return"Engineer tactical advantage";case 10:return"Ground combat required";case 11:return"Negotiate cease-fire";case 12:return"Orbital bombardment";case 13:return"Plan battle";case 14:return"Provide ally tactical advice";case 15:return"Provide Starfleet ship deployment strategy";case 16:return"Put in place medical and rescue personnel";case 17:return"Reverse-engineer weapons technology";case 18:return"Run tactical drills";case 19:return"Swap executive officers";case 20:return"Use knowledge of local space to gain advantage";default:return"Roll Again"}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var yB=t=>({"modal-open":t}),$1=(()=>{let e=class e{constructor(){this.showModal=!1,this.modalTitle="TEST",this.modalMessage="MESSAGE",this.missionTypeOracle=V(v1),this.mtAidOracle=V(C1),this.mtConspiracyOracle=V(I1),this.mtDeepSpaceOracle=V(M1),this.mtDefenceOracle=V(T1),this.mtDiplomacyOracle=V(A1),this.mtEscortOracle=V(k1),this.mtEspionageOracle=V(N1),this.mtFirstContactOracle=V(O1),this.mtMedicalOracle=V(R1),this.mtNearSpaceOracle=V(P1),this.mtPatrolOracle=V(F1),this.mtPlanetaryOracle=V(L1),this.mtPoliticalOracle=V(V1),this.mtReseachOracle=V(B1),this.mtFlagOracle=V(j1),this.mtSpiritualOracle=V(H1),this.mtJagOracle=V(z1),this.mtTacticalOracle=V(U1),this.incidentOracle=V(b1),this.themeOracle=V(w1),this.advantagesOracle=V(_1),this.complicationsOracle=V(D1),this.encounterOracle=V(S1),this.momentumOracle=V(E1),this.threatOracle=V(x1)}showOracleModal(r){this.oracle=r.oracle,this.modalTitle=r.oracle.title,this.modalMessage=r.result,this.showModal=!0}closeOracleModal(){this.showModal=!1,this.oracle=void 0,this.modalTitle="",this.modalMessage=""}rerollOracle(){this.oracle!=null&&(this.modalMessage=this.oracle.getResult())}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Fe({type:e,selectors:[["app-oracles"]],standalone:!0,features:[Qe],decls:50,vars:30,consts:[["id","drawer-oracles","tabindex","-1","aria-labelledby","drawer-oracles-label",1,"fixed","top-0","right-0","z-40","h-screen","p-4","overflow-y-auto","transition-transform","translate-x-full","bg-white","w-80","dark:bg-gray-800"],["id","drawer-label",1,"inline-flex","items-center","mb-4","text-base","font-semibold","text-gray-500","dark:text-gray-400"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4","me-2.5"],["d","M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"],["type","button","data-drawer-hide","drawer-oracles","aria-controls","drawer-oracles",1,"text-gray-400","bg-transparent","hover:bg-gray-200","hover:text-gray-900","rounded-lg","text-sm","w-8","h-8","absolute","top-2.5","end-2.5","inline-flex","items-center","justify-center","dark:hover:bg-gray-600","dark:hover:text-white"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 14 14",1,"w-3","h-3"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"],[1,"sr-only"],[1,"grid","grid-cols-2","gap-2"],[1,"btn-error",3,"oracleResultEvent","oracle"],[1,"btn-success",3,"oracleResultEvent","oracle"],[1,"divider","col-span-2","my-0"],[1,"col-span-2","text-center"],[1,"btn-primary","col-span-2",3,"oracleResultEvent","oracle"],[1,"btn-secondary",3,"oracleResultEvent","oracle"],[1,"btn-primary",3,"oracleResultEvent","oracle"],["id","oracleModal",1,"modal","modal-bottom","sm:modal-middle",3,"ngClass"],[1,"modal-box"],[1,"text-lg","font-bold"],[1,"py-4"],[1,"modal-action"],[1,"btn",3,"click"]],template:function(i,o){i&1&&(S(0,"div",0)(1,"h5",1),Tr(),S(2,"svg",2),J(3,"path",3),E(),j(4,"Oracles"),E(),Ar(),S(5,"button",4),Tr(),S(6,"svg",5),J(7,"path",6),E(),Ar(),S(8,"span",7),j(9,"Close menu"),E()(),S(10,"div",8)(11,"app-oracle",9),Y("oracleResultEvent",function(a){return o.showOracleModal(a)}),E(),S(12,"app-oracle",10),Y("oracleResultEvent",function(a){return o.showOracleModal(a)}),E(),J(13,"div",11),S(14,"p",12),j(15,"Mission Generation"),E(),S(16,"app-oracle",13),Y("oracleResultEvent",function(a){return o.showOracleModal(a)}),E(),S(17,"app-oracle",14),Y("oracleResultEvent",function(a){return o.showOracleModal(a)}),E(),S(18,"app-oracle",14),Y("oracleResultEvent",function(a){return o.showOracleModal(a)}),E(),S(19,"app-oracle",14),Y("oracleResultEvent",function(a){return o.showOracleModal(a)}),E(),S(20,"app-oracle",14),Y("oracleResultEvent",function(a){return o.showOracleModal(a)}),E(),S(21,"app-oracle",14),Y("oracleResultEvent",function(a){return o.showOracleModal(a)}),E(),S(22,"app-oracle",14),Y("oracleResultEvent",function(a){return o.showOracleModal(a)}),E(),S(23,"app-oracle",14),Y("oracleResultEvent",function(a){return o.showOracleModal(a)}),E(),S(24,"app-oracle",14),Y("oracleResultEvent",function(a){return o.showOracleModal(a)}),E(),S(25,"app-oracle",14),Y("oracleResultEvent",function(a){return o.showOracleModal(a)}),E(),S(26,"app-oracle",14),Y("oracleResultEvent",function(a){return o.showOracleModal(a)}),E(),S(27,"app-oracle",14),Y("oracleResultEvent",function(a){return o.showOracleModal(a)}),E(),S(28,"app-oracle",14),Y("oracleResultEvent",function(a){return o.showOracleModal(a)}),E(),S(29,"app-oracle",14),Y("oracleResultEvent",function(a){return o.showOracleModal(a)}),E(),S(30,"app-oracle",14),Y("oracleResultEvent",function(a){return o.showOracleModal(a)}),E(),S(31,"app-oracle",14),Y("oracleResultEvent",function(a){return o.showOracleModal(a)}),E(),S(32,"app-oracle",14),Y("oracleResultEvent",function(a){return o.showOracleModal(a)}),E(),S(33,"app-oracle",14),Y("oracleResultEvent",function(a){return o.showOracleModal(a)}),E(),S(34,"app-oracle",14),Y("oracleResultEvent",function(a){return o.showOracleModal(a)}),E(),S(35,"app-oracle",15),Y("oracleResultEvent",function(a){return o.showOracleModal(a)}),E(),S(36,"app-oracle",15),Y("oracleResultEvent",function(a){return o.showOracleModal(a)}),E(),S(37,"app-oracle",9),Y("oracleResultEvent",function(a){return o.showOracleModal(a)}),E(),S(38,"app-oracle",10),Y("oracleResultEvent",function(a){return o.showOracleModal(a)}),E()()(),S(39,"dialog",16)(40,"div",17)(41,"h3",18),j(42),E(),S(43,"p",19),j(44),E(),S(45,"div",20)(46,"button",21),Y("click",function(){return o.rerollOracle()}),j(47,"Reroll"),E(),S(48,"button",21),Y("click",function(){return o.closeOracleModal()}),j(49,"Close"),E()()()()),i&2&&(A(11),$("oracle",o.threatOracle),A(),$("oracle",o.momentumOracle),A(4),$("oracle",o.missionTypeOracle),A(),$("oracle",o.mtAidOracle),A(),$("oracle",o.mtConspiracyOracle),A(),$("oracle",o.mtDeepSpaceOracle),A(),$("oracle",o.mtDefenceOracle),A(),$("oracle",o.mtDiplomacyOracle),A(),$("oracle",o.mtEscortOracle),A(),$("oracle",o.mtEspionageOracle),A(),$("oracle",o.mtFirstContactOracle),A(),$("oracle",o.mtMedicalOracle),A(),$("oracle",o.mtNearSpaceOracle),A(),$("oracle",o.mtPatrolOracle),A(),$("oracle",o.mtPlanetaryOracle),A(),$("oracle",o.mtPoliticalOracle),A(),$("oracle",o.mtReseachOracle),A(),$("oracle",o.mtFlagOracle),A(),$("oracle",o.mtSpiritualOracle),A(),$("oracle",o.mtJagOracle),A(),$("oracle",o.mtTacticalOracle),A(),$("oracle",o.incidentOracle),A(),$("oracle",o.themeOracle),A(),$("oracle",o.complicationsOracle),A(),$("oracle",o.advantagesOracle),A(),$("ngClass",xc(28,yB,o.showModal)),A(3),bt(o.modalTitle),A(2),bt(o.modalMessage))},dependencies:[y1,is]});let t=e;return t})();var vB=function(){function t(e,n){n===void 0&&(n=[]),this._eventType=e,this._eventFunctions=n}return t.prototype.init=function(){var e=this;this._eventFunctions.forEach(function(n){typeof window<"u"&&window.addEventListener(e._eventType,n)})},t}(),W1=vB;var CB=function(){function t(){this._instances={Accordion:{},Carousel:{},Collapse:{},Dial:{},Dismiss:{},Drawer:{},Dropdown:{},Modal:{},Popover:{},Tabs:{},Tooltip:{},InputCounter:{},CopyClipboard:{}}}return t.prototype.addInstance=function(e,n,r,i){if(i===void 0&&(i=!1),!this._instances[e])return console.warn("Flowbite: Component ".concat(e," does not exist.")),!1;if(this._instances[e][r]&&!i){console.warn("Flowbite: Instance with ID ".concat(r," already exists."));return}i&&this._instances[e][r]&&this._instances[e][r].destroyAndRemoveInstance(),this._instances[e][r||this._generateRandomId()]=n},t.prototype.getAllInstances=function(){return this._instances},t.prototype.getInstances=function(e){return this._instances[e]?this._instances[e]:(console.warn("Flowbite: Component ".concat(e," does not exist.")),!1)},t.prototype.getInstance=function(e,n){if(this._componentAndInstanceCheck(e,n)){if(!this._instances[e][n]){console.warn("Flowbite: Instance with ID ".concat(n," does not exist."));return}return this._instances[e][n]}},t.prototype.destroyAndRemoveInstance=function(e,n){this._componentAndInstanceCheck(e,n)&&(this.destroyInstanceObject(e,n),this.removeInstance(e,n))},t.prototype.removeInstance=function(e,n){this._componentAndInstanceCheck(e,n)&&delete this._instances[e][n]},t.prototype.destroyInstanceObject=function(e,n){this._componentAndInstanceCheck(e,n)&&this._instances[e][n].destroy()},t.prototype.instanceExists=function(e,n){return!(!this._instances[e]||!this._instances[e][n])},t.prototype._generateRandomId=function(){return Math.random().toString(36).substr(2,9)},t.prototype._componentAndInstanceCheck=function(e,n){return this._instances[e]?this._instances[e][n]?!0:(console.warn("Flowbite: Instance with ID ".concat(n," does not exist.")),!1):(console.warn("Flowbite: Component ".concat(e," does not exist.")),!1)},t}(),G1=new CB,Ce=G1;typeof window<"u"&&(window.FlowbiteInstances=G1);var pp=function(){return pp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},pp.apply(this,arguments)},hp={alwaysOpen:!1,activeClasses:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white",inactiveClasses:"text-gray-500 dark:text-gray-400",onOpen:function(){},onClose:function(){},onToggle:function(){}},bB={id:null,override:!0},q1=function(){function t(e,n,r,i){e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=hp),i===void 0&&(i=bB),this._instanceId=i.id?i.id:e.id,this._accordionEl=e,this._items=n,this._options=pp(pp({},hp),r),this._initialized=!1,this.init(),Ce.addInstance("Accordion",this,this._instanceId,i.override)}return t.prototype.init=function(){var e=this;this._items.length&&!this._initialized&&(this._items.forEach(function(n){n.active&&e.open(n.id);var r=function(){e.toggle(n.id)};n.triggerEl.addEventListener("click",r),n.clickHandler=r}),this._initialized=!0)},t.prototype.destroy=function(){this._items.length&&this._initialized&&(this._items.forEach(function(e){e.triggerEl.removeEventListener("click",e.clickHandler),delete e.clickHandler}),this._initialized=!1)},t.prototype.removeInstance=function(){Ce.removeInstance("Accordion",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getItem=function(e){return this._items.filter(function(n){return n.id===e})[0]},t.prototype.open=function(e){var n,r,i=this,o=this.getItem(e);this._options.alwaysOpen||this._items.map(function(s){var a,l;s!==o&&((a=s.triggerEl.classList).remove.apply(a,i._options.activeClasses.split(" ")),(l=s.triggerEl.classList).add.apply(l,i._options.inactiveClasses.split(" ")),s.targetEl.classList.add("hidden"),s.triggerEl.setAttribute("aria-expanded","false"),s.active=!1,s.iconEl&&s.iconEl.classList.add("rotate-180"))}),(n=o.triggerEl.classList).add.apply(n,this._options.activeClasses.split(" ")),(r=o.triggerEl.classList).remove.apply(r,this._options.inactiveClasses.split(" ")),o.triggerEl.setAttribute("aria-expanded","true"),o.targetEl.classList.remove("hidden"),o.active=!0,o.iconEl&&o.iconEl.classList.remove("rotate-180"),this._options.onOpen(this,o)},t.prototype.toggle=function(e){var n=this.getItem(e);n.active?this.close(e):this.open(e),this._options.onToggle(this,n)},t.prototype.close=function(e){var n,r,i=this.getItem(e);(n=i.triggerEl.classList).remove.apply(n,this._options.activeClasses.split(" ")),(r=i.triggerEl.classList).add.apply(r,this._options.inactiveClasses.split(" ")),i.targetEl.classList.add("hidden"),i.triggerEl.setAttribute("aria-expanded","false"),i.active=!1,i.iconEl&&i.iconEl.classList.add("rotate-180"),this._options.onClose(this,i)},t.prototype.updateOnOpen=function(e){this._options.onOpen=e},t.prototype.updateOnClose=function(e){this._options.onClose=e},t.prototype.updateOnToggle=function(e){this._options.onToggle=e},t}();function Qa(){document.querySelectorAll("[data-accordion]").forEach(function(t){var e=t.getAttribute("data-accordion"),n=t.getAttribute("data-active-classes"),r=t.getAttribute("data-inactive-classes"),i=[];t.querySelectorAll("[data-accordion-target]").forEach(function(o){if(o.closest("[data-accordion]")===t){var s={id:o.getAttribute("data-accordion-target"),triggerEl:o,targetEl:document.querySelector(o.getAttribute("data-accordion-target")),iconEl:o.querySelector("[data-accordion-icon]"),active:o.getAttribute("aria-expanded")==="true"};i.push(s)}}),new q1(t,i,{alwaysOpen:e==="open",activeClasses:n||hp.activeClasses,inactiveClasses:r||hp.inactiveClasses})})}typeof window<"u"&&(window.Accordion=q1,window.initAccordions=Qa);var mp=function(){return mp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},mp.apply(this,arguments)},K1={onCollapse:function(){},onExpand:function(){},onToggle:function(){}},wB={id:null,override:!0},S0=function(){function t(e,n,r,i){e===void 0&&(e=null),n===void 0&&(n=null),r===void 0&&(r=K1),i===void 0&&(i=wB),this._instanceId=i.id?i.id:e.id,this._targetEl=e,this._triggerEl=n,this._options=mp(mp({},K1),r),this._visible=!1,this._initialized=!1,this.init(),Ce.addInstance("Collapse",this,this._instanceId,i.override)}return t.prototype.init=function(){var e=this;this._triggerEl&&this._targetEl&&!this._initialized&&(this._triggerEl.hasAttribute("aria-expanded")?this._visible=this._triggerEl.getAttribute("aria-expanded")==="true":this._visible=!this._targetEl.classList.contains("hidden"),this._clickHandler=function(){e.toggle()},this._triggerEl.addEventListener("click",this._clickHandler),this._initialized=!0)},t.prototype.destroy=function(){this._triggerEl&&this._initialized&&(this._triggerEl.removeEventListener("click",this._clickHandler),this._initialized=!1)},t.prototype.removeInstance=function(){Ce.removeInstance("Collapse",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.collapse=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onCollapse(this)},t.prototype.expand=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onExpand(this)},t.prototype.toggle=function(){this._visible?this.collapse():this.expand(),this._options.onToggle(this)},t.prototype.updateOnCollapse=function(e){this._options.onCollapse=e},t.prototype.updateOnExpand=function(e){this._options.onExpand=e},t.prototype.updateOnToggle=function(e){this._options.onToggle=e},t}();function Xa(){document.querySelectorAll("[data-collapse-toggle]").forEach(function(t){var e=t.getAttribute("data-collapse-toggle"),n=document.getElementById(e);n?Ce.instanceExists("Collapse",n.getAttribute("id"))?new S0(n,t,{},{id:n.getAttribute("id")+"_"+Ce._generateRandomId()}):new S0(n,t):console.error('The target element with id "'.concat(e,'" does not exist. Please check the data-collapse-toggle attribute.'))})}typeof window<"u"&&(window.Collapse=S0,window.initCollapses=Xa);var fs=function(){return fs=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},fs.apply(this,arguments)},gp={defaultPosition:0,indicators:{items:[],activeClasses:"bg-white dark:bg-gray-800",inactiveClasses:"bg-white/50 dark:bg-gray-800/50 hover:bg-white dark:hover:bg-gray-800"},interval:3e3,onNext:function(){},onPrev:function(){},onChange:function(){}},_B={id:null,override:!0},Z1=function(){function t(e,n,r,i){e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=gp),i===void 0&&(i=_B),this._instanceId=i.id?i.id:e.id,this._carouselEl=e,this._items=n,this._options=fs(fs(fs({},gp),r),{indicators:fs(fs({},gp.indicators),r.indicators)}),this._activeItem=this.getItem(this._options.defaultPosition),this._indicators=this._options.indicators.items,this._intervalDuration=this._options.interval,this._intervalInstance=null,this._initialized=!1,this.init(),Ce.addInstance("Carousel",this,this._instanceId,i.override)}return t.prototype.init=function(){var e=this;this._items.length&&!this._initialized&&(this._items.map(function(n){n.el.classList.add("absolute","inset-0","transition-transform","transform")}),this.getActiveItem()?this.slideTo(this.getActiveItem().position):this.slideTo(0),this._indicators.map(function(n,r){n.el.addEventListener("click",function(){e.slideTo(r)})}),this._initialized=!0)},t.prototype.destroy=function(){this._initialized&&(this._initialized=!1)},t.prototype.removeInstance=function(){Ce.removeInstance("Carousel",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getItem=function(e){return this._items[e]},t.prototype.slideTo=function(e){var n=this._items[e],r={left:n.position===0?this._items[this._items.length-1]:this._items[n.position-1],middle:n,right:n.position===this._items.length-1?this._items[0]:this._items[n.position+1]};this._rotate(r),this._setActiveItem(n),this._intervalInstance&&(this.pause(),this.cycle()),this._options.onChange(this)},t.prototype.next=function(){var e=this.getActiveItem(),n=null;e.position===this._items.length-1?n=this._items[0]:n=this._items[e.position+1],this.slideTo(n.position),this._options.onNext(this)},t.prototype.prev=function(){var e=this.getActiveItem(),n=null;e.position===0?n=this._items[this._items.length-1]:n=this._items[e.position-1],this.slideTo(n.position),this._options.onPrev(this)},t.prototype._rotate=function(e){if(this._items.map(function(n){n.el.classList.add("hidden")}),this._items.length===1){e.middle.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-10"),e.middle.el.classList.add("translate-x-0","z-20");return}e.left.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-20"),e.left.el.classList.add("-translate-x-full","z-10"),e.middle.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-10"),e.middle.el.classList.add("translate-x-0","z-30"),e.right.el.classList.remove("-translate-x-full","translate-x-full","translate-x-0","hidden","z-30"),e.right.el.classList.add("translate-x-full","z-20")},t.prototype.cycle=function(){var e=this;typeof window<"u"&&(this._intervalInstance=window.setInterval(function(){e.next()},this._intervalDuration))},t.prototype.pause=function(){clearInterval(this._intervalInstance)},t.prototype.getActiveItem=function(){return this._activeItem},t.prototype._setActiveItem=function(e){var n,r,i=this;this._activeItem=e;var o=e.position;this._indicators.length&&(this._indicators.map(function(s){var a,l;s.el.setAttribute("aria-current","false"),(a=s.el.classList).remove.apply(a,i._options.indicators.activeClasses.split(" ")),(l=s.el.classList).add.apply(l,i._options.indicators.inactiveClasses.split(" "))}),(n=this._indicators[o].el.classList).add.apply(n,this._options.indicators.activeClasses.split(" ")),(r=this._indicators[o].el.classList).remove.apply(r,this._options.indicators.inactiveClasses.split(" ")),this._indicators[o].el.setAttribute("aria-current","true"))},t.prototype.updateOnNext=function(e){this._options.onNext=e},t.prototype.updateOnPrev=function(e){this._options.onPrev=e},t.prototype.updateOnChange=function(e){this._options.onChange=e},t}();function el(){document.querySelectorAll("[data-carousel]").forEach(function(t){var e=t.getAttribute("data-carousel-interval"),n=t.getAttribute("data-carousel")==="slide",r=[],i=0;t.querySelectorAll("[data-carousel-item]").length&&Array.from(t.querySelectorAll("[data-carousel-item]")).map(function(d,f){r.push({position:f,el:d}),d.getAttribute("data-carousel-item")==="active"&&(i=f)});var o=[];t.querySelectorAll("[data-carousel-slide-to]").length&&Array.from(t.querySelectorAll("[data-carousel-slide-to]")).map(function(d){o.push({position:parseInt(d.getAttribute("data-carousel-slide-to")),el:d})});var s=new Z1(t,r,{defaultPosition:i,indicators:{items:o},interval:e||gp.interval});n&&s.cycle();var a=t.querySelector("[data-carousel-next]"),l=t.querySelector("[data-carousel-prev]");a&&a.addEventListener("click",function(){s.next()}),l&&l.addEventListener("click",function(){s.prev()})})}typeof window<"u"&&(window.Carousel=Z1,window.initCarousels=el);var yp=function(){return yp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},yp.apply(this,arguments)},Y1={transition:"transition-opacity",duration:300,timing:"ease-out",onHide:function(){}},DB={id:null,override:!0},J1=function(){function t(e,n,r,i){e===void 0&&(e=null),n===void 0&&(n=null),r===void 0&&(r=Y1),i===void 0&&(i=DB),this._instanceId=i.id?i.id:e.id,this._targetEl=e,this._triggerEl=n,this._options=yp(yp({},Y1),r),this._initialized=!1,this.init(),Ce.addInstance("Dismiss",this,this._instanceId,i.override)}return t.prototype.init=function(){var e=this;this._triggerEl&&this._targetEl&&!this._initialized&&(this._clickHandler=function(){e.hide()},this._triggerEl.addEventListener("click",this._clickHandler),this._initialized=!0)},t.prototype.destroy=function(){this._triggerEl&&this._initialized&&(this._triggerEl.removeEventListener("click",this._clickHandler),this._initialized=!1)},t.prototype.removeInstance=function(){Ce.removeInstance("Dismiss",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.hide=function(){var e=this;this._targetEl.classList.add(this._options.transition,"duration-".concat(this._options.duration),this._options.timing,"opacity-0"),setTimeout(function(){e._targetEl.classList.add("hidden")},this._options.duration),this._options.onHide(this,this._targetEl)},t.prototype.updateOnHide=function(e){this._options.onHide=e},t}();function tl(){document.querySelectorAll("[data-dismiss-target]").forEach(function(t){var e=t.getAttribute("data-dismiss-target"),n=document.querySelector(e);n?new J1(n,t):console.error('The dismiss element with id "'.concat(e,'" does not exist. Please check the data-dismiss-target attribute.'))})}typeof window<"u"&&(window.Dismiss=J1,window.initDismisses=tl);var ft="top",Et="bottom",wt="right",gt="left",vp="auto",lo=[ft,Et,wt,gt],fi="start",ps="end",Q1="clippingParents",Cp="viewport",nl="popper",X1="reference",E0=lo.reduce(function(t,e){return t.concat([e+"-"+fi,e+"-"+ps])},[]),bp=[].concat(lo,[vp]).reduce(function(t,e){return t.concat([e,e+"-"+fi,e+"-"+ps])},[]),SB="beforeRead",EB="read",xB="afterRead",IB="beforeMain",MB="main",TB="afterMain",AB="beforeWrite",kB="write",NB="afterWrite",ex=[SB,EB,xB,IB,MB,TB,AB,kB,NB];function kt(t){return t?(t.nodeName||"").toLowerCase():null}function ct(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Ln(t){var e=ct(t).Element;return t instanceof e||t instanceof Element}function xt(t){var e=ct(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function rl(t){if(typeof ShadowRoot>"u")return!1;var e=ct(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function OB(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!xt(o)||!kt(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function RB(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=s.reduce(function(l,d){return l[d]="",l},{});!xt(i)||!kt(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}var tx={name:"applyStyles",enabled:!0,phase:"write",fn:OB,effect:RB,requires:["computeStyles"]};function Nt(t){return t.split("-")[0]}var ar=Math.max,hs=Math.min,pi=Math.round;function il(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Yc(){return!/^((?!chrome|android).)*safari/i.test(il())}function Vn(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&xt(t)&&(i=t.offsetWidth>0&&pi(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&pi(r.height)/t.offsetHeight||1);var s=Ln(t)?ct(t):window,a=s.visualViewport,l=!Yc()&&n,d=(r.left+(l&&a?a.offsetLeft:0))/i,f=(r.top+(l&&a?a.offsetTop:0))/o,m=r.width/i,y=r.height/o;return{width:m,height:y,top:f,right:d+m,bottom:f+y,left:d,x:d,y:f}}function ms(t){var e=Vn(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function Jc(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&rl(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function sn(t){return ct(t).getComputedStyle(t)}function x0(t){return["table","td","th"].indexOf(kt(t))>=0}function jt(t){return((Ln(t)?t.ownerDocument:t.document)||window.document).documentElement}function hi(t){return kt(t)==="html"?t:t.assignedSlot||t.parentNode||(rl(t)?t.host:null)||jt(t)}function nx(t){return!xt(t)||sn(t).position==="fixed"?null:t.offsetParent}function PB(t){var e=/firefox/i.test(il()),n=/Trident/i.test(il());if(n&&xt(t)){var r=sn(t);if(r.position==="fixed")return null}var i=hi(t);for(rl(i)&&(i=i.host);xt(i)&&["html","body"].indexOf(kt(i))<0;){var o=sn(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function lr(t){for(var e=ct(t),n=nx(t);n&&x0(n)&&sn(n).position==="static";)n=nx(n);return n&&(kt(n)==="html"||kt(n)==="body"&&sn(n).position==="static")?e:n||PB(t)||e}function gs(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function ys(t,e,n){return ar(t,hs(e,n))}function rx(t,e,n){var r=ys(t,e,n);return r>n?n:r}function Qc(){return{top:0,right:0,bottom:0,left:0}}function Xc(t){return Object.assign({},Qc(),t)}function eu(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var FB=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Xc(typeof e!="number"?e:eu(e,lo))};function LB(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=Nt(n.placement),l=gs(a),d=[gt,wt].indexOf(a)>=0,f=d?"height":"width";if(!(!o||!s)){var m=FB(i.padding,n),y=ms(o),v=l==="y"?ft:gt,b=l==="y"?Et:wt,I=n.rects.reference[f]+n.rects.reference[l]-s[l]-n.rects.popper[f],k=s[l]-n.rects.reference[l],H=lr(o),ie=H?l==="y"?H.clientHeight||0:H.clientWidth||0:0,me=I/2-k/2,oe=m[v],Se=ie-y[f]-m[b],ue=ie/2-y[f]/2+me,Me=ys(oe,ue,Se),Re=l;n.modifiersData[r]=(e={},e[Re]=Me,e.centerOffset=Me-ue,e)}}function VB(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Jc(e.elements.popper,i)&&(e.elements.arrow=i))}var ix={name:"arrow",enabled:!0,phase:"main",fn:LB,effect:VB,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Bn(t){return t.split("-")[1]}var BB={top:"auto",right:"auto",bottom:"auto",left:"auto"};function jB(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:pi(n*i)/i||0,y:pi(r*i)/i||0}}function ox(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,a=t.position,l=t.gpuAcceleration,d=t.adaptive,f=t.roundOffsets,m=t.isFixed,y=s.x,v=y===void 0?0:y,b=s.y,I=b===void 0?0:b,k=typeof f=="function"?f({x:v,y:I}):{x:v,y:I};v=k.x,I=k.y;var H=s.hasOwnProperty("x"),ie=s.hasOwnProperty("y"),me=gt,oe=ft,Se=window;if(d){var ue=lr(n),Me="clientHeight",Re="clientWidth";if(ue===ct(n)&&(ue=jt(n),sn(ue).position!=="static"&&a==="absolute"&&(Me="scrollHeight",Re="scrollWidth")),ue=ue,i===ft||(i===gt||i===wt)&&o===ps){oe=Et;var fe=m&&ue===Se&&Se.visualViewport?Se.visualViewport.height:ue[Me];I-=fe-r.height,I*=l?1:-1}if(i===gt||(i===ft||i===Et)&&o===ps){me=wt;var Ge=m&&ue===Se&&Se.visualViewport?Se.visualViewport.width:ue[Re];v-=Ge-r.width,v*=l?1:-1}}var ut=Object.assign({position:a},d&&BB),$t=f===!0?jB({x:v,y:I},ct(n)):{x:v,y:I};if(v=$t.x,I=$t.y,l){var Pt;return Object.assign({},ut,(Pt={},Pt[oe]=ie?"0":"",Pt[me]=H?"0":"",Pt.transform=(Se.devicePixelRatio||1)<=1?"translate("+v+"px, "+I+"px)":"translate3d("+v+"px, "+I+"px, 0)",Pt))}return Object.assign({},ut,(e={},e[oe]=ie?I+"px":"",e[me]=H?v+"px":"",e.transform="",e))}function HB(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,l=a===void 0?!0:a,d={placement:Nt(e.placement),variation:Bn(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,ox(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,ox(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var sx={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:HB,data:{}};var wp={passive:!0};function zB(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,l=ct(e.elements.popper),d=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&d.forEach(function(f){f.addEventListener("scroll",n.update,wp)}),a&&l.addEventListener("resize",n.update,wp),function(){o&&d.forEach(function(f){f.removeEventListener("scroll",n.update,wp)}),a&&l.removeEventListener("resize",n.update,wp)}}var ax={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:zB,data:{}};var UB={left:"right",right:"left",bottom:"top",top:"bottom"};function ol(t){return t.replace(/left|right|bottom|top/g,function(e){return UB[e]})}var $B={start:"end",end:"start"};function _p(t){return t.replace(/start|end/g,function(e){return $B[e]})}function vs(t){var e=ct(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Cs(t){return Vn(jt(t)).left+vs(t).scrollLeft}function I0(t,e){var n=ct(t),r=jt(t),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var d=Yc();(d||!d&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+Cs(t),y:l}}function M0(t){var e,n=jt(t),r=vs(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=ar(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=ar(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+Cs(t),l=-r.scrollTop;return sn(i||n).direction==="rtl"&&(a+=ar(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function bs(t){var e=sn(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Dp(t){return["html","body","#document"].indexOf(kt(t))>=0?t.ownerDocument.body:xt(t)&&bs(t)?t:Dp(hi(t))}function co(t,e){var n;e===void 0&&(e=[]);var r=Dp(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=ct(r),s=i?[o].concat(o.visualViewport||[],bs(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(co(hi(s)))}function sl(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function WB(t,e){var n=Vn(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function lx(t,e,n){return e===Cp?sl(I0(t,n)):Ln(e)?WB(e,n):sl(M0(jt(t)))}function GB(t){var e=co(hi(t)),n=["absolute","fixed"].indexOf(sn(t).position)>=0,r=n&&xt(t)?lr(t):t;return Ln(r)?e.filter(function(i){return Ln(i)&&Jc(i,r)&&kt(i)!=="body"}):[]}function T0(t,e,n,r){var i=e==="clippingParents"?GB(t):[].concat(e),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(l,d){var f=lx(t,d,r);return l.top=ar(f.top,l.top),l.right=hs(f.right,l.right),l.bottom=hs(f.bottom,l.bottom),l.left=ar(f.left,l.left),l},lx(t,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function tu(t){var e=t.reference,n=t.element,r=t.placement,i=r?Nt(r):null,o=r?Bn(r):null,s=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case ft:l={x:s,y:e.y-n.height};break;case Et:l={x:s,y:e.y+e.height};break;case wt:l={x:e.x+e.width,y:a};break;case gt:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var d=i?gs(i):null;if(d!=null){var f=d==="y"?"height":"width";switch(o){case fi:l[d]=l[d]-(e[f]/2-n[f]/2);break;case ps:l[d]=l[d]+(e[f]/2-n[f]/2);break;default:}}return l}function cr(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,s=o===void 0?t.strategy:o,a=n.boundary,l=a===void 0?Q1:a,d=n.rootBoundary,f=d===void 0?Cp:d,m=n.elementContext,y=m===void 0?nl:m,v=n.altBoundary,b=v===void 0?!1:v,I=n.padding,k=I===void 0?0:I,H=Xc(typeof k!="number"?k:eu(k,lo)),ie=y===nl?X1:nl,me=t.rects.popper,oe=t.elements[b?ie:y],Se=T0(Ln(oe)?oe:oe.contextElement||jt(t.elements.popper),l,f,s),ue=Vn(t.elements.reference),Me=tu({reference:ue,element:me,strategy:"absolute",placement:i}),Re=sl(Object.assign({},me,Me)),fe=y===nl?Re:ue,Ge={top:Se.top-fe.top+H.top,bottom:fe.bottom-Se.bottom+H.bottom,left:Se.left-fe.left+H.left,right:fe.right-Se.right+H.right},ut=t.modifiersData.offset;if(y===nl&&ut){var $t=ut[i];Object.keys(Ge).forEach(function(Pt){var pr=[wt,Et].indexOf(Pt)>=0?1:-1,hr=[ft,Et].indexOf(Pt)>=0?"y":"x";Ge[Pt]+=$t[hr]*pr})}return Ge}function A0(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,d=l===void 0?bp:l,f=Bn(r),m=f?a?E0:E0.filter(function(b){return Bn(b)===f}):lo,y=m.filter(function(b){return d.indexOf(b)>=0});y.length===0&&(y=m);var v=y.reduce(function(b,I){return b[I]=cr(t,{placement:I,boundary:i,rootBoundary:o,padding:s})[Nt(I)],b},{});return Object.keys(v).sort(function(b,I){return v[b]-v[I]})}function qB(t){if(Nt(t)===vp)return[];var e=ol(t);return[_p(t),e,_p(e)]}function KB(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,l=n.fallbackPlacements,d=n.padding,f=n.boundary,m=n.rootBoundary,y=n.altBoundary,v=n.flipVariations,b=v===void 0?!0:v,I=n.allowedAutoPlacements,k=e.options.placement,H=Nt(k),ie=H===k,me=l||(ie||!b?[ol(k)]:qB(k)),oe=[k].concat(me).reduce(function(fn,en){return fn.concat(Nt(en)===vp?A0(e,{placement:en,boundary:f,rootBoundary:m,padding:d,flipVariations:b,allowedAutoPlacements:I}):en)},[]),Se=e.rects.reference,ue=e.rects.popper,Me=new Map,Re=!0,fe=oe[0],Ge=0;Ge<oe.length;Ge++){var ut=oe[Ge],$t=Nt(ut),Pt=Bn(ut)===fi,pr=[ft,Et].indexOf($t)>=0,hr=pr?"width":"height",Xt=cr(e,{placement:ut,boundary:f,rootBoundary:m,altBoundary:y,padding:d}),Ft=pr?Pt?wt:gt:Pt?Et:ft;Se[hr]>ue[hr]&&(Ft=ol(Ft));var Cn=ol(Ft),$n=[];if(o&&$n.push(Xt[$t]<=0),a&&$n.push(Xt[Ft]<=0,Xt[Cn]<=0),$n.every(function(fn){return fn})){fe=ut,Re=!1;break}Me.set(ut,$n)}if(Re)for(var Ks=b?3:1,ko=function(en){var tn=oe.find(function(Ei){var Gr=Me.get(Ei);if(Gr)return Gr.slice(0,en).every(function(Ys){return Ys})});if(tn)return fe=tn,"break"},Wr=Ks;Wr>0;Wr--){var Zs=ko(Wr);if(Zs==="break")break}e.placement!==fe&&(e.modifiersData[r]._skip=!0,e.placement=fe,e.reset=!0)}}var cx={name:"flip",enabled:!0,phase:"main",fn:KB,requiresIfExists:["offset"],data:{_skip:!1}};function ux(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function dx(t){return[ft,wt,Et,gt].some(function(e){return t[e]>=0})}function ZB(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=cr(e,{elementContext:"reference"}),a=cr(e,{altBoundary:!0}),l=ux(s,r),d=ux(a,i,o),f=dx(l),m=dx(d);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:d,isReferenceHidden:f,hasPopperEscaped:m},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":m})}var fx={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:ZB};function YB(t,e,n){var r=Nt(t),i=[gt,ft].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[gt,wt].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function JB(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,s=bp.reduce(function(f,m){return f[m]=YB(m,e.rects,o),f},{}),a=s[e.placement],l=a.x,d=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=d),e.modifiersData[r]=s}var px={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:JB};function QB(t){var e=t.state,n=t.name;e.modifiersData[n]=tu({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var hx={name:"popperOffsets",enabled:!0,phase:"read",fn:QB,data:{}};function k0(t){return t==="x"?"y":"x"}function XB(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,l=n.boundary,d=n.rootBoundary,f=n.altBoundary,m=n.padding,y=n.tether,v=y===void 0?!0:y,b=n.tetherOffset,I=b===void 0?0:b,k=cr(e,{boundary:l,rootBoundary:d,padding:m,altBoundary:f}),H=Nt(e.placement),ie=Bn(e.placement),me=!ie,oe=gs(H),Se=k0(oe),ue=e.modifiersData.popperOffsets,Me=e.rects.reference,Re=e.rects.popper,fe=typeof I=="function"?I(Object.assign({},e.rects,{placement:e.placement})):I,Ge=typeof fe=="number"?{mainAxis:fe,altAxis:fe}:Object.assign({mainAxis:0,altAxis:0},fe),ut=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,$t={x:0,y:0};if(ue){if(o){var Pt,pr=oe==="y"?ft:gt,hr=oe==="y"?Et:wt,Xt=oe==="y"?"height":"width",Ft=ue[oe],Cn=Ft+k[pr],$n=Ft-k[hr],Ks=v?-Re[Xt]/2:0,ko=ie===fi?Me[Xt]:Re[Xt],Wr=ie===fi?-Re[Xt]:-Me[Xt],Zs=e.elements.arrow,fn=v&&Zs?ms(Zs):{width:0,height:0},en=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Qc(),tn=en[pr],Ei=en[hr],Gr=ys(0,Me[Xt],fn[Xt]),Ys=me?Me[Xt]/2-Ks-Gr-tn-Ge.mainAxis:ko-Gr-tn-Ge.mainAxis,Vl=me?-Me[Xt]/2+Ks+Gr+Ei+Ge.mainAxis:Wr+Gr+Ei+Ge.mainAxis,Bl=e.elements.arrow&&lr(e.elements.arrow),xi=Bl?oe==="y"?Bl.clientTop||0:Bl.clientLeft||0:0,jl=(Pt=ut?.[oe])!=null?Pt:0,Js=Ft+Ys-jl-xi,Ii=Ft+Vl-jl,Qs=ys(v?hs(Cn,Js):Cn,Ft,v?ar($n,Ii):$n);ue[oe]=Qs,$t[oe]=Qs-Ft}if(a){var Ou,pe=oe==="x"?ft:gt,Ru=oe==="x"?Et:wt,qr=ue[Se],Kr=Se==="y"?"height":"width",Ze=qr+k[pe],Mi=qr-k[Ru],Hl=[ft,gt].indexOf(H)!==-1,mr=(Ou=ut?.[Se])!=null?Ou:0,Pu=Hl?Ze:qr-Me[Kr]-Re[Kr]-mr+Ge.altAxis,Fu=Hl?qr+Me[Kr]+Re[Kr]-mr-Ge.altAxis:Mi,Lu=v&&Hl?rx(Pu,qr,Fu):ys(v?Pu:Ze,qr,v?Fu:Mi);ue[Se]=Lu,$t[Se]=Lu-qr}e.modifiersData[r]=$t}}var mx={name:"preventOverflow",enabled:!0,phase:"main",fn:XB,requiresIfExists:["offset"]};function N0(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function O0(t){return t===ct(t)||!xt(t)?vs(t):N0(t)}function ej(t){var e=t.getBoundingClientRect(),n=pi(e.width)/t.offsetWidth||1,r=pi(e.height)/t.offsetHeight||1;return n!==1||r!==1}function R0(t,e,n){n===void 0&&(n=!1);var r=xt(e),i=xt(e)&&ej(e),o=jt(e),s=Vn(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((kt(e)!=="body"||bs(o))&&(a=O0(e)),xt(e)?(l=Vn(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=Cs(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function tj(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function P0(t){var e=tj(t);return ex.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function F0(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function L0(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var gx={placement:"bottom",modifiers:[],strategy:"absolute"};function yx(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function vx(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?gx:i;return function(a,l,d){d===void 0&&(d=o);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},gx,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},m=[],y=!1,v={state:f,setOptions:function(H){var ie=typeof H=="function"?H(f.options):H;I(),f.options=Object.assign({},o,f.options,ie),f.scrollParents={reference:Ln(a)?co(a):a.contextElement?co(a.contextElement):[],popper:co(l)};var me=P0(L0([].concat(r,f.options.modifiers)));return f.orderedModifiers=me.filter(function(oe){return oe.enabled}),b(),v.update()},forceUpdate:function(){if(!y){var H=f.elements,ie=H.reference,me=H.popper;if(yx(ie,me)){f.rects={reference:R0(ie,lr(me),f.options.strategy==="fixed"),popper:ms(me)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(Ge){return f.modifiersData[Ge.name]=Object.assign({},Ge.data)});for(var oe=0;oe<f.orderedModifiers.length;oe++){if(f.reset===!0){f.reset=!1,oe=-1;continue}var Se=f.orderedModifiers[oe],ue=Se.fn,Me=Se.options,Re=Me===void 0?{}:Me,fe=Se.name;typeof ue=="function"&&(f=ue({state:f,options:Re,name:fe,instance:v})||f)}}}},update:F0(function(){return new Promise(function(k){v.forceUpdate(),k(f)})}),destroy:function(){I(),y=!0}};if(!yx(a,l))return v;v.setOptions(d).then(function(k){!y&&d.onFirstUpdate&&d.onFirstUpdate(k)});function b(){f.orderedModifiers.forEach(function(k){var H=k.name,ie=k.options,me=ie===void 0?{}:ie,oe=k.effect;if(typeof oe=="function"){var Se=oe({state:f,name:H,instance:v,options:me}),ue=function(){};m.push(Se||ue)}})}function I(){m.forEach(function(k){return k()}),m=[]}return v}}var nj=[ax,hx,sx,tx,px,cx,mx,ix,fx],ws=vx({defaultModifiers:nj});var uo=function(){return uo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},uo.apply(this,arguments)},Sp=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},fo={placement:"bottom",triggerType:"click",offsetSkidding:0,offsetDistance:10,delay:300,ignoreClickOutsideClass:!1,onShow:function(){},onHide:function(){},onToggle:function(){}},rj={id:null,override:!0},Cx=function(){function t(e,n,r,i){e===void 0&&(e=null),n===void 0&&(n=null),r===void 0&&(r=fo),i===void 0&&(i=rj),this._instanceId=i.id?i.id:e.id,this._targetEl=e,this._triggerEl=n,this._options=uo(uo({},fo),r),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),Ce.addInstance("Dropdown",this,this._instanceId,i.override)}return t.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._popperInstance=this._createPopperInstance(),this._setupEventListeners(),this._initialized=!0)},t.prototype.destroy=function(){var e=this,n=this._getTriggerEvents();this._options.triggerType==="click"&&n.showEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._clickHandler)}),this._options.triggerType==="hover"&&(n.showEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._hoverShowTriggerElHandler),e._targetEl.removeEventListener(r,e._hoverShowTargetElHandler)}),n.hideEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._hoverHideHandler),e._targetEl.removeEventListener(r,e._hoverHideHandler)})),this._popperInstance.destroy(),this._initialized=!1},t.prototype.removeInstance=function(){Ce.removeInstance("Dropdown",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype._setupEventListeners=function(){var e=this,n=this._getTriggerEvents();this._clickHandler=function(){e.toggle()},this._options.triggerType==="click"&&n.showEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._clickHandler)}),this._hoverShowTriggerElHandler=function(r){r.type==="click"?e.toggle():setTimeout(function(){e.show()},e._options.delay)},this._hoverShowTargetElHandler=function(){e.show()},this._hoverHideHandler=function(){setTimeout(function(){e._targetEl.matches(":hover")||e.hide()},e._options.delay)},this._options.triggerType==="hover"&&(n.showEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._hoverShowTriggerElHandler),e._targetEl.addEventListener(r,e._hoverShowTargetElHandler)}),n.hideEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._hoverHideHandler),e._targetEl.addEventListener(r,e._hoverHideHandler)}))},t.prototype._createPopperInstance=function(){return ws(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[this._options.offsetSkidding,this._options.offsetDistance]}}]})},t.prototype._setupClickOutsideListener=function(){var e=this;this._clickOutsideEventListener=function(n){e._handleClickOutside(n,e._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._handleClickOutside=function(e,n){var r=e.target,i=this._options.ignoreClickOutsideClass,o=!1;if(i){var s=document.querySelectorAll(".".concat(i));s.forEach(function(a){if(a.contains(r)){o=!0;return}})}r!==n&&!n.contains(r)&&!this._triggerEl.contains(r)&&!o&&this.isVisible()&&this.hide()},t.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","click"],hideEvents:["mouseleave"]};case"click":return{showEvents:["click"],hideEvents:[]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["click"],hideEvents:[]}}},t.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},t.prototype.isVisible=function(){return this._visible},t.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._targetEl.classList.add("block"),this._popperInstance.setOptions(function(e){return uo(uo({},e),{modifiers:Sp(Sp([],e.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},t.prototype.hide=function(){this._targetEl.classList.remove("block"),this._targetEl.classList.add("hidden"),this._popperInstance.setOptions(function(e){return uo(uo({},e),{modifiers:Sp(Sp([],e.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._visible=!1,this._removeClickOutsideListener(),this._options.onHide(this)},t.prototype.updateOnShow=function(e){this._options.onShow=e},t.prototype.updateOnHide=function(e){this._options.onHide=e},t.prototype.updateOnToggle=function(e){this._options.onToggle=e},t}();function al(){document.querySelectorAll("[data-dropdown-toggle]").forEach(function(t){var e=t.getAttribute("data-dropdown-toggle"),n=document.getElementById(e);if(n){var r=t.getAttribute("data-dropdown-placement"),i=t.getAttribute("data-dropdown-offset-skidding"),o=t.getAttribute("data-dropdown-offset-distance"),s=t.getAttribute("data-dropdown-trigger"),a=t.getAttribute("data-dropdown-delay"),l=t.getAttribute("data-dropdown-ignore-click-outside-class");new Cx(n,t,{placement:r||fo.placement,triggerType:s||fo.triggerType,offsetSkidding:i?parseInt(i):fo.offsetSkidding,offsetDistance:o?parseInt(o):fo.offsetDistance,delay:a?parseInt(a):fo.delay,ignoreClickOutsideClass:l||fo.ignoreClickOutsideClass})}else console.error('The dropdown element with id "'.concat(e,'" does not exist. Please check the data-dropdown-toggle attribute.'))})}typeof window<"u"&&(window.Dropdown=Cx,window.initDropdowns=al);var Ep=function(){return Ep=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ep.apply(this,arguments)},xp={placement:"center",backdropClasses:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-40",backdrop:"dynamic",closable:!0,onHide:function(){},onShow:function(){},onToggle:function(){}},ij={id:null,override:!0},bx=function(){function t(e,n,r){e===void 0&&(e=null),n===void 0&&(n=xp),r===void 0&&(r=ij),this._eventListenerInstances=[],this._instanceId=r.id?r.id:e.id,this._targetEl=e,this._options=Ep(Ep({},xp),n),this._isHidden=!0,this._backdropEl=null,this._initialized=!1,this.init(),Ce.addInstance("Modal",this,this._instanceId,r.override)}return t.prototype.init=function(){var e=this;this._targetEl&&!this._initialized&&(this._getPlacementClasses().map(function(n){e._targetEl.classList.add(n)}),this._initialized=!0)},t.prototype.destroy=function(){this._initialized&&(this.removeAllEventListenerInstances(),this._destroyBackdropEl(),this._initialized=!1)},t.prototype.removeInstance=function(){Ce.removeInstance("Modal",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype._createBackdrop=function(){var e;if(this._isHidden){var n=document.createElement("div");n.setAttribute("modal-backdrop",""),(e=n.classList).add.apply(e,this._options.backdropClasses.split(" ")),document.querySelector("body").append(n),this._backdropEl=n}},t.prototype._destroyBackdropEl=function(){this._isHidden||document.querySelector("[modal-backdrop]").remove()},t.prototype._setupModalCloseEventListeners=function(){var e=this;this._options.backdrop==="dynamic"&&(this._clickOutsideEventListener=function(n){e._handleOutsideClick(n.target)},this._targetEl.addEventListener("click",this._clickOutsideEventListener,!0)),this._keydownEventListener=function(n){n.key==="Escape"&&e.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},t.prototype._removeModalCloseEventListeners=function(){this._options.backdrop==="dynamic"&&this._targetEl.removeEventListener("click",this._clickOutsideEventListener,!0),document.body.removeEventListener("keydown",this._keydownEventListener,!0)},t.prototype._handleOutsideClick=function(e){(e===this._targetEl||e===this._backdropEl&&this.isVisible())&&this.hide()},t.prototype._getPlacementClasses=function(){switch(this._options.placement){case"top-left":return["justify-start","items-start"];case"top-center":return["justify-center","items-start"];case"top-right":return["justify-end","items-start"];case"center-left":return["justify-start","items-center"];case"center":return["justify-center","items-center"];case"center-right":return["justify-end","items-center"];case"bottom-left":return["justify-start","items-end"];case"bottom-center":return["justify-center","items-end"];case"bottom-right":return["justify-end","items-end"];default:return["justify-center","items-center"]}},t.prototype.toggle=function(){this._isHidden?this.show():this.hide(),this._options.onToggle(this)},t.prototype.show=function(){this.isHidden&&(this._targetEl.classList.add("flex"),this._targetEl.classList.remove("hidden"),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._createBackdrop(),this._isHidden=!1,this._options.closable&&this._setupModalCloseEventListeners(),document.body.classList.add("overflow-hidden"),this._options.onShow(this))},t.prototype.hide=function(){this.isVisible&&(this._targetEl.classList.add("hidden"),this._targetEl.classList.remove("flex"),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._destroyBackdropEl(),this._isHidden=!0,document.body.classList.remove("overflow-hidden"),this._options.closable&&this._removeModalCloseEventListeners(),this._options.onHide(this))},t.prototype.isVisible=function(){return!this._isHidden},t.prototype.isHidden=function(){return this._isHidden},t.prototype.addEventListenerInstance=function(e,n,r){this._eventListenerInstances.push({element:e,type:n,handler:r})},t.prototype.removeAllEventListenerInstances=function(){this._eventListenerInstances.map(function(e){e.element.removeEventListener(e.type,e.handler)}),this._eventListenerInstances=[]},t.prototype.getAllEventListenerInstances=function(){return this._eventListenerInstances},t.prototype.updateOnShow=function(e){this._options.onShow=e},t.prototype.updateOnHide=function(e){this._options.onHide=e},t.prototype.updateOnToggle=function(e){this._options.onToggle=e},t}();function ll(){document.querySelectorAll("[data-modal-target]").forEach(function(t){var e=t.getAttribute("data-modal-target"),n=document.getElementById(e);if(n){var r=n.getAttribute("data-modal-placement"),i=n.getAttribute("data-modal-backdrop");new bx(n,{placement:r||xp.placement,backdrop:i||xp.backdrop})}else console.error("Modal with id ".concat(e," does not exist. Are you sure that the data-modal-target attribute points to the correct modal id?."))}),document.querySelectorAll("[data-modal-toggle]").forEach(function(t){var e=t.getAttribute("data-modal-toggle"),n=document.getElementById(e);if(n){var r=Ce.getInstance("Modal",e);if(r){var i=function(){r.toggle()};t.addEventListener("click",i),r.addEventListenerInstance(t,"click",i)}else console.error("Modal with id ".concat(e," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(e," does not exist. Are you sure that the data-modal-toggle attribute points to the correct modal id?"))}),document.querySelectorAll("[data-modal-show]").forEach(function(t){var e=t.getAttribute("data-modal-show"),n=document.getElementById(e);if(n){var r=Ce.getInstance("Modal",e);if(r){var i=function(){r.show()};t.addEventListener("click",i),r.addEventListenerInstance(t,"click",i)}else console.error("Modal with id ".concat(e," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(e," does not exist. Are you sure that the data-modal-show attribute points to the correct modal id?"))}),document.querySelectorAll("[data-modal-hide]").forEach(function(t){var e=t.getAttribute("data-modal-hide"),n=document.getElementById(e);if(n){var r=Ce.getInstance("Modal",e);if(r){var i=function(){r.hide()};t.addEventListener("click",i),r.addEventListenerInstance(t,"click",i)}else console.error("Modal with id ".concat(e," has not been initialized. Please initialize it using the data-modal-target attribute."))}else console.error("Modal with id ".concat(e," does not exist. Are you sure that the data-modal-hide attribute points to the correct modal id?"))})}typeof window<"u"&&(window.Modal=bx,window.initModals=ll);var Ip=function(){return Ip=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ip.apply(this,arguments)},_s={placement:"left",bodyScrolling:!1,backdrop:!0,edge:!1,edgeOffset:"bottom-[60px]",backdropClasses:"bg-gray-900/50 dark:bg-gray-900/80 fixed inset-0 z-30",onShow:function(){},onHide:function(){},onToggle:function(){}},oj={id:null,override:!0},wx=function(){function t(e,n,r){e===void 0&&(e=null),n===void 0&&(n=_s),r===void 0&&(r=oj),this._eventListenerInstances=[],this._instanceId=r.id?r.id:e.id,this._targetEl=e,this._options=Ip(Ip({},_s),n),this._visible=!1,this._initialized=!1,this.init(),Ce.addInstance("Drawer",this,this._instanceId,r.override)}return t.prototype.init=function(){var e=this;this._targetEl&&!this._initialized&&(this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.classList.add("transition-transform"),this._getPlacementClasses(this._options.placement).base.map(function(n){e._targetEl.classList.add(n)}),this._handleEscapeKey=function(n){n.key==="Escape"&&e.isVisible()&&e.hide()},document.addEventListener("keydown",this._handleEscapeKey),this._initialized=!0)},t.prototype.destroy=function(){this._initialized&&(this.removeAllEventListenerInstances(),this._destroyBackdropEl(),document.removeEventListener("keydown",this._handleEscapeKey),this._initialized=!1)},t.prototype.removeInstance=function(){Ce.removeInstance("Drawer",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.hide=function(){var e=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function(n){e._targetEl.classList.remove(n)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function(n){e._targetEl.classList.add(n)})):(this._getPlacementClasses(this._options.placement).active.map(function(n){e._targetEl.classList.remove(n)}),this._getPlacementClasses(this._options.placement).inactive.map(function(n){e._targetEl.classList.add(n)})),this._targetEl.setAttribute("aria-hidden","true"),this._targetEl.removeAttribute("aria-modal"),this._targetEl.removeAttribute("role"),this._options.bodyScrolling||document.body.classList.remove("overflow-hidden"),this._options.backdrop&&this._destroyBackdropEl(),this._visible=!1,this._options.onHide(this)},t.prototype.show=function(){var e=this;this._options.edge?(this._getPlacementClasses(this._options.placement+"-edge").active.map(function(n){e._targetEl.classList.add(n)}),this._getPlacementClasses(this._options.placement+"-edge").inactive.map(function(n){e._targetEl.classList.remove(n)})):(this._getPlacementClasses(this._options.placement).active.map(function(n){e._targetEl.classList.add(n)}),this._getPlacementClasses(this._options.placement).inactive.map(function(n){e._targetEl.classList.remove(n)})),this._targetEl.setAttribute("aria-modal","true"),this._targetEl.setAttribute("role","dialog"),this._targetEl.removeAttribute("aria-hidden"),this._options.bodyScrolling||document.body.classList.add("overflow-hidden"),this._options.backdrop&&this._createBackdrop(),this._visible=!0,this._options.onShow(this)},t.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},t.prototype._createBackdrop=function(){var e,n=this;if(!this._visible){var r=document.createElement("div");r.setAttribute("drawer-backdrop",""),(e=r.classList).add.apply(e,this._options.backdropClasses.split(" ")),document.querySelector("body").append(r),r.addEventListener("click",function(){n.hide()})}},t.prototype._destroyBackdropEl=function(){this._visible&&document.querySelector("[drawer-backdrop]")!==null&&document.querySelector("[drawer-backdrop]").remove()},t.prototype._getPlacementClasses=function(e){switch(e){case"top":return{base:["top-0","left-0","right-0"],active:["transform-none"],inactive:["-translate-y-full"]};case"right":return{base:["right-0","top-0"],active:["transform-none"],inactive:["translate-x-full"]};case"bottom":return{base:["bottom-0","left-0","right-0"],active:["transform-none"],inactive:["translate-y-full"]};case"left":return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]};case"bottom-edge":return{base:["left-0","top-0"],active:["transform-none"],inactive:["translate-y-full",this._options.edgeOffset]};default:return{base:["left-0","top-0"],active:["transform-none"],inactive:["-translate-x-full"]}}},t.prototype.isHidden=function(){return!this._visible},t.prototype.isVisible=function(){return this._visible},t.prototype.addEventListenerInstance=function(e,n,r){this._eventListenerInstances.push({element:e,type:n,handler:r})},t.prototype.removeAllEventListenerInstances=function(){this._eventListenerInstances.map(function(e){e.element.removeEventListener(e.type,e.handler)}),this._eventListenerInstances=[]},t.prototype.getAllEventListenerInstances=function(){return this._eventListenerInstances},t.prototype.updateOnShow=function(e){this._options.onShow=e},t.prototype.updateOnHide=function(e){this._options.onHide=e},t.prototype.updateOnToggle=function(e){this._options.onToggle=e},t}();function cl(){document.querySelectorAll("[data-drawer-target]").forEach(function(t){var e=t.getAttribute("data-drawer-target"),n=document.getElementById(e);if(n){var r=t.getAttribute("data-drawer-placement"),i=t.getAttribute("data-drawer-body-scrolling"),o=t.getAttribute("data-drawer-backdrop"),s=t.getAttribute("data-drawer-edge"),a=t.getAttribute("data-drawer-edge-offset");new wx(n,{placement:r||_s.placement,bodyScrolling:i?i==="true":_s.bodyScrolling,backdrop:o?o==="true":_s.backdrop,edge:s?s==="true":_s.edge,edgeOffset:a||_s.edgeOffset})}else console.error("Drawer with id ".concat(e," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}),document.querySelectorAll("[data-drawer-toggle]").forEach(function(t){var e=t.getAttribute("data-drawer-toggle"),n=document.getElementById(e);if(n){var r=Ce.getInstance("Drawer",e);if(r){var i=function(){r.toggle()};t.addEventListener("click",i),r.addEventListenerInstance(t,"click",i)}else console.error("Drawer with id ".concat(e," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(e," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))}),document.querySelectorAll("[data-drawer-dismiss], [data-drawer-hide]").forEach(function(t){var e=t.getAttribute("data-drawer-dismiss")?t.getAttribute("data-drawer-dismiss"):t.getAttribute("data-drawer-hide"),n=document.getElementById(e);if(n){var r=Ce.getInstance("Drawer",e);if(r){var i=function(){r.hide()};t.addEventListener("click",i),r.addEventListenerInstance(t,"click",i)}else console.error("Drawer with id ".concat(e," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(e," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id"))}),document.querySelectorAll("[data-drawer-show]").forEach(function(t){var e=t.getAttribute("data-drawer-show"),n=document.getElementById(e);if(n){var r=Ce.getInstance("Drawer",e);if(r){var i=function(){r.show()};t.addEventListener("click",i),r.addEventListenerInstance(t,"click",i)}else console.error("Drawer with id ".concat(e," has not been initialized. Please initialize it using the data-drawer-target attribute."))}else console.error("Drawer with id ".concat(e," not found. Are you sure that the data-drawer-target attribute points to the correct drawer id?"))})}typeof window<"u"&&(window.Drawer=wx,window.initDrawers=cl);var Mp=function(){return Mp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Mp.apply(this,arguments)},Tp={defaultTabId:null,activeClasses:"text-blue-600 hover:text-blue-600 dark:text-blue-500 dark:hover:text-blue-500 border-blue-600 dark:border-blue-500",inactiveClasses:"dark:border-transparent text-gray-500 hover:text-gray-600 dark:text-gray-400 border-gray-100 hover:border-gray-300 dark:border-gray-700 dark:hover:text-gray-300",onShow:function(){}},sj={id:null,override:!0},_x=function(){function t(e,n,r,i){e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=Tp),i===void 0&&(i=sj),this._instanceId=i.id?i.id:e.id,this._tabsEl=e,this._items=n,this._activeTab=r?this.getTab(r.defaultTabId):null,this._options=Mp(Mp({},Tp),r),this._initialized=!1,this.init(),Ce.addInstance("Tabs",this,this._tabsEl.id,!0),Ce.addInstance("Tabs",this,this._instanceId,i.override)}return t.prototype.init=function(){var e=this;this._items.length&&!this._initialized&&(this._activeTab||this.setActiveTab(this._items[0]),this.show(this._activeTab.id,!0),this._items.map(function(n){n.triggerEl.addEventListener("click",function(r){r.preventDefault(),e.show(n.id)})}))},t.prototype.destroy=function(){this._initialized&&(this._initialized=!1)},t.prototype.removeInstance=function(){this.destroy(),Ce.removeInstance("Tabs",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getActiveTab=function(){return this._activeTab},t.prototype.setActiveTab=function(e){this._activeTab=e},t.prototype.getTab=function(e){return this._items.filter(function(n){return n.id===e})[0]},t.prototype.show=function(e,n){var r,i,o=this;n===void 0&&(n=!1);var s=this.getTab(e);s===this._activeTab&&!n||(this._items.map(function(a){var l,d;a!==s&&((l=a.triggerEl.classList).remove.apply(l,o._options.activeClasses.split(" ")),(d=a.triggerEl.classList).add.apply(d,o._options.inactiveClasses.split(" ")),a.targetEl.classList.add("hidden"),a.triggerEl.setAttribute("aria-selected","false"))}),(r=s.triggerEl.classList).add.apply(r,this._options.activeClasses.split(" ")),(i=s.triggerEl.classList).remove.apply(i,this._options.inactiveClasses.split(" ")),s.triggerEl.setAttribute("aria-selected","true"),s.targetEl.classList.remove("hidden"),this.setActiveTab(s),this._options.onShow(this,s))},t.prototype.updateOnShow=function(e){this._options.onShow=e},t}();function ul(){document.querySelectorAll("[data-tabs-toggle]").forEach(function(t){var e=[],n=t.getAttribute("data-tabs-active-classes"),r=t.getAttribute("data-tabs-inactive-classes"),i=null;t.querySelectorAll('[role="tab"]').forEach(function(o){var s=o.getAttribute("aria-selected")==="true",a={id:o.getAttribute("data-tabs-target"),triggerEl:o,targetEl:document.querySelector(o.getAttribute("data-tabs-target"))};e.push(a),s&&(i=a.id)}),new _x(t,e,{defaultTabId:i,activeClasses:n||Tp.activeClasses,inactiveClasses:r||Tp.inactiveClasses})})}typeof window<"u"&&(window.Tabs=_x,window.initTabs=ul);var po=function(){return po=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},po.apply(this,arguments)},Ap=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},kp={placement:"top",triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},aj={id:null,override:!0},Dx=function(){function t(e,n,r,i){e===void 0&&(e=null),n===void 0&&(n=null),r===void 0&&(r=kp),i===void 0&&(i=aj),this._instanceId=i.id?i.id:e.id,this._targetEl=e,this._triggerEl=n,this._options=po(po({},kp),r),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),Ce.addInstance("Tooltip",this,this._instanceId,i.override)}return t.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._setupEventListeners(),this._popperInstance=this._createPopperInstance(),this._initialized=!0)},t.prototype.destroy=function(){var e=this;if(this._initialized){var n=this._getTriggerEvents();n.showEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._showHandler)}),n.hideEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._hideHandler)}),this._removeKeydownListener(),this._removeClickOutsideListener(),this._popperInstance&&this._popperInstance.destroy(),this._initialized=!1}},t.prototype.removeInstance=function(){Ce.removeInstance("Tooltip",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype._setupEventListeners=function(){var e=this,n=this._getTriggerEvents();this._showHandler=function(){e.show()},this._hideHandler=function(){e.hide()},n.showEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._showHandler)}),n.hideEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._hideHandler)})},t.prototype._createPopperInstance=function(){return ws(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,8]}}]})},t.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},t.prototype._setupKeydownListener=function(){var e=this;this._keydownEventListener=function(n){n.key==="Escape"&&e.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},t.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},t.prototype._setupClickOutsideListener=function(){var e=this;this._clickOutsideEventListener=function(n){e._handleClickOutside(n,e._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._handleClickOutside=function(e,n){var r=e.target;r!==n&&!n.contains(r)&&!this._triggerEl.contains(r)&&this.isVisible()&&this.hide()},t.prototype.isVisible=function(){return this._visible},t.prototype.toggle=function(){this.isVisible()?this.hide():this.show()},t.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(e){return po(po({},e),{modifiers:Ap(Ap([],e.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},t.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(e){return po(po({},e),{modifiers:Ap(Ap([],e.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},t.prototype.updateOnShow=function(e){this._options.onShow=e},t.prototype.updateOnHide=function(e){this._options.onHide=e},t.prototype.updateOnToggle=function(e){this._options.onToggle=e},t}();function dl(){document.querySelectorAll("[data-tooltip-target]").forEach(function(t){var e=t.getAttribute("data-tooltip-target"),n=document.getElementById(e);if(n){var r=t.getAttribute("data-tooltip-trigger"),i=t.getAttribute("data-tooltip-placement");new Dx(n,t,{placement:i||kp.placement,triggerType:r||kp.triggerType})}else console.error('The tooltip element with id "'.concat(e,'" does not exist. Please check the data-tooltip-target attribute.'))})}typeof window<"u"&&(window.Tooltip=Dx,window.initTooltips=dl);var ho=function(){return ho=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ho.apply(this,arguments)},Np=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},nu={placement:"top",offset:10,triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},lj={id:null,override:!0},Sx=function(){function t(e,n,r,i){e===void 0&&(e=null),n===void 0&&(n=null),r===void 0&&(r=nu),i===void 0&&(i=lj),this._instanceId=i.id?i.id:e.id,this._targetEl=e,this._triggerEl=n,this._options=ho(ho({},nu),r),this._popperInstance=null,this._visible=!1,this._initialized=!1,this.init(),Ce.addInstance("Popover",this,i.id?i.id:this._targetEl.id,i.override)}return t.prototype.init=function(){this._triggerEl&&this._targetEl&&!this._initialized&&(this._setupEventListeners(),this._popperInstance=this._createPopperInstance(),this._initialized=!0)},t.prototype.destroy=function(){var e=this;if(this._initialized){var n=this._getTriggerEvents();n.showEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._showHandler),e._targetEl.removeEventListener(r,e._showHandler)}),n.hideEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._hideHandler),e._targetEl.removeEventListener(r,e._hideHandler)}),this._removeKeydownListener(),this._removeClickOutsideListener(),this._popperInstance&&this._popperInstance.destroy(),this._initialized=!1}},t.prototype.removeInstance=function(){Ce.removeInstance("Popover",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype._setupEventListeners=function(){var e=this,n=this._getTriggerEvents();this._showHandler=function(){e.show()},this._hideHandler=function(){setTimeout(function(){e._targetEl.matches(":hover")||e.hide()},100)},n.showEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._showHandler),e._targetEl.addEventListener(r,e._showHandler)}),n.hideEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._hideHandler),e._targetEl.addEventListener(r,e._hideHandler)})},t.prototype._createPopperInstance=function(){return ws(this._triggerEl,this._targetEl,{placement:this._options.placement,modifiers:[{name:"offset",options:{offset:[0,this._options.offset]}}]})},t.prototype._getTriggerEvents=function(){switch(this._options.triggerType){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},t.prototype._setupKeydownListener=function(){var e=this;this._keydownEventListener=function(n){n.key==="Escape"&&e.hide()},document.body.addEventListener("keydown",this._keydownEventListener,!0)},t.prototype._removeKeydownListener=function(){document.body.removeEventListener("keydown",this._keydownEventListener,!0)},t.prototype._setupClickOutsideListener=function(){var e=this;this._clickOutsideEventListener=function(n){e._handleClickOutside(n,e._targetEl)},document.body.addEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._removeClickOutsideListener=function(){document.body.removeEventListener("click",this._clickOutsideEventListener,!0)},t.prototype._handleClickOutside=function(e,n){var r=e.target;r!==n&&!n.contains(r)&&!this._triggerEl.contains(r)&&this.isVisible()&&this.hide()},t.prototype.isVisible=function(){return this._visible},t.prototype.toggle=function(){this.isVisible()?this.hide():this.show(),this._options.onToggle(this)},t.prototype.show=function(){this._targetEl.classList.remove("opacity-0","invisible"),this._targetEl.classList.add("opacity-100","visible"),this._popperInstance.setOptions(function(e){return ho(ho({},e),{modifiers:Np(Np([],e.modifiers,!0),[{name:"eventListeners",enabled:!0}],!1)})}),this._setupClickOutsideListener(),this._setupKeydownListener(),this._popperInstance.update(),this._visible=!0,this._options.onShow(this)},t.prototype.hide=function(){this._targetEl.classList.remove("opacity-100","visible"),this._targetEl.classList.add("opacity-0","invisible"),this._popperInstance.setOptions(function(e){return ho(ho({},e),{modifiers:Np(Np([],e.modifiers,!0),[{name:"eventListeners",enabled:!1}],!1)})}),this._removeClickOutsideListener(),this._removeKeydownListener(),this._visible=!1,this._options.onHide(this)},t.prototype.updateOnShow=function(e){this._options.onShow=e},t.prototype.updateOnHide=function(e){this._options.onHide=e},t.prototype.updateOnToggle=function(e){this._options.onToggle=e},t}();function fl(){document.querySelectorAll("[data-popover-target]").forEach(function(t){var e=t.getAttribute("data-popover-target"),n=document.getElementById(e);if(n){var r=t.getAttribute("data-popover-trigger"),i=t.getAttribute("data-popover-placement"),o=t.getAttribute("data-popover-offset");new Sx(n,t,{placement:i||nu.placement,offset:o?parseInt(o):nu.offset,triggerType:r||nu.triggerType})}else console.error('The popover element with id "'.concat(e,'" does not exist. Please check the data-popover-target attribute.'))})}typeof window<"u"&&(window.Popover=Sx,window.initPopovers=fl);var Op=function(){return Op=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Op.apply(this,arguments)},V0={triggerType:"hover",onShow:function(){},onHide:function(){},onToggle:function(){}},cj={id:null,override:!0},Ex=function(){function t(e,n,r,i,o){e===void 0&&(e=null),n===void 0&&(n=null),r===void 0&&(r=null),i===void 0&&(i=V0),o===void 0&&(o=cj),this._instanceId=o.id?o.id:r.id,this._parentEl=e,this._triggerEl=n,this._targetEl=r,this._options=Op(Op({},V0),i),this._visible=!1,this._initialized=!1,this.init(),Ce.addInstance("Dial",this,this._instanceId,o.override)}return t.prototype.init=function(){var e=this;if(this._triggerEl&&this._targetEl&&!this._initialized){var n=this._getTriggerEventTypes(this._options.triggerType);this._showEventHandler=function(){e.show()},n.showEvents.forEach(function(r){e._triggerEl.addEventListener(r,e._showEventHandler),e._targetEl.addEventListener(r,e._showEventHandler)}),this._hideEventHandler=function(){e._parentEl.matches(":hover")||e.hide()},n.hideEvents.forEach(function(r){e._parentEl.addEventListener(r,e._hideEventHandler)}),this._initialized=!0}},t.prototype.destroy=function(){var e=this;if(this._initialized){var n=this._getTriggerEventTypes(this._options.triggerType);n.showEvents.forEach(function(r){e._triggerEl.removeEventListener(r,e._showEventHandler),e._targetEl.removeEventListener(r,e._showEventHandler)}),n.hideEvents.forEach(function(r){e._parentEl.removeEventListener(r,e._hideEventHandler)}),this._initialized=!1}},t.prototype.removeInstance=function(){Ce.removeInstance("Dial",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.hide=function(){this._targetEl.classList.add("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","false"),this._visible=!1,this._options.onHide(this)},t.prototype.show=function(){this._targetEl.classList.remove("hidden"),this._triggerEl&&this._triggerEl.setAttribute("aria-expanded","true"),this._visible=!0,this._options.onShow(this)},t.prototype.toggle=function(){this._visible?this.hide():this.show()},t.prototype.isHidden=function(){return!this._visible},t.prototype.isVisible=function(){return this._visible},t.prototype._getTriggerEventTypes=function(e){switch(e){case"hover":return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]};case"click":return{showEvents:["click","focus"],hideEvents:["focusout","blur"]};case"none":return{showEvents:[],hideEvents:[]};default:return{showEvents:["mouseenter","focus"],hideEvents:["mouseleave","blur"]}}},t.prototype.updateOnShow=function(e){this._options.onShow=e},t.prototype.updateOnHide=function(e){this._options.onHide=e},t.prototype.updateOnToggle=function(e){this._options.onToggle=e},t}();function pl(){document.querySelectorAll("[data-dial-init]").forEach(function(t){var e=t.querySelector("[data-dial-toggle]");if(e){var n=e.getAttribute("data-dial-toggle"),r=document.getElementById(n);if(r){var i=e.getAttribute("data-dial-trigger");new Ex(t,e,r,{triggerType:i||V0.triggerType})}else console.error("Dial with id ".concat(n," does not exist. Are you sure that the data-dial-toggle attribute points to the correct modal id?"))}else console.error("Dial with id ".concat(t.id," does not have a trigger element. Are you sure that the data-dial-toggle attribute exists?"))})}typeof window<"u"&&(window.Dial=Ex,window.initDials=pl);var Rp=function(){return Rp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Rp.apply(this,arguments)},xx={minValue:null,maxValue:null,onIncrement:function(){},onDecrement:function(){}},uj={id:null,override:!0},Ix=function(){function t(e,n,r,i,o){e===void 0&&(e=null),n===void 0&&(n=null),r===void 0&&(r=null),i===void 0&&(i=xx),o===void 0&&(o=uj),this._instanceId=o.id?o.id:e.id,this._targetEl=e,this._incrementEl=n,this._decrementEl=r,this._options=Rp(Rp({},xx),i),this._initialized=!1,this.init(),Ce.addInstance("InputCounter",this,this._instanceId,o.override)}return t.prototype.init=function(){var e=this;this._targetEl&&!this._initialized&&(this._inputHandler=function(n){{var r=n.target;/^\d*$/.test(r.value)||(r.value=r.value.replace(/[^\d]/g,"")),e._options.maxValue!==null&&parseInt(r.value)>e._options.maxValue&&(r.value=e._options.maxValue.toString()),e._options.minValue!==null&&parseInt(r.value)<e._options.minValue&&(r.value=e._options.minValue.toString())}},this._incrementClickHandler=function(){e.increment()},this._decrementClickHandler=function(){e.decrement()},this._targetEl.addEventListener("input",this._inputHandler),this._incrementEl&&this._incrementEl.addEventListener("click",this._incrementClickHandler),this._decrementEl&&this._decrementEl.addEventListener("click",this._decrementClickHandler),this._initialized=!0)},t.prototype.destroy=function(){this._targetEl&&this._initialized&&(this._targetEl.removeEventListener("input",this._inputHandler),this._incrementEl&&this._incrementEl.removeEventListener("click",this._incrementClickHandler),this._decrementEl&&this._decrementEl.removeEventListener("click",this._decrementClickHandler),this._initialized=!1)},t.prototype.removeInstance=function(){Ce.removeInstance("InputCounter",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getCurrentValue=function(){return parseInt(this._targetEl.value)||0},t.prototype.increment=function(){this._options.maxValue!==null&&this.getCurrentValue()>=this._options.maxValue||(this._targetEl.value=(this.getCurrentValue()+1).toString(),this._options.onIncrement(this))},t.prototype.decrement=function(){this._options.minValue!==null&&this.getCurrentValue()<=this._options.minValue||(this._targetEl.value=(this.getCurrentValue()-1).toString(),this._options.onDecrement(this))},t.prototype.updateOnIncrement=function(e){this._options.onIncrement=e},t.prototype.updateOnDecrement=function(e){this._options.onDecrement=e},t}();function hl(){document.querySelectorAll("[data-input-counter]").forEach(function(t){var e=t.id,n=document.querySelector('[data-input-counter-increment="'+e+'"]'),r=document.querySelector('[data-input-counter-decrement="'+e+'"]'),i=t.getAttribute("data-input-counter-min"),o=t.getAttribute("data-input-counter-max");t?Ce.instanceExists("InputCounter",t.getAttribute("id"))||new Ix(t,n||null,r||null,{minValue:i?parseInt(i):null,maxValue:o?parseInt(o):null}):console.error('The target element with id "'.concat(e,'" does not exist. Please check the data-input-counter attribute.'))})}typeof window<"u"&&(window.InputCounter=Ix,window.initInputCounters=hl);var Pp=function(){return Pp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Pp.apply(this,arguments)},Fp={htmlEntities:!1,contentType:"input",onCopy:function(){}},dj={id:null,override:!0},Mx=function(){function t(e,n,r,i){e===void 0&&(e=null),n===void 0&&(n=null),r===void 0&&(r=Fp),i===void 0&&(i=dj),this._instanceId=i.id?i.id:n.id,this._triggerEl=e,this._targetEl=n,this._options=Pp(Pp({},Fp),r),this._initialized=!1,this.init(),Ce.addInstance("CopyClipboard",this,this._instanceId,i.override)}return t.prototype.init=function(){var e=this;this._targetEl&&this._triggerEl&&!this._initialized&&(this._triggerElClickHandler=function(){e.copy()},this._triggerEl&&this._triggerEl.addEventListener("click",this._triggerElClickHandler),this._initialized=!0)},t.prototype.destroy=function(){this._triggerEl&&this._targetEl&&this._initialized&&(this._triggerEl&&this._triggerEl.removeEventListener("click",this._triggerElClickHandler),this._initialized=!1)},t.prototype.removeInstance=function(){Ce.removeInstance("CopyClipboard",this._instanceId)},t.prototype.destroyAndRemoveInstance=function(){this.destroy(),this.removeInstance()},t.prototype.getTargetValue=function(){if(this._options.contentType==="input")return this._targetEl.value;if(this._options.contentType==="innerHTML")return this._targetEl.innerHTML;if(this._options.contentType==="textContent")return this._targetEl.textContent.replace(/\s+/g," ").trim()},t.prototype.copy=function(){var e=this.getTargetValue();this._options.htmlEntities&&(e=this.decodeHTML(e));var n=document.createElement("textarea");return n.value=e,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),this._options.onCopy(this),e},t.prototype.decodeHTML=function(e){var n=document.createElement("textarea");return n.innerHTML=e,n.textContent},t.prototype.updateOnCopyCallback=function(e){this._options.onCopy=e},t}();function ml(){document.querySelectorAll("[data-copy-to-clipboard-target]").forEach(function(t){var e=t.getAttribute("data-copy-to-clipboard-target"),n=document.getElementById(e),r=t.getAttribute("data-copy-to-clipboard-content-type"),i=t.getAttribute("data-copy-to-clipboard-html-entities");n?Ce.instanceExists("CopyClipboard",n.getAttribute("id"))||new Mx(t,n,{htmlEntities:i&&i==="true"?!0:Fp.htmlEntities,contentType:r||Fp.contentType}):console.error('The target element with id "'.concat(e,'" does not exist. Please check the data-copy-to-clipboard-target attribute.'))})}typeof window<"u"&&(window.CopyClipboard=Mx,window.initClipboards=ml);function Lp(){Qa(),Xa(),el(),tl(),al(),ll(),cl(),ul(),dl(),fl(),pl(),hl(),ml()}typeof window<"u"&&(window.initFlowbite=Lp);var fj=new W1("load",[Qa,Xa,el,tl,al,ll,cl,ul,dl,fl,pl,hl,ml]);fj.init();var Tx=(()=>{let e=class e{constructor(){this.rollerService=V(fp)}roll(){console.log(this.rollerService.roll())}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Fe({type:e,selectors:[["app-menu"]],standalone:!0,features:[Qe],decls:29,vars:0,consts:[["id","drawer-menu","tabindex","-1","aria-labelledby","drawer-menu-label",1,"fixed","top-0","left-0","z-40","h-screen","p-4","overflow-y-auto","transition-transform","-translate-x-full","bg-white","w-80","dark:bg-gray-800"],["id","drawer-menu-label",1,"inline-flex","items-center","mb-4","text-base","font-semibold","text-gray-500","dark:text-gray-400"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4","me-2.5"],["d","M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"],["type","button","data-drawer-hide","drawer-menu","aria-controls","drawer-menu",1,"text-gray-400","bg-transparent","hover:bg-gray-200","hover:text-gray-900","rounded-lg","text-sm","w-8","h-8","absolute","top-2.5","end-2.5","inline-flex","items-center","justify-center","dark:hover:bg-gray-600","dark:hover:text-white"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 14 14",1,"w-3","h-3"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"],[1,"sr-only"],[1,"grid","grid-cols-1","gap-2"],["type","button","onclick","aboutModal.showModal()",1,"btn","btn-primary","rounded-full"],["id","aboutModal",1,"modal","modal-bottom","sm:modal-middle"],[1,"modal-box"],[1,"text-lg","font-bold"],[1,"py-4"],["href","https://github.com/Greyfox88/Stacla","target","_blank","rel","noopener noreferrer",2,"text-decoration","underline"],[1,"modal-action"],["method","dialog"],[1,"btn"]],template:function(i,o){i&1&&(S(0,"div",0)(1,"h5",1),Tr(),S(2,"svg",2),J(3,"path",3),E(),j(4,"Menu"),E(),Ar(),S(5,"button",4),Tr(),S(6,"svg",5),J(7,"path",6),E(),Ar(),S(8,"span",7),j(9,"Close menu"),E()(),S(10,"div",8)(11,"button",9),j(12,"About"),E()()(),S(13,"dialog",10)(14,"div",11)(15,"h3",12),j(16,"About"),E(),S(17,"p",13),j(18,"Hello! Thank you for trying out my Star Trek Adventures Captain's Log Assistant (Sta'Cla!)"),E(),S(19,"p",13),j(20,"This app is designed to try reduce the work involved in running your captain's log adventures to spend less time working out the mechanics and more time playing."),E(),S(21,"p",13),j(22,"If you find any issues or would be interested getting involved in making it better, feel free to drop by the "),S(23,"a",14),j(24,"GitHub Repo"),E()(),S(25,"div",15)(26,"form",16)(27,"button",17),j(28,"Close"),E()()()()())}});let t=e;return t})();var Lx=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(re(Nr),re(Tt))},e.\u0275dir=St({type:e});let t=e;return t})(),Vx=(()=>{let e=class e extends Lx{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Fa(e)))(o||e)}})(),e.\u0275dir=St({type:e,features:[Or]});let t=e;return t})(),vl=new _e(""),pj={provide:vl,useExisting:Mr(()=>Es),multi:!0},Es=(()=>{let e=class e extends Vx{writeValue(r){this.setProperty("checked",r)}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Fa(e)))(o||e)}})(),e.\u0275dir=St({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,o){i&1&&Y("change",function(a){return o.onChange(a.target.checked)})("blur",function(){return o.onTouched()})},features:[ci([pj]),Or]});let t=e;return t})(),hj={provide:vl,useExisting:Mr(()=>In),multi:!0};function mj(){let t=ui()?ui().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var gj=new _e(""),In=(()=>{let e=class e extends Lx{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!mj())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(re(Nr),re(Tt),re(gj,8))},e.\u0275dir=St({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&Y("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[ci([hj]),Or]});let t=e;return t})();function mo(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function Bx(t){return t!=null&&typeof t.length=="number"}var U0=new _e(""),$0=new _e(""),yj=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,go=class{static min(e){return vj(e)}static max(e){return Cj(e)}static required(e){return bj(e)}static requiredTrue(e){return wj(e)}static email(e){return _j(e)}static minLength(e){return Dj(e)}static maxLength(e){return Sj(e)}static pattern(e){return Ej(e)}static nullValidator(e){return jx(e)}static compose(e){return Gx(e)}static composeAsync(e){return Kx(e)}};function vj(t){return e=>{if(mo(e.value)||mo(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function Cj(t){return e=>{if(mo(e.value)||mo(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function bj(t){return mo(t.value)?{required:!0}:null}function wj(t){return t.value===!0?null:{required:!0}}function _j(t){return mo(t.value)||yj.test(t.value)?null:{email:!0}}function Dj(t){return e=>mo(e.value)||!Bx(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function Sj(t){return e=>Bx(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function Ej(t){if(!t)return jx;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(mo(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function jx(t){return null}function Hx(t){return t!=null}function zx(t){return ro(t)?ht(t):t}function Ux(t){let e={};return t.forEach(n=>{e=n!=null?Z(Z({},e),n):e}),Object.keys(e).length===0?null:e}function $x(t,e){return e.map(n=>n(t))}function xj(t){return!t.validate}function Wx(t){return t.map(e=>xj(e)?e:n=>e.validate(n))}function Gx(t){if(!t)return null;let e=t.filter(Hx);return e.length==0?null:function(n){return Ux($x(n,e))}}function qx(t){return t!=null?Gx(Wx(t)):null}function Kx(t){if(!t)return null;let e=t.filter(Hx);return e.length==0?null:function(n){let r=$x(n,e).map(zx);return Ym(r).pipe(ze(Ux))}}function Zx(t){return t!=null?Kx(Wx(t)):null}function Ax(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Yx(t){return t._rawValidators}function Jx(t){return t._rawAsyncValidators}function B0(t){return t?Array.isArray(t)?t:[t]:[]}function Bp(t,e){return Array.isArray(t)?t.includes(e):t===e}function kx(t,e){let n=B0(e);return B0(t).forEach(i=>{Bp(n,i)||n.push(i)}),n}function Nx(t,e){return B0(e).filter(n=>!Bp(t,n))}var jp=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=qx(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Zx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Ds=class extends jp{get formDirective(){return null}get path(){return null}},Ss=class extends jp{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Hp=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Ij={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Ate=Pe(Z({},Ij),{"[class.ng-submitted]":"isSubmitted"}),ur=(()=>{let e=class e extends Hp{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(re(Ss,2))},e.\u0275dir=St({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&ir("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Or]});let t=e;return t})(),W0=(()=>{let e=class e extends Hp{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(re(Ds,10))},e.\u0275dir=St({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&ir("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Or]});let t=e;return t})();var ru="VALID",Vp="INVALID",gl="PENDING",iu="DISABLED",yo=class{},zp=class extends yo{constructor(e,n){super(),this.value=e,this.source=n}},ou=class extends yo{constructor(e,n){super(),this.pristine=e,this.source=n}},su=class extends yo{constructor(e,n){super(),this.touched=e,this.source=n}},yl=class extends yo{constructor(e,n){super(),this.status=e,this.source=n}},j0=class extends yo{constructor(e){super(),this.source=e}},H0=class extends yo{constructor(e){super(),this.source=e}};function Qx(t){return(Gp(t)?t.validators:t)||null}function Mj(t){return Array.isArray(t)?qx(t):t||null}function Xx(t,e){return(Gp(e)?e.asyncValidators:t)||null}function Tj(t){return Array.isArray(t)?Zx(t):t||null}function Gp(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function Aj(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new ae(1e3,"");if(!r[n])throw new ae(1001,"")}function kj(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new ae(1002,"")})}var Up=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._events=new at,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ru}get invalid(){return this.status===Vp}get pending(){return this.status==gl}get disabled(){return this.status===iu}get enabled(){return this.status!==iu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(kx(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(kx(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Nx(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Nx(e,this._rawAsyncValidators))}hasValidator(e){return Bp(this._rawValidators,e)}hasAsyncValidator(e){return Bp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Pe(Z({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new su(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new su(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Pe(Z({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new ou(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new ou(!0,r))}markAsPending(e={}){this.status=gl;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new yl(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Pe(Z({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=iu,this.errors=null,this._forEachChild(i=>{i.disable(Pe(Z({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new zp(this.value,r)),this._events.next(new yl(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Pe(Z({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ru,this._forEachChild(r=>{r.enable(Pe(Z({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Pe(Z({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ru||this.status===gl)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new zp(this.value,n)),this._events.next(new yl(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Pe(Z({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?iu:ru}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=gl,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=zx(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new yl(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new We,this.statusChanges=new We}_calculateStatus(){return this._allControlsDisabled()?iu:this.errors?Vp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gl)?gl:this._anyControlsHaveStatus(Vp)?Vp:ru}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new ou(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new su(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Gp(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Mj(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Tj(this._rawAsyncValidators)}},au=class extends Up{constructor(e,n,r){super(Qx(n),Xx(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){kj(this,!0,e),Object.keys(e).forEach(r=>{Aj(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var qp=new _e("CallSetDisabledState",{providedIn:"root",factory:()=>Kp}),Kp="always";function eI(t,e){return[...e.path,t]}function z0(t,e,n=Kp){G0(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Oj(t,e),Pj(t,e),Rj(t,e),Nj(t,e)}function Ox(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Wp(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function $p(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Nj(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function G0(t,e){let n=Yx(t);e.validator!==null?t.setValidators(Ax(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=Jx(t);e.asyncValidator!==null?t.setAsyncValidators(Ax(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();$p(e._rawValidators,i),$p(e._rawAsyncValidators,i)}function Wp(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=Yx(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=Jx(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return $p(e._rawValidators,r),$p(e._rawAsyncValidators,r),n}function Oj(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&tI(t,e)})}function Rj(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&tI(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function tI(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Pj(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Fj(t,e){t==null,G0(t,e)}function Lj(t,e){return Wp(t,e)}function nI(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Vj(t){return Object.getPrototypeOf(t.constructor)===Vx}function Bj(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function rI(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===In?n=o:Vj(o)?r=o:i=o}),i||r||n||null}function jj(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Rx(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Px(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var mi=class extends Up{constructor(e=null,n,r){super(Qx(n),Xx(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Gp(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Px(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Rx(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Rx(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Px(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Hj=t=>t instanceof mi;var zj={provide:Ss,useExisting:Mr(()=>gi)},Fx=Promise.resolve(),gi=(()=>{let e=class e extends Ss{constructor(r,i,o,s,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new mi,this._registered=!1,this.name="",this.update=new We,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=rI(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),nI(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){z0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){Fx.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&zf(i);Fx.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?eI(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(re(Ds,9),re(U0,10),re($0,10),re(vl,10),re(oo,8),re(qp,8))},e.\u0275dir=St({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ci([zj]),Or,nr]});let t=e;return t})(),q0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=St({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var iI=new _e("");var Uj={provide:Ds,useExisting:Mr(()=>Zp)},Zp=(()=>{let e=class e extends Ds{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new We,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Wp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return z0(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){Ox(r.control||null,r,!1),jj(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,Bj(this.form,this.directives),this.ngSubmit.emit(r),this.form._events.next(new j0(this.control)),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1,this.form._events.next(new H0(this.form))}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,o=this.form.get(r.path);i!==o&&(Ox(i||null,r),Hj(o)&&(z0(o,r,this.callSetDisabledState),r.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);Fj(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&Lj(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){G0(this.form,this),this._oldForm&&Wp(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(re(U0,10),re($0,10),re(qp,8))},e.\u0275dir=St({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,o){i&1&&Y("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ci([Uj]),Or,nr]});let t=e;return t})();var $j={provide:Ss,useExisting:Mr(()=>Yp)},Yp=(()=>{let e=class e extends Ss{set isDisabled(r){}constructor(r,i,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new We,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=rI(this,s)}ngOnChanges(r){this._added||this._setUpControl(),nI(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return eI(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(re(Ds,13),re(U0,10),re($0,10),re(vl,10),re(iI,8))},e.\u0275dir=St({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[ci([$j]),Or,nr]});let t=e;return t})();var oI=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=tr({type:e}),e.\u0275inj=er({});let t=e;return t})();var vo=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:qp,useValue:r.callSetDisabledState??Kp}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=tr({type:e}),e.\u0275inj=er({imports:[oI]});let t=e;return t})(),sI=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:iI,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:qp,useValue:r.callSetDisabledState??Kp}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=tr({type:e}),e.\u0275inj=er({imports:[oI]});let t=e;return t})();var aI=t=>typeof t>"u"||t===null,Wj=t=>t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`),Gj=t=>{let e={};return Object.keys(t).forEach(n=>{t[n]&&(e[n]=t[n])}),e},Jp=t=>{let e=Gj(t);return Object.entries(e).map(([n,r])=>`${Wj(n)}:${r}`).join(";")},Cl=class extends Error{constructor(e){super(e),this.name=this.constructor.name}},K0=()=>{let t=Date.now().toString(36),e=Math.random().toString(36).substring(2,7);return`${t}${e}`},lI=(t,e,n)=>Math.min(Math.max(t,e),n);function Yt(t){this.content=t}Yt.prototype={constructor:Yt,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),o=r.content.slice();return i==-1?o.push(n||t,e):(o[i+1]=e,n&&(o[i]=n)),new Yt(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Yt(n)},addToStart:function(t,e){return new Yt([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Yt(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),o=r.find(t);return i.splice(o==-1?i.length:o,0,e,n),new Yt(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Yt.from(t),t.size?new Yt(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Yt.from(t),t.size?new Yt(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Yt.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Yt.from=function(t){if(t instanceof Yt)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Yt(e)};var Z0=Yt;function mI(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),o=e.child(r);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let s=0;i.text[s]==o.text[s];s++)n++;return n}if(i.content.size||o.content.size){let s=mI(i.content,o.content,n+1);if(s!=null)return s}n+=i.nodeSize}}function gI(t,e,n,r){for(let i=t.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:n,b:r};let s=t.child(--i),a=e.child(--o),l=s.nodeSize;if(s==a){n-=l,r-=l;continue}if(!s.sameMarkup(a))return{a:n,b:r};if(s.isText&&s.text!=a.text){let d=0,f=Math.min(s.text.length,a.text.length);for(;d<f&&s.text[s.text.length-d-1]==a.text[a.text.length-d-1];)d++,n--,r--;return{a:n,b:r}}if(s.content.size||a.content.size){let d=gI(s.content,a.content,n-1,r-1);if(d)return d}n-=l,r-=l}}var K=class t{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,o){for(let s=0,a=0;a<n;s++){let l=this.content[s],d=a+l.nodeSize;if(d>e&&r(l,i+a,o||null,s)!==!1&&l.content.size){let f=a+1;l.nodesBetween(Math.max(0,e-f),Math.min(l.content.size,n-f),r,i+f)}a=d}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let o="",s=!0;return this.nodesBetween(e,n,(a,l)=>{let d=a.isText?a.text.slice(Math.max(e,l)-l,n-l):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&d||a.isTextblock)&&r&&(s?s=!1:o+=r),o+=d},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new t(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let o=0,s=0;s<n;o++){let a=this.content[o],l=s+a.nodeSize;l>e&&((s<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-s),Math.min(a.text.length,n-s)):a=a.cut(Math.max(0,e-s-1),Math.min(a.content.size,n-s-1))),r.push(a),i+=a.nodeSize),s=l}return new t(r,i)}cutByIndex(e,n){return e==n?t.empty:e==0&&n==this.content.length?this:new t(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new t(i,o)}addToStart(e){return new t([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new t(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return mI(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return gI(this,e,n,r)}findIndex(e,n=-1){if(e==0)return Qp(0,e);if(e==this.size)return Qp(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let o=this.child(r),s=i+o.nodeSize;if(s>=e)return s==e||n>0?Qp(r+1,s):Qp(r,i);i=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return t.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new t(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return t.empty;let n,r=0;for(let i=0;i<e.length;i++){let o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(n||(n=e.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new t(n||e,r)}static from(e){if(!e)return t.empty;if(e instanceof t)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new t([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}};K.empty=new K([],0);var Y0={index:0,offset:0};function Qp(t,e){return Y0.index=t,Y0.offset=e,Y0}function Xp(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!Xp(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!Xp(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}var et=(()=>{class t{constructor(n,r){this.type=n,this.attrs=r}addToSet(n){let r,i=!1;for(let o=0;o<n.length;o++){let s=n[o];if(this.eq(s))return n;if(this.type.excludes(s.type))r||(r=n.slice(0,o));else{if(s.type.excludes(this.type))return n;!i&&s.type.rank>this.type.rank&&(r||(r=n.slice(0,o)),r.push(this),i=!0),r&&r.push(s)}}return r||(r=n.slice()),i||r.push(this),r}removeFromSet(n){for(let r=0;r<n.length;r++)if(this.eq(n[r]))return n.slice(0,r).concat(n.slice(r+1));return n}isInSet(n){for(let r=0;r<n.length;r++)if(this.eq(n[r]))return!0;return!1}eq(n){return this==n||this.type==n.type&&Xp(this.attrs,n.attrs)}toJSON(){let n={type:this.type.name};for(let r in this.attrs){n.attrs=this.attrs;break}return n}static fromJSON(n,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");let i=n.marks[r.type];if(!i)throw new RangeError(`There is no mark type ${r.type} in this schema`);return i.create(r.attrs)}static sameSet(n,r){if(n==r)return!0;if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++)if(!n[i].eq(r[i]))return!1;return!0}static setFrom(n){if(!n||Array.isArray(n)&&n.length==0)return t.none;if(n instanceof t)return[n];let r=n.slice();return r.sort((i,o)=>i.type.rank-o.type.rank),r}}return t.none=[],t})(),Ms=class extends Error{},ee=class t{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=vI(this.content,e+this.openStart,n);return r&&new t(r,this.openStart,this.openEnd)}removeBetween(e,n){return new t(yI(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return t.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new t(K.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)i++;return new t(e,r,i)}};ee.empty=new ee(K.empty,0,0);function yI(t,e,n){let{index:r,offset:i}=t.findIndex(e),o=t.maybeChild(r),{index:s,offset:a}=t.findIndex(n);if(i==e||o.isText){if(a!=n&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(r,o.copy(yI(o.content,e-i-1,n-i-1)))}function vI(t,e,n,r){let{index:i,offset:o}=t.findIndex(e),s=t.maybeChild(i);if(o==e||s.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let a=vI(s.content,e-o-1,n);return a&&t.replaceChild(i,s.copy(a))}function qj(t,e,n){if(n.openStart>t.depth)throw new Ms("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Ms("Inconsistent open depths");return CI(t,e,n,0)}function CI(t,e,n,r){let i=t.index(r),o=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let s=CI(t,e,n,r+1);return o.copy(o.content.replaceChild(i,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let s=t.parent,a=s.content;return Is(s,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:s,end:a}=Kj(n,t);return Is(o,wI(t,s,a,e,r))}else return Is(o,eh(t,e,r))}function bI(t,e){if(!e.type.compatibleContent(t.type))throw new Ms("Cannot join "+e.type.name+" onto "+t.type.name)}function eC(t,e,n){let r=t.node(n);return bI(r,e.node(n)),r}function xs(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function cu(t,e,n,r){let i=(e||t).node(n),o=0,s=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(xs(t.nodeAfter,r),o++));for(let a=o;a<s;a++)xs(i.child(a),r);e&&e.depth==n&&e.textOffset&&xs(e.nodeBefore,r)}function Is(t,e){return t.type.checkContent(e),t.copy(e)}function wI(t,e,n,r,i){let o=t.depth>i&&eC(t,e,i+1),s=r.depth>i&&eC(n,r,i+1),a=[];return cu(null,t,i,a),o&&s&&e.index(i)==n.index(i)?(bI(o,s),xs(Is(o,wI(t,e,n,r,i+1)),a)):(o&&xs(Is(o,eh(t,e,i+1)),a),cu(e,n,i,a),s&&xs(Is(s,eh(n,r,i+1)),a)),cu(r,null,i,a),new K(a)}function eh(t,e,n){let r=[];if(cu(null,t,n,r),t.depth>n){let i=eC(t,e,n+1);xs(Is(i,eh(t,e,n+1)),r)}return cu(e,null,n,r),new K(r)}function Kj(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let o=n-1;o>=0;o--)i=e.node(o).copy(K.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}var th=class t{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let o=0;o<e;o++)i+=r.child(o).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return et.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let a=r;r=i,i=a}let o=r.marks;for(var s=0;s<o.length;s++)o[s].type.spec.inclusive===!1&&(!i||!o[s].isInSet(i.marks))&&(o=o[s--].removeFromSet(o));return o}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new Ts(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let s=e;;){let{index:a,offset:l}=s.content.findIndex(o),d=o-l;if(r.push(s,a,i+l),!d||(s=s.child(a),s.isText))break;o=d-1,i+=l+1}return new t(n,r,o)}static resolveCached(e,n){for(let i=0;i<J0.length;i++){let o=J0[i];if(o.pos==n&&o.doc==e)return o}let r=J0[Q0]=t.resolve(e,n);return Q0=(Q0+1)%Zj,r}},J0=[],Q0=0,Zj=12,Ts=class{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}},Yj=Object.create(null),Fr=class t{constructor(e,n,r,i=et.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||K.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&Xp(this.attrs,n||e.defaultAttrs||Yj)&&et.sameSet(this.marks,r||et.none)}copy(e=null){return e==this.content?this:new t(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new t(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return ee.empty;let i=this.resolve(e),o=this.resolve(n),s=r?0:i.sharedDepth(n),a=i.start(s),d=i.node(s).content.cut(i.pos-a,o.pos-a);return new ee(d,i.depth-s,o.depth-s)}replace(e,n,r){return qj(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return th.resolveCached(this,e)}resolveNoCache(e){return th.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),_I(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=K.empty,i=0,o=r.childCount){let s=this.contentMatchAt(e).matchFragment(r,i,o),a=s&&s.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=i;l<o;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(r),s=o&&o.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content);let e=et.none;for(let n=0;n<this.marks.length;n++)e=this.marks[n].addToSet(e);if(!et.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r=null;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=K.fromJSON(e,n.content);return e.nodeType(n.type).create(n.attrs,i,r)}};Fr.prototype.text=void 0;var tC=class t extends Fr{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):_I(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new t(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new t(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}};function _I(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}var As=class t{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new nC(e,n);if(r.next==null)return t.empty;let i=DI(r);r.next&&r.err("Unexpected trailing text");let o=r3(n3(i));return i3(o,r),o}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function o(s,a){let l=s.matchFragment(e,r);if(l&&(!n||l.validEnd))return K.from(a.map(d=>d.createAndFill()));for(let d=0;d<s.next.length;d++){let{type:f,next:m}=s.next[d];if(!(f.isText||f.hasRequiredAttrs())&&i.indexOf(m)==-1){i.push(m);let y=o(m,a.concat(f));if(y)return y}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(e)){let s=[];for(let a=i;a.type;a=a.via)s.push(a.type);return s.reverse()}for(let s=0;s<o.next.length;s++){let{type:a,next:l}=o.next[s];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)o+=(s?", ":"")+r.next[s].type.name+"->"+e.indexOf(r.next[s].next);return o}).join(`
`)}};As.empty=new As(!0);var nC=class{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}};function DI(t){let e=[];do e.push(Jj(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Jj(t){let e=[];do e.push(Qj(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function Qj(t){let e=t3(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=Xj(t,e);else break;return e}function cI(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function Xj(t,e){let n=cI(t),r=n;return t.eat(",")&&(t.next!="}"?r=cI(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function e3(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let o in n){let s=n[o];s.groups.indexOf(e)>-1&&i.push(s)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function t3(t){if(t.eat("(")){let e=DI(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=e3(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function n3(t){let e=[[]];return i(o(t,0),n()),e;function n(){return e.push([])-1}function r(s,a,l){let d={term:l,to:a};return e[s].push(d),d}function i(s,a){s.forEach(l=>l.to=a)}function o(s,a){if(s.type=="choice")return s.exprs.reduce((l,d)=>l.concat(o(d,a)),[]);if(s.type=="seq")for(let l=0;;l++){let d=o(s.exprs[l],a);if(l==s.exprs.length-1)return d;i(d,a=n())}else if(s.type=="star"){let l=n();return r(a,l),i(o(s.expr,l),l),[r(l)]}else if(s.type=="plus"){let l=n();return i(o(s.expr,a),l),i(o(s.expr,l),l),[r(l)]}else{if(s.type=="opt")return[r(a)].concat(o(s.expr,a));if(s.type=="range"){let l=a;for(let d=0;d<s.min;d++){let f=n();i(o(s.expr,l),f),l=f}if(s.max==-1)i(o(s.expr,l),l);else for(let d=s.min;d<s.max;d++){let f=n();r(l,f),i(o(s.expr,l),f),l=f}return[r(l)]}else{if(s.type=="name")return[r(a,void 0,s.value)];throw new Error("Unknown expr type")}}}}function SI(t,e){return e-t}function uI(t,e){let n=[];return r(e),n.sort(SI);function r(i){let o=t[i];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(i);for(let s=0;s<o.length;s++){let{term:a,to:l}=o[s];!a&&n.indexOf(l)==-1&&r(l)}}}function r3(t){let e=Object.create(null);return n(uI(t,0));function n(r){let i=[];r.forEach(s=>{t[s].forEach(({term:a,to:l})=>{if(!a)return;let d;for(let f=0;f<i.length;f++)i[f][0]==a&&(d=i[f][1]);uI(t,l).forEach(f=>{d||i.push([a,d=[]]),d.indexOf(f)==-1&&d.push(f)})})});let o=e[r.join(",")]=new As(r.indexOf(t.length-1)>-1);for(let s=0;s<i.length;s++){let a=i[s][1].sort(SI);o.next.push({type:i[s][0],next:e[a.join(",")]||n(a)})}return o}}function i3(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],o=!i.validEnd,s=[];for(let a=0;a<i.next.length;a++){let{type:l,next:d}=i.next[a];s.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),r.indexOf(d)==-1&&r.push(d)}o&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function EI(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function xI(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let o=t[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function II(t){let e=Object.create(null);if(t)for(let n in t)e[n]=new rC(t[n]);return e}var nh=class t{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=II(r.attrs),this.defaultAttrs=EI(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==As.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:xI(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Fr(this,this.computeAttrs(e),K.from(n),et.setFrom(r))}createChecked(e=null,n,r){return n=K.from(n),this.checkContent(n),new Fr(this,this.computeAttrs(e),n,et.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=K.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let i=this.contentMatch.matchFragment(n),o=i&&i.fillBefore(K.empty,!0);return o?new Fr(this,e,n.append(o),et.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:et.none:e}static compile(e,n){let r=Object.create(null);e.forEach((o,s)=>r[o]=new t(o,n,s));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}},rC=class{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}},du=class t{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=II(i.attrs),this.excluded=null;let o=EI(this.attrs);this.instance=o?new et(this,o):null}create(e=null){return!e&&this.instance?this.instance:new et(this,xI(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((o,s)=>r[o]=new t(o,i++,n,s)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}excludes(e){return this.excluded.indexOf(e)>-1}},rh=class{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=Z0.from(e.nodes),n.marks=Z0.from(e.marks||{}),this.nodes=nh.compile(this.spec.nodes,this),this.marks=du.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],s=o.spec.content||"",a=o.spec.marks;if(o.contentMatch=r[s]||(r[s]=As.parse(s,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=a=="_"?null:a?dI(this,a.split(" ")):a==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],s=o.spec.excludes;o.excluded=s==null?[o]:s==""?[]:dI(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof nh){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new tC(r,r.defaultAttrs,e,et.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return Fr.fromJSON(this,e)}markFromJSON(e){return et.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}};function dI(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],o=t.marks[i],s=o;if(o)n.push(o);else for(let a in t.marks){let l=t.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function o3(t){return t.tag!=null}function s3(t){return t.style!=null}var Co=class t{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[],n.forEach(r=>{o3(r)?this.tags.push(r):s3(r)&&this.styles.push(r)}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let i=e.nodes[r.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let r=new sh(this,n,!1);return r.addAll(e,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new sh(this,n,!0);return r.addAll(e,n.from,n.to),ee.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(c3(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let s=o.getAttrs(e);if(s===!1)continue;o.attrs=s||void 0}return o}}}matchStyle(e,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let s=this.styles[o],a=s.style;if(!(a.indexOf(e)!=0||s.context&&!r.matchesContext(s.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(s.getAttrs){let l=s.getAttrs(n);if(l===!1)continue;s.attrs=l||void 0}return s}}}static schemaRules(e){let n=[];function r(i){let o=i.priority==null?50:i.priority,s=0;for(;s<n.length;s++){let a=n[s];if((a.priority==null?50:a.priority)<o)break}n.splice(s,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(s=>{r(s=pI(s)),s.mark||s.ignore||s.clearMark||(s.mark=i)})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(s=>{r(s=pI(s)),s.node||s.ignore||s.mark||(s.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new t(e,t.schemaRules(e)))}},MI={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},a3={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},TI={ol:!0,ul:!0},ih=1,oh=2,uu=4;function fI(t,e,n){return e!=null?(e?ih:0)|(e==="full"?oh:0):t&&t.whitespace=="pre"?ih|oh:n&~uu}var bl=class{constructor(e,n,r,i,o,s,a){this.type=e,this.attrs=n,this.marks=r,this.pendingMarks=i,this.solid=o,this.options=a,this.content=[],this.activeMarks=et.none,this.stashMarks=[],this.match=s||(a&uu?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(K.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&ih)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let n=K.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(K.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}popFromStashMark(e){for(let n=this.stashMarks.length-1;n>=0;n--)if(e.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(e){for(let n=0,r=this.pendingMarks;n<r.length;n++){let i=r[n];(this.type?this.type.allowsMarkType(i.type):u3(i.type,e))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!MI.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}},sh=class{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0;let i=n.topNode,o,s=fI(null,n.preserveWhitespace,0)|(r?uu:0);i?o=new bl(i.type,i.attrs,et.none,et.none,!0,n.topMatch||i.type.contentMatch,s):r?o=new bl(null,null,et.none,et.none,!0,null,s):o=new bl(e.schema.topNodeType,null,et.none,et.none,!0,null,s),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){e.nodeType==3?this.addTextNode(e):e.nodeType==1&&this.addElement(e)}withStyleRules(e,n){let r=e.style;if(!r||!r.length)return n();let i=this.readStyles(e.style);if(!i)return;let[o,s]=i,a=this.top;for(let l=0;l<s.length;l++)this.removePendingMark(s[l],a);for(let l=0;l<o.length;l++)this.addPendingMark(o[l]);n();for(let l=0;l<o.length;l++)this.removePendingMark(o[l],a);for(let l=0;l<s.length;l++)this.addPendingMark(s[l])}addTextNode(e){let n=e.nodeValue,r=this.top;if(r.options&oh||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&ih)r.options&oh?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let i=r.content[r.content.length-1],o=e.previousSibling;(!i||o&&o.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(e)}else this.findInside(e)}addElement(e,n){let r=e.nodeName.toLowerCase(),i;TI.hasOwnProperty(r)&&this.parser.normalizeLists&&l3(e);let o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,n));if(o?o.ignore:a3.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);let s,a=this.top,l=this.needsBlock;if(MI.hasOwnProperty(r))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),s=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}o&&o.skip?this.addAll(e):this.withStyleRules(e,()=>this.addAll(e)),s&&this.sync(a),this.needsBlock=l}else this.withStyleRules(e,()=>{this.addElementByRule(e,o,o.consuming===!1?i:void 0)})}leafFallback(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))}ignoreFallback(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let n=et.none,r=et.none;for(let i=0,o=e.length;i<o;i++){let s=e.item(i);for(let a=void 0;;){let l=this.parser.matchStyle(s,e.getPropertyValue(s),this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(d=>{l.clearMark(d)&&(r=d.addToSet(r))}):n=this.parser.schema.marks[l.mark].create(l.attrs).addToSet(n),l.consuming===!1)a=l;else break}}return[n,r]}addElementByRule(e,n,r){let i,o,s;n.node?(o=this.parser.schema.nodes[n.node],o.isLeaf?this.insertNode(o.create(n.attrs))||this.leafFallback(e):i=this.enter(o,n.attrs||null,n.preserveWhitespace)):(s=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(s));let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(r)this.addElement(e,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l)}i&&this.sync(a)&&this.open--,s&&this.removePendingMark(s,a)}addAll(e,n,r){let i=n||0;for(let o=n?e.childNodes[n]:e.firstChild,s=r==null?null:e.childNodes[r];o!=s;o=o.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(o);this.findAtPoint(e,i)}findPlace(e){let n,r;for(let i=this.open;i>=0;i--){let o=this.nodes[i],s=o.findWrapping(e);if(s&&(!n||n.length>s.length)&&(n=s,r=o,!s.length)||o.solid)break}if(!n)return!1;this.sync(r);for(let i=0;i<n.length;i++)this.enterInner(n[i],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(e)){this.closeExtra();let n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));let r=n.activeMarks;for(let i=0;i<e.marks.length;i++)(!n.type||n.type.allowsMarkType(e.marks[i].type))&&(r=e.marks[i].addToSet(r));return n.content.push(e.mark(r)),!0}return!1}enter(e,n,r){let i=this.findPlace(e.create(n));return i&&this.enterInner(e,n,!0,r),i}enterInner(e,n=null,r=!1,i){this.closeExtra();let o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e);let s=fI(e,i,o.options);o.options&uu&&o.content.length==0&&(s|=uu),this.nodes.push(new bl(e,n,o.activeMarks,o.pendingMarks,r,null,s)),this.open++}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),s=(a,l)=>{for(;a>=0;a--){let d=n[a];if(d==""){if(a==n.length-1||a==0)continue;for(;l>=o;l--)if(s(a-1,l))return!0;return!1}else{let f=l>0||l==0&&i?this.nodes[l].type:r&&l>=o?r.node(l-o).type:null;if(!f||f.name!=d&&f.groups.indexOf(d)==-1)return!1;l--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(e){let n=d3(e,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,n){for(let r=this.open;r>=0;r--){let i=this.nodes[r];if(i.pendingMarks.lastIndexOf(e)>-1)i.pendingMarks=e.removeFromSet(i.pendingMarks);else{i.activeMarks=e.removeFromSet(i.activeMarks);let s=i.popFromStashMark(e);s&&i.type&&i.type.allowsMarkType(s.type)&&(i.activeMarks=s.addToSet(i.activeMarks))}if(i==n)break}}};function l3(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&TI.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function c3(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function pI(t){let e={};for(let n in t)e[n]=t[n];return e}function u3(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let o=[],s=a=>{o.push(a);for(let l=0;l<a.edgeCount;l++){let{type:d,next:f}=a.edge(l);if(d==e||o.indexOf(f)<0&&s(f))return!0}};if(s(i.contentMatch))return!0}}function d3(t,e){for(let n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}var yi=class t{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=X0(n).createDocumentFragment());let i=r,o=[];return e.forEach(s=>{if(o.length||s.marks.length){let a=0,l=0;for(;a<o.length&&l<s.marks.length;){let d=s.marks[l];if(!this.marks[d.type.name]){l++;continue}if(!d.eq(o[a][0])||d.type.spec.spanning===!1)break;a++,l++}for(;a<o.length;)i=o.pop()[1];for(;l<s.marks.length;){let d=s.marks[l++],f=this.serializeMark(d,s.isInline,n);f&&(o.push([d,i]),i.appendChild(f.dom),i=f.contentDOM||f.dom)}}i.appendChild(this.serializeNodeInner(s,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=t.renderSpec(X0(n),this.nodes[e.type.name](e));if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&t.renderSpec(X0(r),i(e,n))}static renderSpec(e,n,r=null){if(typeof n=="string")return{dom:e.createTextNode(n)};if(n.nodeType!=null)return{dom:n};if(n.dom&&n.dom.nodeType!=null)return n;let i=n[0],o=i.indexOf(" ");o>0&&(r=i.slice(0,o),i=i.slice(o+1));let s,a=r?e.createElementNS(r,i):e.createElement(i),l=n[1],d=1;if(l&&typeof l=="object"&&l.nodeType==null&&!Array.isArray(l)){d=2;for(let f in l)if(l[f]!=null){let m=f.indexOf(" ");m>0?a.setAttributeNS(f.slice(0,m),f.slice(m+1),l[f]):a.setAttribute(f,l[f])}}for(let f=d;f<n.length;f++){let m=n[f];if(m===0){if(f<n.length-1||f>d)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}else{let{dom:y,contentDOM:v}=t.renderSpec(e,m,r);if(a.appendChild(y),v){if(s)throw new RangeError("Multiple content holes");s=v}}}return{dom:a,contentDOM:s}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new t(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=hI(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return hI(e.marks)}};function hI(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function X0(t){return t.document||window.document}var NI=65535,OI=Math.pow(2,16);function f3(t,e){return t+e*OI}function AI(t){return t&NI}function p3(t){return(t-(t&NI))/OI}var RI=1,PI=2,ah=4,FI=8,hu=class{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&FI)>0}get deletedBefore(){return(this.delInfo&(RI|ah))>0}get deletedAfter(){return(this.delInfo&(PI|ah))>0}get deletedAcross(){return(this.delInfo&ah)>0}},vi=class t{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&t.empty)return t.empty}recover(e){let n=0,r=AI(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+p3(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let d=this.ranges[a+o],f=this.ranges[a+s],m=l+d;if(e<=m){let y=d?e==l?-1:e==m?1:n:n,v=l+i+(y<0?0:f);if(r)return v;let b=e==(n<0?l:m)?null:f3(a/3,e-l),I=e==l?PI:e==m?RI:ah;return(n<0?e!=l:e!=m)&&(I|=FI),new hu(v,I,b)}i+=f-d}return r?e+i:new hu(e+i,0,null)}touches(e,n){let r=0,i=AI(n),o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let d=this.ranges[a+o],f=l+d;if(e<=f&&a==i*3)return!0;r+=this.ranges[a+s]-d}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let s=this.ranges[i],a=s-(this.inverted?o:0),l=s+(this.inverted?0:o),d=this.ranges[i+n],f=this.ranges[i+r];e(a,a+d,l,l+f),o+=f-d}}invert(){return new t(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?t.empty:new t(e<0?[0,-e,0]:[0,0,e])}};vi.empty=new vi([]);var mu=class t{constructor(e=[],n,r=0,i=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=i}slice(e=0,n=this.maps.length){return new t(this.maps,this.mirror,e,n)}copy(){return new t(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let i=e.getMirror(n);this.appendMap(e.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new t;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let o=this.from;o<this.to;o++){let s=this.maps[o],a=s.mapResult(e,n);if(a.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,e=this.maps[l].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return r?e:new hu(e,i,null)}},iC=Object.create(null),Ot=class{getMap(){return vi.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=iC[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in iC)throw new RangeError("Duplicate use of step JSON ID "+e);return iC[e]=n,n.prototype.jsonID=e,n}},Ht=class t{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new t(e,null)}static fail(e){return new t(null,e)}static fromReplace(e,n,r,i){try{return t.ok(e.replace(n,r,i))}catch(o){if(o instanceof Ms)return t.fail(o.message);throw o}}};function cC(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let o=t.child(i);o.content.size&&(o=o.copy(cC(o.content,e,o))),o.isInline&&(o=e(o,n,i)),r.push(o)}return K.fromArray(r)}var gu=class t extends Ot{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new ee(cC(n.content,(s,a)=>!s.isAtom||!a.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),n.openStart,n.openEnd);return Ht.fromReplace(e,this.from,this.to,o)}invert(){return new ks(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new t(n.pos,r.pos,this.mark)}merge(e){return e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new t(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new t(n.from,n.to,e.markFromJSON(n.mark))}};Ot.jsonID("addMark",gu);var ks=class t extends Ot{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new ee(cC(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return Ht.fromReplace(e,this.from,this.to,r)}invert(){return new gu(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new t(n.pos,r.pos,this.mark)}merge(e){return e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new t(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new t(n.from,n.to,e.markFromJSON(n.mark))}};Ot.jsonID("removeMark",ks);var yu=class t extends Ot{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Ht.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Ht.fromReplace(e,this.pos,this.pos+1,new ee(K.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new t(this.pos,n.marks[i]);return new t(this.pos,this.mark)}}return new vu(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new t(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new t(n.pos,e.markFromJSON(n.mark))}};Ot.jsonID("addNodeMark",yu);var vu=class t extends Ot{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Ht.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Ht.fromReplace(e,this.pos,this.pos+1,new ee(K.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new yu(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new t(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new t(n.pos,e.markFromJSON(n.mark))}};Ot.jsonID("removeNodeMark",vu);var Mn=class t extends Ot{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&aC(e,this.from,this.to)?Ht.fail("Structure replace would overwrite content"):Ht.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new vi([this.from,this.to-this.from,this.slice.size])}invert(e){return new t(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new t(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof t)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?ee.empty:new ee(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new t(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?ee.empty:new ee(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new t(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new t(n.from,n.to,ee.fromJSON(e,n.slice),!!n.structure)}};Ot.jsonID("replace",Mn);var Rt=class t extends Ot{constructor(e,n,r,i,o,s,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=a}apply(e){if(this.structure&&(aC(e,this.from,this.gapFrom)||aC(e,this.gapTo,this.to)))return Ht.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Ht.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Ht.fromReplace(e,this.from,this.to,r):Ht.fail("Content does not fit in gap")}getMap(){return new vi([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new t(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new t(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new t(n.from,n.to,n.gapFrom,n.gapTo,ee.fromJSON(e,n.slice),n.insert,!!n.structure)}};Ot.jsonID("replaceAround",Rt);function aC(t,e,n){let r=t.resolve(e),i=n-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let s=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function h3(t,e,n,r){let i=[],o=[],s,a;t.doc.nodesBetween(e,n,(l,d,f)=>{if(!l.isInline)return;let m=l.marks;if(!r.isInSet(m)&&f.type.allowsMarkType(r.type)){let y=Math.max(d,e),v=Math.min(d+l.nodeSize,n),b=r.addToSet(m);for(let I=0;I<m.length;I++)m[I].isInSet(b)||(s&&s.to==y&&s.mark.eq(m[I])?s.to=v:i.push(s=new ks(y,v,m[I])));a&&a.to==y?a.to=v:o.push(a=new gu(y,v,r))}}),i.forEach(l=>t.step(l)),o.forEach(l=>t.step(l))}function m3(t,e,n,r){let i=[],o=0;t.doc.nodesBetween(e,n,(s,a)=>{if(!s.isInline)return;o++;let l=null;if(r instanceof du){let d=s.marks,f;for(;f=r.isInSet(d);)(l||(l=[])).push(f),d=f.removeFromSet(d)}else r?r.isInSet(s.marks)&&(l=[r]):l=s.marks;if(l&&l.length){let d=Math.min(a+s.nodeSize,n);for(let f=0;f<l.length;f++){let m=l[f],y;for(let v=0;v<i.length;v++){let b=i[v];b.step==o-1&&m.eq(i[v].style)&&(y=b)}y?(y.to=d,y.step=o):i.push({style:m,from:Math.max(a,e),to:d,step:o})}}}),i.forEach(s=>t.step(new ks(s.from,s.to,s.style)))}function LI(t,e,n,r=n.contentMatch,i=!0){let o=t.doc.nodeAt(e),s=[],a=e+1;for(let l=0;l<o.childCount;l++){let d=o.child(l),f=a+d.nodeSize,m=r.matchType(d.type);if(!m)s.push(new Mn(a,f,ee.empty));else{r=m;for(let y=0;y<d.marks.length;y++)n.allowsMarkType(d.marks[y].type)||t.step(new ks(a,f,d.marks[y]));if(i&&d.isText&&n.whitespace!="pre"){let y,v=/\r?\n|\r/g,b;for(;y=v.exec(d.text);)b||(b=new ee(K.from(n.schema.text(" ",n.allowedMarks(d.marks))),0,0)),s.push(new Mn(a+y.index,a+y.index+y[0].length,b))}}a=f}if(!r.validEnd){let l=r.fillBefore(K.empty,!0);t.replace(a,a,new ee(l,0,0))}for(let l=s.length-1;l>=0;l--)t.step(s[l])}function g3(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Ns(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),o=t.$from.index(r),s=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(o,s,n))return r;if(r==0||i.type.spec.isolating||!g3(i,o,s))break}return null}function y3(t,e,n){let{$from:r,$to:i,depth:o}=e,s=r.before(o+1),a=i.after(o+1),l=s,d=a,f=K.empty,m=0;for(let b=o,I=!1;b>n;b--)I||r.index(b)>0?(I=!0,f=K.from(r.node(b).copy(f)),m++):l--;let y=K.empty,v=0;for(let b=o,I=!1;b>n;b--)I||i.after(b+1)<i.end(b)?(I=!0,y=K.from(i.node(b).copy(y)),v++):d++;t.step(new Rt(l,d,s,a,new ee(f.append(y),m,v),f.size-m,!0))}function _l(t,e,n=null,r=t){let i=v3(t,e),o=i&&C3(r,e);return o?i.map(kI).concat({type:e,attrs:n}).concat(o.map(kI)):null}function kI(t){return{type:t,attrs:null}}function v3(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.contentMatchAt(r).findWrapping(e);if(!o)return null;let s=o.length?o[0]:e;return n.canReplaceWith(r,i,s)?o:null}function C3(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.child(r),s=e.contentMatch.findWrapping(o.type);if(!s)return null;let l=(s.length?s[s.length-1]:e).contentMatch;for(let d=r;l&&d<i;d++)l=l.matchType(n.child(d).type);return!l||!l.validEnd?null:s}function b3(t,e,n){let r=K.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let a=n[s].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=K.from(n[s].type.create(n[s].attrs,r))}let i=e.start,o=e.end;t.step(new Rt(i,o,i,o,new ee(r,0,0),n.length,!0))}function w3(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,n,(s,a)=>{if(s.isTextblock&&!s.hasMarkup(r,i)&&S3(t.doc,t.mapping.slice(o).map(a),r)){let l=null;if(r.schema.linebreakReplacement){let y=r.whitespace=="pre",v=!!r.contentMatch.matchType(r.schema.linebreakReplacement);y&&!v?l=!1:!y&&v&&(l=!0)}l===!1&&D3(t,s,a,o),LI(t,t.mapping.slice(o).map(a,1),r,void 0,l===null);let d=t.mapping.slice(o),f=d.map(a,1),m=d.map(a+s.nodeSize,1);return t.step(new Rt(f,m,f+1,m-1,new ee(K.from(r.create(i,null,s.marks)),0,0),1,!0)),l===!0&&_3(t,s,a,o),!1}})}function _3(t,e,n,r){e.forEach((i,o)=>{if(i.isText){let s,a=/\r?\n|\r/g;for(;s=a.exec(i.text);){let l=t.mapping.slice(r).map(n+1+o+s.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function D3(t,e,n,r){e.forEach((i,o)=>{if(i.type==i.type.schema.linebreakReplacement){let s=t.mapping.slice(r).map(n+1+o);t.replaceWith(s,s+1,e.type.schema.text(`
`))}})}function S3(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function E3(t,e,n,r,i){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let s=n.create(r,null,i||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,s);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Rt(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new ee(K.from(s),0,0),1,!0))}function bo(t,e,n=1,r){let i=t.resolve(e),o=i.depth-n,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let d=i.depth-1,f=n-2;d>o;d--,f--){let m=i.node(d),y=i.index(d);if(m.type.spec.isolating)return!1;let v=m.content.cutByIndex(y,m.childCount),b=r&&r[f+1];b&&(v=v.replaceChild(0,b.type.create(b.attrs)));let I=r&&r[f]||m;if(!m.canReplace(y+1,m.childCount)||!I.type.validContent(v))return!1}let a=i.indexAfter(o),l=r&&r[0];return i.node(o).canReplaceWith(a,a,l?l.type:i.node(o+1).type)}function x3(t,e,n=1,r){let i=t.doc.resolve(e),o=K.empty,s=K.empty;for(let a=i.depth,l=i.depth-n,d=n-1;a>l;a--,d--){o=K.from(i.node(a).copy(o));let f=r&&r[d];s=K.from(f?f.type.create(f.attrs,s):i.node(a).copy(s))}t.step(new Mn(e,e,new ee(o.append(s),n,n),!0))}function Os(t,e){let n=t.resolve(e),r=n.index();return I3(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function I3(t,e){return!!(t&&e&&!t.isLeaf&&t.canAppend(e))}function M3(t,e,n){let r=new Mn(e-n,e+n,ee.empty,!0);t.step(r)}function T3(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,n))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function VI(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let s=r.depth;s>=0;s--){let a=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,l=r.index(s)+(a>0?1:0),d=r.node(s),f=!1;if(o==1)f=d.canReplace(l,l,i);else{let m=d.contentMatchAt(l).findWrapping(i.firstChild.type);f=m&&d.canReplaceWith(l,l,m[0])}if(f)return a==0?r.pos:a<0?r.before(s+1):r.after(s+1)}return null}function dh(t,e,n=e,r=ee.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),o=t.resolve(n);return BI(i,o,r)?new Mn(e,n,r):new lC(i,o,r).fit()}function BI(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}var lC=class{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=K.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=K.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let d=this.findFittable();d?this.placeNodes(d):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,s=r.depth,a=i.depth;for(;s&&a&&o.childCount==1;)o=o.firstChild.content,s--,a--;let l=new ee(o,s,a);return e>-1?new Rt(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new Mn(r.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let o=n.firstChild;if(n.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){e=r;break}n=o.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=oC(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let s=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:d}=this.frontier[a],f,m=null;if(n==1&&(s?d.matchType(s.type)||(m=d.fillBefore(K.from(s),!1)):o&&l.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:a,parent:o,inject:m};if(n==2&&s&&(f=d.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:a,parent:o,wrap:f};if(o&&d.matchType(o.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=oC(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new ee(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=oC(e,n);if(i.childCount<=1&&n>0){let o=e.size-n<=n+i.size;this.unplaced=new ee(fu(e,n-1,1),n-1,o?n-1:r)}else this.unplaced=new ee(fu(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let I=0;I<o.length;I++)this.openFrontierNode(o[I]);let s=this.unplaced,a=r?r.content:s.content,l=s.openStart-e,d=0,f=[],{match:m,type:y}=this.frontier[n];if(i){for(let I=0;I<i.childCount;I++)f.push(i.child(I));m=m.matchFragment(i)}let v=a.size+e-(s.content.size-s.openEnd);for(;d<a.childCount;){let I=a.child(d),k=m.matchType(I.type);if(!k)break;d++,(d>1||l==0||I.content.size)&&(m=k,f.push(jI(I.mark(y.allowedMarks(I.marks)),d==1?l:0,d==a.childCount?v:-1)))}let b=d==a.childCount;b||(v=-1),this.placed=pu(this.placed,n,K.from(f)),this.frontier[n].match=m,b&&v<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let I=0,k=a;I<v;I++){let H=k.lastChild;this.frontier.push({type:H.type,match:H.contentMatchAt(H.childCount)}),k=H.content}this.unplaced=b?e==0?ee.empty:new ee(fu(s.content,e-1,1),e-1,v<0?s.openEnd:e-1):new ee(fu(s.content,e,d),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!sC(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],o=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),s=sC(e,n,i,r,o);if(s){for(let a=n-1;a>=0;a--){let{match:l,type:d}=this.frontier[a],f=sC(e,a,d,l,!0);if(!f||f.childCount)continue e}return{depth:n,fit:s,move:o?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=pu(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=pu(this.placed,this.depth,K.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(K.empty,!0);n.childCount&&(this.placed=pu(this.placed,this.frontier.length,n))}};function fu(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(fu(t.firstChild.content,e-1,n)))}function pu(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(pu(t.lastChild.content,e-1,n)))}function oC(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function jI(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,jI(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(K.empty,!0)))),t.copy(r)}function sC(t,e,n,r,i){let o=t.node(e),s=i?t.indexAfter(e):t.index(e);if(s==o.childCount&&!n.compatibleContent(o.type))return null;let a=r.fillBefore(o.content,!0,s);return a&&!A3(n,o.content,s)?a:null}function A3(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function k3(t){return t.spec.defining||t.spec.definingForContent}function N3(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),o=t.doc.resolve(n);if(BI(i,o,r))return t.step(new Mn(e,n,r));let s=zI(i,t.doc.resolve(n));s[s.length-1]==0&&s.pop();let a=-(i.depth+1);s.unshift(a);for(let y=i.depth,v=i.pos-1;y>0;y--,v--){let b=i.node(y).type.spec;if(b.defining||b.definingAsContext||b.isolating)break;s.indexOf(y)>-1?a=y:i.before(y)==v&&s.splice(1,0,-y)}let l=s.indexOf(a),d=[],f=r.openStart;for(let y=r.content,v=0;;v++){let b=y.firstChild;if(d.push(b),v==r.openStart)break;y=b.content}for(let y=f-1;y>=0;y--){let v=d[y],b=k3(v.type);if(b&&!v.sameMarkup(i.node(Math.abs(a)-1)))f=y;else if(b||!v.type.isTextblock)break}for(let y=r.openStart;y>=0;y--){let v=(y+f+1)%(r.openStart+1),b=d[v];if(b)for(let I=0;I<s.length;I++){let k=s[(I+l)%s.length],H=!0;k<0&&(H=!1,k=-k);let ie=i.node(k-1),me=i.index(k-1);if(ie.canReplaceWith(me,me,b.type,b.marks))return t.replace(i.before(k),H?o.after(k):n,new ee(HI(r.content,0,r.openStart,v),v,r.openEnd))}}let m=t.steps.length;for(let y=s.length-1;y>=0&&(t.replace(e,n,r),!(t.steps.length>m));y--){let v=s[y];v<0||(e=i.before(v),n=o.after(v))}}function HI(t,e,n,r,i){if(e<n){let o=t.firstChild;t=t.replaceChild(0,o.copy(HI(o.content,e+1,n,r,o)))}if(e>r){let o=i.contentMatchAt(0),s=o.fillBefore(t).append(t);t=s.append(o.matchFragment(s).fillBefore(K.empty,!0))}return t}function O3(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=T3(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new ee(K.from(r),0,0))}function R3(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),o=zI(r,i);for(let s=0;s<o.length;s++){let a=o[s],l=s==o.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return t.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return t.delete(r.before(a),i.after(a))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(e-r.start(s)==r.depth-s&&n>r.end(s)&&i.end(s)-n!=i.depth-s)return t.delete(r.before(s),n);t.delete(e,n)}function zI(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let o=t.start(i);if(o<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&n.push(i)}return n}var lh=class t extends Ot{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Ht.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return Ht.fromReplace(e,this.pos,this.pos+1,new ee(K.from(i),0,n.isLeaf?0:1))}getMap(){return vi.empty}invert(e){return new t(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new t(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new t(n.pos,n.attr,n.value)}};Ot.jsonID("attr",lh);var ch=class t extends Ot{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return Ht.ok(r)}getMap(){return vi.empty}invert(e){return new t(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new t(n.attr,n.value)}};Ot.jsonID("docAttr",ch);var wl=class extends Error{};wl=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};wl.prototype=Object.create(Error.prototype);wl.prototype.constructor=wl;wl.prototype.name="TransformError";var uh=class{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new mu}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new wl(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=ee.empty){let i=dh(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new ee(K.from(r),0,0))}delete(e,n){return this.replace(e,n,ee.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return N3(this,e,n,r),this}replaceRangeWith(e,n,r){return O3(this,e,n,r),this}deleteRange(e,n){return R3(this,e,n),this}lift(e,n){return y3(this,e,n),this}join(e,n=1){return M3(this,e,n),this}wrap(e,n){return b3(this,e,n),this}setBlockType(e,n=e,r,i=null){return w3(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return E3(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new lh(e,n,r)),this}setDocAttribute(e,n){return this.step(new ch(e,n)),this}addNodeMark(e,n){return this.step(new yu(e,n)),this}removeNodeMark(e,n){if(!(n instanceof et)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new vu(e,n)),this}split(e,n=1,r){return x3(this,e,n,r),this}addMark(e,n,r){return h3(this,e,n,r),this}removeMark(e,n,r){return m3(this,e,n,r),this}clearIncompatible(e,n,r){return LI(this,e,n,r),this}};var uC=Object.create(null),Be=class{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new fC(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=ee.empty){let r=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=r,r=r.lastChild;let o=e.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:l,$to:d}=s[a],f=e.mapping.slice(o);e.replaceRange(f.map(l.pos),f.map(d.pos),a?ee.empty:n),a==0&&WI(e,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:s,$to:a}=i[o],l=e.mapping.slice(r),d=l.map(s.pos),f=l.map(a.pos);o?e.deleteRange(d,f):(e.replaceRangeWith(d,f,n),WI(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new nt(e):Dl(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let o=e.depth-1;o>=0;o--){let s=n<0?Dl(e.node(0),e.node(o),e.before(o+1),e.index(o),n,r):Dl(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,n,r);if(s)return s}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Tn(e.node(0))}static atStart(e){return Dl(e,e,0,0,1)||new Tn(e)}static atEnd(e){return Dl(e,e,e.content.size,e.childCount,-1)||new Tn(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=uC[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in uC)throw new RangeError("Duplicate use of selection JSON ID "+e);return uC[e]=n,n.prototype.jsonID=e,n}getBookmark(){return nt.between(this.$anchor,this.$head).getBookmark()}};Be.prototype.visible=!0;var fC=class{constructor(e,n){this.$from=e,this.$to=n}},UI=!1;function $I(t){!UI&&!t.parent.inlineContent&&(UI=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}var nt=class t extends Be{constructor(e,n=e){$I(e),$I(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Be.near(r);let i=e.resolve(n.map(this.anchor));return new t(i.parent.inlineContent?i:r,r)}replace(e,n=ee.empty){if(super.replace(e,n),n==ee.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof t&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new ph(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new t(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=Be.findFrom(n,r,!0)||Be.findFrom(n,-r,!0);if(o)n=o.$head;else return Be.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(Be.findFrom(e,-r,!0)||Be.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new t(e,n)}};Be.jsonID("text",nt);var ph=class t{constructor(e,n){this.anchor=e,this.head=n}map(e){return new t(e.map(this.anchor),e.map(this.head))}resolve(e){return nt.between(e.resolve(this.anchor),e.resolve(this.head))}},De=class t extends Be{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=e.resolve(i);return r?Be.near(o):new t(o)}content(){return new ee(K.from(this.node),0,0)}eq(e){return e instanceof t&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new pC(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new t(e.resolve(n.anchor))}static create(e,n){return new t(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}};De.prototype.visible=!1;Be.jsonID("node",De);var pC=class t{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new ph(r,r):new t(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&De.isSelectable(r)?new De(n):Be.near(n)}},Tn=class t extends Be{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=ee.empty){if(n==ee.empty){e.delete(0,e.doc.content.size);let r=Be.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new t(e)}map(e){return new t(e)}eq(e){return e instanceof t}getBookmark(){return P3}};Be.jsonID("all",Tn);var P3={map(){return this},resolve(t){return new Tn(t)}};function Dl(t,e,n,r,i,o=!1){if(e.inlineContent)return nt.create(t,n);for(let s=r-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let a=e.child(s);if(a.isAtom){if(!o&&De.isSelectable(a))return De.create(t,n-(i<0?a.nodeSize:0))}else{let l=Dl(t,a,n+i,i<0?a.childCount:0,i,o);if(l)return l}n+=a.nodeSize*i}return null}function WI(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof Mn||i instanceof Rt))return;let o=t.mapping.maps[r],s;o.forEach((a,l,d,f)=>{s==null&&(s=f)}),t.setSelection(Be.near(t.doc.resolve(s),n))}var GI=1,fh=2,qI=4,hC=class extends uh{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|GI)&~fh,this.storedMarks=null,this}get selectionSet(){return(this.updated&GI)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=fh,this}ensureMarks(e){return et.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&fh)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~fh,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||et.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let s=this.doc.resolve(n);o=r==n?s.marks():s.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,o)),this.selection.empty||this.setSelection(Be.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=qI,this}get scrolledIntoView(){return(this.updated&qI)>0}};function KI(t,e){return!e||!t?t:t.bind(e)}var Rs=class{constructor(e,n,r){this.name=e,this.init=KI(n.init,r),this.apply=KI(n.apply,r)}},F3=[new Rs("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Rs("selection",{init(t,e){return t.selection||Be.atStart(e.doc)},apply(t){return t.selection}}),new Rs("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Rs("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})],Cu=class{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=F3.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Rs(r.key,r.spec.state,r))})}},hh=class t{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let o=!1;for(let s=0;s<this.config.plugins.length;s++){let a=this.config.plugins[s];if(a.spec.appendTransaction){let l=i?i[s].n:0,d=i?i[s].state:this,f=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,d,r);if(f&&r.filterTransaction(f,s)){if(f.setMeta("appendedTransaction",e),!i){i=[];for(let m=0;m<this.config.plugins.length;m++)i.push(m<s?{state:r,n:n.length}:{state:this,n:0})}n.push(f),r=r.applyInner(f),o=!0}i&&(i[s]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new t(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];n[o.name]=o.apply(e,this[o.name],this,n)}return n}get tr(){return new hC(this)}static create(e){let n=new Cu(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new t(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new Cu(this.schema,e.plugins),r=n.fields,i=new t(n);for(let o=0;o<r.length;o++){let s=r[o].name;i[s]=this.hasOwnProperty(s)?this[s]:r[o].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],o=i.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new Cu(e.schema,e.plugins),o=new t(i);return i.fields.forEach(s=>{if(s.name=="doc")o.doc=Fr.fromJSON(e.schema,n.doc);else if(s.name=="selection")o.selection=Be.fromJSON(o.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],d=l.spec.state;if(l.key==s.name&&d&&d.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){o[s.name]=d.fromJSON.call(l,e,n[a],o);return}}o[s.name]=s.init(e,o)}}),o}};function ZI(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=ZI(i,e,{})),n[r]=i}return n}var Jt=class{constructor(e){this.spec=e,this.props={},e.props&&ZI(e.props,this,this.props),this.key=e.key?e.key.key:YI("plugin")}getState(e){return e[this.key]}},dC=Object.create(null);function YI(t){return t in dC?t+"$"+ ++dC[t]:(dC[t]=0,t+"$")}var An=class{constructor(e="key"){this.key=YI(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}};var zt=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Du=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e},CC=null,bi=function(t,e,n){let r=CC||(CC=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},L3=function(){CC=null},Hs=function(t,e,n,r){return n&&(JI(t,e,n,r,-1)||JI(t,e,n,r,1))},V3=/^(img|br|input|textarea|hr)$/i;function JI(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Lr(t))){let o=t.parentNode;if(!o||o.nodeType!=1||Iu(t)||V3.test(t.nodeName)||t.contentEditable=="false")return!1;e=zt(t)+(i<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?Lr(t):0}else return!1}}function Lr(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function B3(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Lr(t)}else if(t.parentNode&&!Iu(t))e=zt(t),t=t.parentNode;else return null}}function j3(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Iu(t))e=zt(t)+1,t=t.parentNode;else return null}}function H3(t,e,n){for(let r=e==0,i=e==Lr(t);r||i;){if(t==n)return!0;let o=zt(t);if(t=t.parentNode,!t)return!1;r=r&&o==0,i=i&&o==Lr(t)}}function Iu(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}var Eh=function(t){return t.focusNode&&Hs(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Ps(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function z3(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function U3(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:r.offset}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:r.startOffset}}}var Vr=typeof navigator<"u"?navigator:null,QI=typeof document<"u"?document:null,xo=Vr&&Vr.userAgent||"",bC=/Edge\/(\d+)/.exec(xo),AM=/MSIE \d/.exec(xo),wC=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(xo),yn=!!(AM||wC||bC),So=AM?document.documentMode:wC?+wC[1]:bC?+bC[1]:0,fr=!yn&&/gecko\/(\d+)/i.test(xo);fr&&+(/Firefox\/(\d+)/.exec(xo)||[0,0])[1];var _C=!yn&&/Chrome\/(\d+)/.exec(xo),an=!!_C,$3=_C?+_C[1]:0,cn=!yn&&!!Vr&&/Apple Computer/.test(Vr.vendor),Ml=cn&&(/Mobile\/\w+/.test(xo)||!!Vr&&Vr.maxTouchPoints>2),jn=Ml||(Vr?/Mac/.test(Vr.platform):!1),W3=Vr?/Win/.test(Vr.platform):!1,dr=/Android \d/.test(xo),Mu=!!QI&&"webkitFontSmoothing"in QI.documentElement.style,G3=Mu?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function q3(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Ci(t,e){return typeof t=="number"?t:t[e]}function K3(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function XI(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let s=n||t.dom;s;s=Du(s)){if(s.nodeType!=1)continue;let a=s,l=a==o.body,d=l?q3(o):K3(a),f=0,m=0;if(e.top<d.top+Ci(r,"top")?m=-(d.top-e.top+Ci(i,"top")):e.bottom>d.bottom-Ci(r,"bottom")&&(m=e.bottom-e.top>d.bottom-d.top?e.top+Ci(i,"top")-d.top:e.bottom-d.bottom+Ci(i,"bottom")),e.left<d.left+Ci(r,"left")?f=-(d.left-e.left+Ci(i,"left")):e.right>d.right-Ci(r,"right")&&(f=e.right-d.right+Ci(i,"right")),f||m)if(l)o.defaultView.scrollBy(f,m);else{let y=a.scrollLeft,v=a.scrollTop;m&&(a.scrollTop+=m),f&&(a.scrollLeft+=f);let b=a.scrollLeft-y,I=a.scrollTop-v;e={left:e.left-b,top:e.top-I,right:e.right-b,bottom:e.bottom-I}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(s).position))break}}function Z3(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let o=(e.left+e.right)/2,s=n+1;s<Math.min(innerHeight,e.bottom);s+=5){let a=t.root.elementFromPoint(o,s);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:kM(t.dom)}}function kM(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Du(r));return e}function Y3({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;NM(n,r==0?0:r-e)}function NM(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:o}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}var Sl=null;function J3(t){if(t.setActive)return t.setActive();if(Sl)return t.focus(Sl);let e=kM(t);t.focus(Sl==null?{get preventScroll(){return Sl={preventScroll:!0},!0}}:void 0),Sl||(Sl=!1,NM(e,0))}function OM(t,e){let n,r=2e8,i,o=0,s=e.top,a=e.top,l,d;for(let f=t.firstChild,m=0;f;f=f.nextSibling,m++){let y;if(f.nodeType==1)y=f.getClientRects();else if(f.nodeType==3)y=bi(f).getClientRects();else continue;for(let v=0;v<y.length;v++){let b=y[v];if(b.top<=s&&b.bottom>=a){s=Math.max(b.bottom,s),a=Math.min(b.top,a);let I=b.left>e.left?b.left-e.left:b.right<e.left?e.left-b.right:0;if(I<r){n=f,r=I,i=I&&n.nodeType==3?{left:b.right<e.left?b.right:b.left,top:e.top}:e,f.nodeType==1&&I&&(o=m+(e.left>=(b.left+b.right)/2?1:0));continue}}else b.top>e.top&&!l&&b.left<=e.left&&b.right>=e.left&&(l=f,d={left:Math.max(b.left,Math.min(b.right,e.left)),top:b.top});!n&&(e.left>=b.right&&e.top>=b.top||e.left>=b.left&&e.top>=b.bottom)&&(o=m+1)}}return!n&&l&&(n=l,i=d,r=0),n&&n.nodeType==3?Q3(n,i):!n||r&&n.nodeType==1?{node:t,offset:o}:OM(n,i)}function Q3(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let o=wo(r,1);if(o.top!=o.bottom&&VC(e,o))return{node:t,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:t,offset:0}}function VC(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function X3(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function eH(t,e,n){let{node:r,offset:i}=OM(e,n),o=-1;if(r.nodeType==1&&!r.firstChild){let s=r.getBoundingClientRect();o=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return t.docView.posFromDOM(r,i,o)}function tH(t,e,n,r){let i=-1;for(let o=e,s=!1;o!=t.dom;){let a=t.docView.nearestDesc(o,!0);if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)){let l=a.dom.getBoundingClientRect();if(a.node.isBlock&&a.parent&&(!s&&l.left>r.left||l.top>r.top?i=a.posBefore:(!s&&l.right<r.left||l.bottom<r.top)&&(i=a.posAfter),s=!0),!a.contentDOM&&i<0&&!a.node.isText)return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter}o=a.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function RM(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let s=t.childNodes[o];if(s.nodeType==1){let a=s.getClientRects();for(let l=0;l<a.length;l++){let d=a[l];if(VC(e,d))return RM(s,e,d)}}if((o=(o+1)%r)==i)break}return t}function nH(t,e){let n=t.dom.ownerDocument,r,i=0,o=U3(n,e.left,e.top);o&&({node:r,offset:i}=o);let s=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),a;if(!s||!t.dom.contains(s.nodeType!=1?s.parentNode:s)){let d=t.dom.getBoundingClientRect();if(!VC(e,d)||(s=RM(t.dom,e,d),!s))return null}if(cn)for(let d=s;r&&d;d=Du(d))d.draggable&&(r=void 0);if(s=X3(s,e),r){if(fr&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let f=r.childNodes[i],m;f.nodeName=="IMG"&&(m=f.getBoundingClientRect()).right<=e.left&&m.bottom>e.top&&i++}let d;Mu&&i&&r.nodeType==1&&(d=r.childNodes[i-1]).nodeType==1&&d.contentEditable=="false"&&d.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(a=tH(t,r,i,e))}a==null&&(a=eH(t,s,e));let l=t.docView.nearestDesc(s,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function eM(t){return t.top<t.bottom||t.left<t.right}function wo(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(eM(r))return r}return Array.prototype.find.call(n,eM)||t.getBoundingClientRect()}var rH=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function PM(t,e,n){let{node:r,offset:i,atom:o}=t.docView.domFromPos(e,n<0?-1:1),s=Mu||fr;if(r.nodeType==3)if(s&&(rH.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let l=wo(bi(r,i,i),n);if(fr&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let d=wo(bi(r,i-1,i-1),-1);if(d.top==l.top){let f=wo(bi(r,i,i+1),-1);if(f.top!=l.top)return bu(f,f.left<d.left)}}return l}else{let l=i,d=i,f=n<0?1:-1;return n<0&&!i?(d++,f=-1):n>=0&&i==r.nodeValue.length?(l--,f=1):n<0?l--:d++,bu(wo(bi(r,l,d),f),f<0)}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&i&&(n<0||i==Lr(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return mC(l.getBoundingClientRect(),!1)}if(o==null&&i<Lr(r)){let l=r.childNodes[i];if(l.nodeType==1)return mC(l.getBoundingClientRect(),!0)}return mC(r.getBoundingClientRect(),n>=0)}if(o==null&&i&&(n<0||i==Lr(r))){let l=r.childNodes[i-1],d=l.nodeType==3?bi(l,Lr(l)-(s?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(d)return bu(wo(d,1),!1)}if(o==null&&i<Lr(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let d=l?l.nodeType==3?bi(l,0,s?0:1):l.nodeType==1?l:null:null;if(d)return bu(wo(d,-1),!0)}return bu(wo(r.nodeType==3?bi(r):r,-n),n>=0)}function bu(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function mC(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function FM(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function iH(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return FM(t,e,()=>{let{node:o}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(o,!0);if(!a)break;if(a.node.isBlock){o=a.contentDOM||a.dom;break}o=a.dom.parentNode}let s=PM(t,i.pos,1);for(let a=o.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=bi(a,0,a.nodeValue.length).getClientRects();else continue;for(let d=0;d<l.length;d++){let f=l[d];if(f.bottom>f.top+1&&(n=="up"?s.top-f.top>(f.bottom-s.top)*2:f.bottom-s.bottom>(s.bottom-f.top)*2))return!1}}return!0})}var oH=/[\u0590-\u08ac]/;function sH(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,s=i==r.parent.content.size,a=t.domSelection();return!oH.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?o:s:FM(t,e,()=>{let{focusNode:l,focusOffset:d,anchorNode:f,anchorOffset:m}=t.domSelectionRange(),y=a.caretBidiLevel;a.modify("move",n,"character");let v=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:b,focusOffset:I}=t.domSelectionRange(),k=b&&!v.contains(b.nodeType==1?b:b.parentNode)||l==b&&d==I;try{a.collapse(f,m),l&&(l!=f||d!=m)&&a.extend&&a.extend(l,d)}catch{}return y!=null&&(a.caretBidiLevel=y),k})}var tM=null,nM=null,rM=!1;function aH(t,e,n){return tM==e&&nM==n?rM:(tM=e,nM=n,rM=n=="up"||n=="down"?iH(t,e,n):sH(t,e,n))}var Hn=0,iM=1,Fs=2,Br=3,zs=class{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=Hn,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,s;if(e==this.contentDOM)o=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(s)+s.size:this.posAtStart}else{let o,s;if(e==this.contentDOM)o=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>zt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),s;if(o&&(!n||o.node))if(r&&(s=o.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))r=!1;else return o}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],o=r+i.size;if(r==e&&o!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<o)return i.descAt(e-r-i.border);r=o}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let s=this.children[r],a=o+s.size;if(a>e||s instanceof yh){i=e-o;break}o=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof mh&&o.side>=0;r--);if(n<=0){let o,s=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,s=!1);return o&&n&&s&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?zt(o.dom)+1:0}}else{let o,s=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,s=!1);return o&&s&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?zt(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let s=r,a=0;;a++){let l=this.children[a],d=s+l.size;if(i==-1&&e<=d){let f=s+l.border;if(e>=f&&n<=d-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,f);e=s;for(let m=a;m>0;m--){let y=this.children[m-1];if(y.size&&y.dom.parentNode==this.contentDOM&&!y.emptyChildAt(1)){i=zt(y.dom)+1;break}e-=y.size}i==-1&&(i=0)}if(i>-1&&(d>n||a==this.children.length-1)){n=d;for(let f=a+1;f<this.children.length;f++){let m=this.children[f];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){o=zt(m.dom);break}n+=m.size}o==-1&&(o=this.contentDOM.childNodes.length);break}s=d}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let o=Math.min(e,n),s=Math.max(e,n);for(let y=0,v=0;y<this.children.length;y++){let b=this.children[y],I=v+b.size;if(o>v&&s<I)return b.setSelection(e-v-b.border,n-v-b.border,r,i);v=I}let a=this.domFromPos(e,e?-1:1),l=n==e?a:this.domFromPos(n,n?-1:1),d=r.getSelection(),f=!1;if((fr||cn)&&e==n){let{node:y,offset:v}=a;if(y.nodeType==3){if(f=!!(v&&y.nodeValue[v-1]==`
`),f&&v==y.nodeValue.length)for(let b=y,I;b;b=b.parentNode){if(I=b.nextSibling){I.nodeName=="BR"&&(a=l={node:I.parentNode,offset:zt(I)+1});break}let k=b.pmViewDesc;if(k&&k.node&&k.node.isBlock)break}}else{let b=y.childNodes[v-1];f=b&&(b.nodeName=="BR"||b.contentEditable=="false")}}if(fr&&d.focusNode&&d.focusNode!=l.node&&d.focusNode.nodeType==1){let y=d.focusNode.childNodes[d.focusOffset];y&&y.contentEditable=="false"&&(i=!0)}if(!(i||f&&cn)&&Hs(a.node,a.offset,d.anchorNode,d.anchorOffset)&&Hs(l.node,l.offset,d.focusNode,d.focusOffset))return;let m=!1;if((d.extend||e==n)&&!f){d.collapse(a.node,a.offset);try{e!=n&&d.extend(l.node,l.offset),m=!0}catch{}}if(!m){if(e>n){let v=a;a=l,l=v}let y=document.createRange();y.setEnd(l.node,l.offset),y.setStart(a.node,a.offset),d.removeAllRanges(),d.addRange(y)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],s=r+o.size;if(r==s?e<=s&&n>=r:e<s&&n>r){let a=r+o.border,l=s-o.border;if(e>=a&&n<=l){this.dirty=e==r||n==s?Fs:iM,e==a&&n==l&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=Br:o.markDirty(e-a,n-a);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?Fs:Br}r=s}this.dirty=Fs}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Fs:iM;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}},mh=class extends zs{constructor(e,n,r,i){let o,s=n.type.toDOM;if(typeof s=="function"&&(s=s(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(s.nodeType!=1){let a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=n,this.widget=n,o=this}matchesWidget(e){return this.dirty==Hn&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}},DC=class extends zs{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}},Tl=class t extends zs{constructor(e,n,r,i){super(e,[],r,i),this.mark=n}static create(e,n,r,i){let o=i.nodeViews[n.type.name],s=o&&o(n,i,r);return(!s||!s.dom)&&(s=yi.renderSpec(document,n.type.spec.toDOM(n,r))),new t(e,n,s.dom,s.contentDOM||s.dom)}parseRule(){return this.dirty&Br||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Br&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Hn){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Hn}}slice(e,n,r){let i=t.create(this.parent,this.mark,!0,r),o=this.children,s=this.size;n<s&&(o=MC(o,n,s,r)),e>0&&(o=MC(o,0,e,r));for(let a=0;a<o.length;a++)o[a].parent=i;return i.children=o,i}},Eo=class t extends zs{constructor(e,n,r,i,o,s,a,l,d){super(e,[],o,s),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a}static create(e,n,r,i,o,s){let a=o.nodeViews[n.type.name],l,d=a&&a(n,o,()=>{if(!l)return s;if(l.parent)return l.parent.posBeforeChild(l)},r,i),f=d&&d.dom,m=d&&d.contentDOM;if(n.isText){if(!f)f=document.createTextNode(n.text);else if(f.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else f||({dom:f,contentDOM:m}=yi.renderSpec(document,n.type.spec.toDOM(n)));!m&&!n.isText&&f.nodeName!="BR"&&(f.hasAttribute("contenteditable")||(f.contentEditable="false"),n.type.spec.draggable&&(f.draggable=!0));let y=f;return f=BM(f,r,n),d?l=new SC(e,n,r,i,f,m||null,y,d,o,s+1):n.isText?new gh(e,n,r,i,f,y,o):new t(e,n,r,i,f,m||null,y,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>K.empty)}return e}matchesNode(e,n,r){return this.dirty==Hn&&e.eq(this.node)&&xC(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,o=e.composing?this.localCompositionInfo(e,n):null,s=o&&o.pos>-1?o:null,a=o&&o.pos<0,l=new IC(this,s&&s.node,e);dH(this.node,this.innerDeco,(d,f,m)=>{d.spec.marks?l.syncToMarks(d.spec.marks,r,e):d.type.side>=0&&!m&&l.syncToMarks(f==this.node.childCount?et.none:this.node.child(f).marks,r,e),l.placeWidget(d,e,i)},(d,f,m,y)=>{l.syncToMarks(d.marks,r,e);let v;l.findNodeMatch(d,f,m,y)||a&&e.state.selection.from>i&&e.state.selection.to<i+d.nodeSize&&(v=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(d,f,m,v,e)||l.updateNextNode(d,f,m,e,y,i)||l.addNode(d,f,m,e,i),i+=d.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Fs)&&(s&&this.protectLocalComposition(e,s),LM(this.contentDOM,this.children,e),Ml&&fH(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof nt)||r<n||i>n+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let s=o.nodeValue,a=pH(this.node.content,s,r-n,i-n);return a<0?null:{node:o,pos:a,text:s}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let s=new DC(this,o,n,i);e.input.compositionNodes.push(s),this.children=MC(this.children,r,r+i.length,e,s)}update(e,n,r,i){return this.dirty==Br||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Hn}updateOuterDeco(e){if(xC(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=VM(this.dom,this.nodeDOM,EC(this.outerDeco,this.node,n),EC(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}};function oM(t,e,n,r,i){BM(r,e,t);let o=new Eo(void 0,t,e,n,r,r,r,i,0);return o.contentDOM&&o.updateChildren(i,0),o}var gh=class t extends Eo{constructor(e,n,r,i,o,s,a){super(e,n,r,i,o,null,s,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==Br||this.dirty!=Hn&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Hn||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Hn,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),o=document.createTextNode(i.text);return new t(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Br)}get domAtom(){return!1}isText(e){return this.node.text==e}},yh=class extends zs{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Hn&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}},SC=class extends Eo{constructor(e,n,r,i,o,s,a,l,d,f){super(e,n,r,i,o,s,a,d,f),this.spec=l}update(e,n,r,i){if(this.dirty==Br)return!1;if(this.spec.update){let o=this.spec.update(e,n,r);return o&&this.updateInner(e,n,r,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}};function LM(t,e,n){let r=t.firstChild,i=!1;for(let o=0;o<e.length;o++){let s=e[o],a=s.dom;if(a.parentNode==t){for(;a!=r;)r=sM(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(a,r);if(s instanceof Tl){let l=r?r.previousSibling:t.lastChild;LM(s.contentDOM,s.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=sM(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}var wu=function(t){t&&(this.nodeName=t)};wu.prototype=Object.create(null);var Ls=[new wu];function EC(t,e,n){if(t.length==0)return Ls;let r=n?Ls[0]:new wu,i=[r];for(let o=0;o<t.length;o++){let s=t[o].type.attrs;if(s){s.nodeName&&i.push(r=new wu(s.nodeName));for(let a in s){let l=s[a];l!=null&&(n&&i.length==1&&i.push(r=new wu(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return i}function VM(t,e,n,r){if(n==Ls&&r==Ls)return e;let i=e;for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(o){let l;a&&a.nodeName==s.nodeName&&i!=t&&(l=i.parentNode)&&l.nodeName.toLowerCase()==s.nodeName||(l=document.createElement(s.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=Ls[0]),i=l}lH(i,a||Ls[0],s)}return i}function lH(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&t.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&t.classList.add(i[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function BM(t,e,n){return VM(t,t,Ls,EC(e,n,t.nodeType!=1))}function xC(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function sM(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}var IC=class{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=cH(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,o=this.stack.length>>1,s=Math.min(o,e.length);for(;i<s&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=Hn,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let d=this.top.children[l];if(d.matchesMark(e[o])&&!this.isLocked(d.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=Tl.create(this.top,e[o],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}}findNodeMatch(e,n,r,i){let o=-1,s;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(e,n,r))o=this.top.children.indexOf(s,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let d=this.top.children[a];if(d.matchesNode(e,n,r)&&!this.preMatch.matched.has(d)){o=a;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,n,r,i,o){let s=this.top.children[i];return s.dirty==Br&&s.dom==s.contentDOM&&(s.dirty=Fs),s.update(e,n,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,o,s){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof Eo){let d=this.preMatch.matched.get(l);if(d!=null&&d!=o)return!1;let f=l.dom,m,y=this.isLocked(f)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=Br&&xC(n,l.outerDeco));if(!y&&l.update(e,n,r,i))return this.destroyBetween(this.index,a),l.dom!=f&&(this.changed=!0),this.index++,!0;if(!y&&(m=this.recreateWrapper(l,e,n,r,i,s)))return this.top.children[this.index]=m,m.contentDOM&&(m.dirty=Fs,m.updateChildren(i,s+1),m.dirty=Hn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,o,s){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content))return null;let a=Eo.create(this.top,n,r,i,o,s);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,n,r,i,o){let s=Eo.create(this.top,e,n,r,i,o);s.contentDOM&&s.updateChildren(i,o+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new mh(this.top,e,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Tl;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof gh)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((cn||an)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new yh(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}};function cH(t,e){let n=e,r=n.children.length,i=t.childCount,o=new Map,s=[];e:for(;i>0;){let a;for(;;)if(r){let d=n.children[r-1];if(d instanceof Tl)n=d,r=d.children.length;else{a=d,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=t.child(i-1))break;--i,o.set(a,i),s.push(a)}}return{index:i,matched:o,matches:s.reverse()}}function uH(t,e){return t.type.side-e.type.side}function dH(t,e,n,r){let i=e.locals(t),o=0;if(i.length==0){for(let d=0;d<t.childCount;d++){let f=t.child(d);r(f,i,e.forChild(o,f),d),o+=f.nodeSize}return}let s=0,a=[],l=null;for(let d=0;;){let f,m;for(;s<i.length&&i[s].to==o;){let k=i[s++];k.widget&&(f?(m||(m=[f])).push(k):f=k)}if(f)if(m){m.sort(uH);for(let k=0;k<m.length;k++)n(m[k],d,!!l)}else n(f,d,!!l);let y,v;if(l)v=-1,y=l,l=null;else if(d<t.childCount)v=d,y=t.child(d++);else break;for(let k=0;k<a.length;k++)a[k].to<=o&&a.splice(k--,1);for(;s<i.length&&i[s].from<=o&&i[s].to>o;)a.push(i[s++]);let b=o+y.nodeSize;if(y.isText){let k=b;s<i.length&&i[s].from<k&&(k=i[s].from);for(let H=0;H<a.length;H++)a[H].to<k&&(k=a[H].to);k<b&&(l=y.cut(k-o),y=y.cut(0,k-o),b=k,v=-1)}else for(;s<i.length&&i[s].to<b;)s++;let I=y.isInline&&!y.isLeaf?a.filter(k=>!k.inline):a.slice();r(y,I,e.forChild(o,y),v),o=b}}function fH(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function pH(t,e,n,r){for(let i=0,o=0;i<t.childCount&&o<=r;){let s=t.child(i++),a=o;if(o+=s.nodeSize,!s.isText)continue;let l=s.text;for(;i<t.childCount;){let d=t.child(i++);if(o+=d.nodeSize,!d.isText)break;l+=d.text}if(o>=n){if(o>=r&&l.slice(r-e.length-a,r-a)==e)return r-e.length;let d=a<r?l.lastIndexOf(e,r-a-1):-1;if(d>=0&&d+e.length+a>=n)return a+d;if(n==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function MC(t,e,n,r,i){let o=[];for(let s=0,a=0;s<t.length;s++){let l=t[s],d=a,f=a+=l.size;d>=n||f<=e?o.push(l):(d<e&&o.push(l.slice(0,e-d,r)),i&&(o.push(i),i=void 0),f>n&&o.push(l.slice(n-d,l.size,r)))}return o}function BC(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),o=i&&i.size==0,s=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let a=r.resolve(s),l,d;if(Eh(n)){for(l=a;i&&!i.node;)i=i.parent;let f=i.node;if(i&&f.isAtom&&De.isSelectable(f)&&i.parent&&!(f.isInline&&H3(n.focusNode,n.focusOffset,i.dom))){let m=i.posBefore;d=new De(s==m?a:r.resolve(m))}}else{let f=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(f<0)return null;l=r.resolve(f)}if(!d){let f=e=="pointer"||t.state.selection.head<a.pos&&!o?1:-1;d=jC(t,l,a,f)}return d}function jM(t){return t.editable?t.hasFocus():zM(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function wi(t,e=!1){let n=t.state.selection;if(HM(t,n),!!jM(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&an){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Hs(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)mH(t);else{let{anchor:r,head:i}=n,o,s;aM&&!(n instanceof nt)&&(n.$from.parent.inlineContent||(o=lM(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=lM(t,n.to))),t.docView.setSelection(r,i,t.root,e),aM&&(o&&cM(o),s&&cM(s)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&hH(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}var aM=cn||an&&$3<63;function lM(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(cn&&i&&i.contentEditable=="false")return gC(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return gC(i);if(o)return gC(o)}}function gC(t){return t.contentEditable="true",cn&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function cM(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function hH(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!jM(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function mH(t){let e=t.domSelection(),n=document.createRange(),r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setEnd(r.parentNode,zt(r)+1):n.setEnd(r,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&yn&&So<=11&&(r.disabled=!0,r.disabled=!1)}function HM(t,e){if(e instanceof De){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(uM(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else uM(t)}function uM(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function jC(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||nt.between(e,n,r)}function dM(t){return t.editable&&!t.hasFocus()?!1:zM(t)}function zM(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function gH(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Hs(e.node,e.offset,n.anchorNode,n.anchorOffset)}function TC(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return o&&Be.findFrom(o,e)}function _o(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function fM(t,e,n){let r=t.state.selection;if(r instanceof nt)if(n.indexOf("s")>-1){let{$head:i}=r,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let s=t.state.doc.resolve(i.pos+o.nodeSize*(e<0?-1:1));return _o(t,new nt(r.$anchor,s))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=TC(t.state,e);return i&&i instanceof De?_o(t,i):!1}else if(!(jn&&n.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,s;if(!o||o.isText)return!1;let a=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(s=t.docView.descAt(a))&&!s.contentDOM?De.isSelectable(o)?_o(t,new De(e<0?t.state.doc.resolve(i.pos-o.nodeSize):i)):Mu?_o(t,new nt(t.state.doc.resolve(e<0?a:a+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof De&&r.node.isInline)return _o(t,new nt(e>0?r.$to:r.$from));{let i=TC(t.state,e);return i?_o(t,i):!1}}}function vh(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function _u(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function El(t,e){return e<0?yH(t):vH(t)}function yH(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,s=!1;for(fr&&n.nodeType==1&&r<vh(n)&&_u(n.childNodes[r],-1)&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(_u(a,-1))i=n,o=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(UM(n))break;{let a=n.previousSibling;for(;a&&_u(a,-1);)i=n.parentNode,o=zt(a),a=a.previousSibling;if(a)n=a,r=vh(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}s?AC(t,n,r):i&&AC(t,i,o)}function vH(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=vh(n),o,s;for(;;)if(r<i){if(n.nodeType!=1)break;let a=n.childNodes[r];if(_u(a,1))o=n,s=++r;else break}else{if(UM(n))break;{let a=n.nextSibling;for(;a&&_u(a,1);)o=a.parentNode,s=zt(a)+1,a=a.nextSibling;if(a)n=a,r=0,i=vh(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}o&&AC(t,o,s)}function UM(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function CH(t,e){for(;t&&e==t.childNodes.length&&!Iu(t);)e=zt(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function bH(t,e){for(;t&&!e&&!Iu(t);)e=zt(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function AC(t,e,n){if(e.nodeType!=3){let o,s;(s=CH(e,n))?(e=s,n=0):(o=bH(e,n))&&(e=o,n=o.nodeValue.length)}let r=t.domSelection();if(Eh(r)){let o=document.createRange();o.setEnd(e,n),o.setStart(e,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&wi(t)},50)}function pM(t,e){let n=t.state.doc.resolve(e);if(!(an||W3)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let o=t.coordsAtPos(e-1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(e<n.end()){let o=t.coordsAtPos(e+1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function hM(t,e,n){let r=t.state.selection;if(r instanceof nt&&!r.empty||n.indexOf("s")>-1||jn&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let s=TC(t.state,e);if(s&&s instanceof De)return _o(t,s)}if(!i.parent.inlineContent){let s=e<0?i:o,a=r instanceof Tn?Be.near(s,e):Be.findFrom(s,e);return a?_o(t,a):!1}return!1}function mM(t,e){if(!(t.state.selection instanceof nt))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let s=t.state.tr;return e<0?s.delete(n.pos-o.nodeSize,n.pos):s.delete(n.pos,n.pos+o.nodeSize),t.dispatch(s),!0}return!1}function gM(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function wH(t){if(!cn||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;gM(t,r,"true"),setTimeout(()=>gM(t,r,"false"),20)}return!1}function _H(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function DH(t,e){let n=e.keyCode,r=_H(e);if(n==8||jn&&n==72&&r=="c")return mM(t,-1)||El(t,-1);if(n==46&&!e.shiftKey||jn&&n==68&&r=="c")return mM(t,1)||El(t,1);if(n==13||n==27)return!0;if(n==37||jn&&n==66&&r=="c"){let i=n==37?pM(t,t.state.selection.from)=="ltr"?-1:1:-1;return fM(t,i,r)||El(t,i)}else if(n==39||jn&&n==70&&r=="c"){let i=n==39?pM(t,t.state.selection.from)=="ltr"?1:-1:1;return fM(t,i,r)||El(t,i)}else{if(n==38||jn&&n==80&&r=="c")return hM(t,-1,r)||El(t,-1);if(n==40||jn&&n==78&&r=="c")return wH(t)||hM(t,1,r)||El(t,1);if(r==(jn?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function $M(t,e){t.someProp("transformCopied",v=>{e=v(e,t)});let n=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let v=r.firstChild;n.push(v.type.name,v.attrs!=v.type.defaultAttrs?v.attrs:null),r=v.content}let s=t.someProp("clipboardSerializer")||yi.fromSchema(t.state.schema),a=YM(),l=a.createElement("div");l.appendChild(s.serializeFragment(r,{document:a}));let d=l.firstChild,f,m=0;for(;d&&d.nodeType==1&&(f=ZM[d.nodeName.toLowerCase()]);){for(let v=f.length-1;v>=0;v--){let b=a.createElement(f[v]);for(;l.firstChild;)b.appendChild(l.firstChild);l.appendChild(b),m++}d=l.firstChild}d&&d.nodeType==1&&d.setAttribute("data-pm-slice",`${i} ${o}${m?` -${m}`:""} ${JSON.stringify(n)}`);let y=t.someProp("clipboardTextSerializer",v=>v(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:y,slice:e}}function WM(t,e,n,r,i){let o=i.parent.type.spec.code,s,a;if(!n&&!e)return null;let l=e&&(r||o||!n);if(l){if(t.someProp("transformPastedText",y=>{e=y(e,o||r,t)}),o)return e?new ee(K.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):ee.empty;let m=t.someProp("clipboardTextParser",y=>y(e,i,r,t));if(m)a=m;else{let y=i.marks(),{schema:v}=t.state,b=yi.fromSchema(v);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(I=>{let k=s.appendChild(document.createElement("p"));I&&k.appendChild(b.serializeNode(v.text(I,y)))})}}else t.someProp("transformPastedHTML",m=>{n=m(n,t)}),s=xH(n),Mu&&IH(s);let d=s&&s.querySelector("[data-pm-slice]"),f=d&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(d.getAttribute("data-pm-slice")||"");if(f&&f[3])for(let m=+f[3];m>0;m--){let y=s.firstChild;for(;y&&y.nodeType!=1;)y=y.nextSibling;if(!y)break;s=y}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||Co.fromSchema(t.state.schema)).parseSlice(s,{preserveWhitespace:!!(l||f),context:i,ruleFromNode(y){return y.nodeName=="BR"&&!y.nextSibling&&y.parentNode&&!SH.test(y.parentNode.nodeName)?{ignore:!0}:null}})),f)a=MH(yM(a,+f[1],+f[2]),f[4]);else if(a=ee.maxOpen(EH(a.content,i),!0),a.openStart||a.openEnd){let m=0,y=0;for(let v=a.content.firstChild;m<a.openStart&&!v.type.spec.isolating;m++,v=v.firstChild);for(let v=a.content.lastChild;y<a.openEnd&&!v.type.spec.isolating;y++,v=v.lastChild);a=yM(a,m,y)}return t.someProp("transformPasted",m=>{a=m(a,t)}),a}var SH=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function EH(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),o,s=[];if(t.forEach(a=>{if(!s)return;let l=i.findWrapping(a.type),d;if(!l)return s=null;if(d=s.length&&o.length&&qM(l,o,a,s[s.length-1],0))s[s.length-1]=d;else{s.length&&(s[s.length-1]=KM(s[s.length-1],o.length));let f=GM(a,l);s.push(f),i=i.matchType(f.type),o=l}}),s)return K.from(s)}return t}function GM(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,K.from(t));return t}function qM(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let o=qM(t,e,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(K.from(GM(n,t,i+1))))}}function KM(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,KM(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(K.empty,!0);return t.copy(n.append(r))}function kC(t,e,n,r,i,o){let s=e<0?t.firstChild:t.lastChild,a=s.content;return t.childCount>1&&(o=0),i<r-1&&(a=kC(a,e,n,r,i+1,o)),i>=n&&(a=e<0?s.contentMatchAt(0).fillBefore(a,o<=i).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(K.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(a))}function yM(t,e,n){return e<t.openStart&&(t=new ee(kC(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new ee(kC(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}var ZM={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},vM=null;function YM(){return vM||(vM=document.implementation.createHTMLDocument("title"))}function xH(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=YM().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&ZM[r[1].toLowerCase()])&&(t=i.map(o=>"<"+o+">").join("")+t+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=t,i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function IH(t){let e=t.querySelectorAll(an?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent=="\xA0"&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function MH(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:o,openEnd:s}=t;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=K.from(l.create(r[a+1],i)),o++,s++}return new ee(i,o,s)}var un={},dn={},TH={touchstart:!0,touchmove:!0},NC=class{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}};function AH(t){for(let e in un){let n=un[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{NH(t,r)&&!HC(t,r)&&(t.editable||!(r.type in dn))&&n(t,r)},TH[e]?{passive:!0}:void 0)}cn&&t.dom.addEventListener("input",()=>null),OC(t)}function Do(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function kH(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function OC(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>HC(t,r))})}function HC(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function NH(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function OH(t,e){!HC(t,e)&&un[e.type]&&(t.editable||!(e.type in dn))&&un[e.type](t,e)}dn.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!QM(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(dr&&an&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Ml&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,Ps(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||DH(t,n)?n.preventDefault():Do(t,"key")};dn.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};dn.keypress=(t,e)=>{let n=e;if(QM(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||jn&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof nt)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",o=>o(t,r.$from.pos,r.$to.pos,i))&&t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function xh(t){return{left:t.clientX,top:t.clientY}}function RH(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function zC(t,e,n,r,i){if(r==-1)return!1;let o=t.state.doc.resolve(r);for(let s=o.depth+1;s>0;s--)if(t.someProp(e,a=>s>o.depth?a(t,n,o.nodeAfter,o.before(s),i,!0):a(t,n,o.node(s),o.before(s),i,!1)))return!0;return!1}function Il(t,e,n){t.focused||t.focus();let r=t.state.tr.setSelection(e);n=="pointer"&&r.setMeta("pointer",!0),t.dispatch(r)}function PH(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&De.isSelectable(r)?(Il(t,new De(n),"pointer"),!0):!1}function FH(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof De&&(r=n.node);let o=t.state.doc.resolve(e);for(let s=o.depth+1;s>0;s--){let a=s>o.depth?o.nodeAfter:o.node(s);if(De.isSelectable(a)){r&&n.$from.depth>0&&s>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(s);break}}return i!=null?(Il(t,De.create(t.state.doc,i),"pointer"),!0):!1}function LH(t,e,n,r,i){return zC(t,"handleClickOn",e,n,r)||t.someProp("handleClick",o=>o(t,e,r))||(i?FH(t,n):PH(t,n))}function VH(t,e,n,r){return zC(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function BH(t,e,n,r){return zC(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||jH(t,n,r)}function jH(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(Il(t,nt.create(r,0,r.content.size),"pointer"),!0):!1;let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let s=o>i.depth?i.nodeAfter:i.node(o),a=i.before(o);if(s.inlineContent)Il(t,nt.create(r,a+1,a+1+s.content.size),"pointer");else if(De.isSelectable(s))Il(t,De.create(r,a),"pointer");else continue;return!0}}function UC(t){return Ch(t)}var JM=jn?"metaKey":"ctrlKey";un.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=UC(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&RH(n,t.input.lastClick)&&!n[JM]&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o};let s=t.posAtCoords(xh(n));s&&(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new RC(t,s,n,!!r)):(o=="doubleClick"?VH:BH)(t,s.pos,s.inside,n)?n.preventDefault():Do(t,"pointer"))};var RC=class{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[JM],this.allowDefault=r.shiftKey;let o,s;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),s=n.inside;else{let f=e.state.doc.resolve(n.pos);o=f.parent,s=f.depth?f.before():0}let a=i?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:d}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||d instanceof De&&d.from<=s&&d.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&fr&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Do(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>wi(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(xh(e))),this.updateAllowDefault(e),this.allowDefault||!n?Do(this.view,"pointer"):LH(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||cn&&this.mightDrag&&!this.mightDrag.node.isAtom||an&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Il(this.view,Be.near(this.view.state.doc.resolve(n.pos)),"pointer"),e.preventDefault()):Do(this.view,"pointer")}move(e){this.updateAllowDefault(e),Do(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}};un.touchstart=t=>{t.input.lastTouch=Date.now(),UC(t),Do(t,"pointer")};un.touchmove=t=>{t.input.lastTouch=Date.now(),Do(t,"pointer")};un.contextmenu=t=>UC(t);function QM(t,e){return t.composing?!0:cn&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}var HH=dr?5e3:-1;dn.compositionstart=dn.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),Ch(t,!0),t.markCursor=null;else if(Ch(t),fr&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(s.nodeType==3){t.domSelection().collapse(s,s.nodeValue.length);break}else i=s,o=-1}}t.input.composing=!0}XM(t,HH)};dn.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,XM(t,20))};function XM(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Ch(t),e))}function eT(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=UH());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function zH(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=B3(e.focusNode,e.focusOffset),r=j3(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,o=t.domObserver.lastChangedTextNode;if(n==o||r==o)return o;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let s=n.pmViewDesc;if(!(!s||!s.isText(n.nodeValue)))return r}}return n||r}function UH(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Ch(t,e=!1){if(!(dr&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),eT(t),e||t.docView&&t.docView.dirty){let n=BC(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}}function $H(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}var Su=yn&&So<15||Ml&&G3<604;un.copy=dn.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let o=Su?null:n.clipboardData,s=r.content(),{dom:a,text:l}=$M(t,s);o?(n.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",l)):$H(t,a),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function WH(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function GH(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Eu(t,r.value,null,i,e):Eu(t,r.textContent,r.innerHTML,i,e)},50)}function Eu(t,e,n,r,i){let o=WM(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,i,o||ee.empty)))return!0;if(!o)return!1;let s=WH(o),a=s?t.state.tr.replaceSelectionWith(s,r):t.state.tr.replaceSelection(o);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function tT(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}dn.paste=(t,e)=>{let n=e;if(t.composing&&!dr)return;let r=Su?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&Eu(t,tT(r),r.getData("text/html"),i,n)?n.preventDefault():GH(t,n)};var bh=class{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}},nT=jn?"altKey":"ctrlKey";un.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,o=i.empty?null:t.posAtCoords(xh(n)),s;if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof De?i.to-1:i.to))){if(r&&r.mightDrag)s=De.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let m=t.docView.nearestDesc(n.target,!0);m&&m.node.type.spec.draggable&&m!=t.docView&&(s=De.create(t.state.doc,m.posBefore))}}let a=(s||t.state.selection).content(),{dom:l,text:d,slice:f}=$M(t,a);n.dataTransfer.clearData(),n.dataTransfer.setData(Su?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",Su||n.dataTransfer.setData("text/plain",d),t.dragging=new bh(f,!n[nT],s)};un.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};dn.dragover=dn.dragenter=(t,e)=>e.preventDefault();dn.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(xh(n));if(!i)return;let o=t.state.doc.resolve(i.pos),s=r&&r.slice;s?t.someProp("transformPasted",b=>{s=b(s,t)}):s=WM(t,tT(n.dataTransfer),Su?null:n.dataTransfer.getData("text/html"),!1,o);let a=!!(r&&!n[nT]);if(t.someProp("handleDrop",b=>b(t,n,s||ee.empty,a))){n.preventDefault();return}if(!s)return;n.preventDefault();let l=s?VI(t.state.doc,o.pos,s):o.pos;l==null&&(l=o.pos);let d=t.state.tr;if(a){let{node:b}=r;b?b.replace(d):d.deleteSelection()}let f=d.mapping.map(l),m=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,y=d.doc;if(m?d.replaceRangeWith(f,f,s.content.firstChild):d.replaceRange(f,f,s),d.doc.eq(y))return;let v=d.doc.resolve(f);if(m&&De.isSelectable(s.content.firstChild)&&v.nodeAfter&&v.nodeAfter.sameMarkup(s.content.firstChild))d.setSelection(new De(v));else{let b=d.mapping.map(l);d.mapping.maps[d.mapping.maps.length-1].forEach((I,k,H,ie)=>b=ie),d.setSelection(jC(t,v,d.doc.resolve(b)))}t.focus(),t.dispatch(d.setMeta("uiEvent","drop"))};un.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&wi(t)},20))};un.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};un.beforeinput=(t,e)=>{if(an&&dr&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,Ps(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in dn)un[t]=dn[t];function xu(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}var wh=class t{constructor(e,n){this.toDOM=e,this.spec=n||Bs,this.side=this.spec.side||0}map(e,n,r,i){let{pos:o,deleted:s}=e.mapResult(n.from+i,this.side<0?-1:1);return s?null:new jr(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof t&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&xu(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}},Vs=class t{constructor(e,n){this.attrs=e,this.spec=n||Bs}map(e,n,r,i){let o=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,s=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=s?null:new jr(o,s,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof t&&xu(this.attrs,e.attrs)&&xu(this.spec,e.spec)}static is(e){return e.type instanceof t}destroy(){}},PC=class t{constructor(e,n){this.attrs=e,this.spec=n||Bs}map(e,n,r,i){let o=e.mapResult(n.from+i,1);if(o.deleted)return null;let s=e.mapResult(n.to+i,-1);return s.deleted||s.pos<=o.pos?null:new jr(o.pos-r,s.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),o;return i==n.from&&!(o=e.child(r)).isText&&i+o.nodeSize==n.to}eq(e){return this==e||e instanceof t&&xu(this.attrs,e.attrs)&&xu(this.spec,e.spec)}destroy(){}},jr=class t{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new t(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new t(e,e,new wh(n,r))}static inline(e,n,r,i){return new t(e,n,new Vs(r,i))}static node(e,n,r,i){return new t(e,n,new PC(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Vs}get widget(){return this.type instanceof wh}},xl=[],Bs={},ln=class t{constructor(e,n){this.local=e.length?e:xl,this.children=n.length?n:xl}static create(e,n){return n.length?Dh(n,e,0,Bs):Qt}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,o){for(let s=0;s<this.local.length;s++){let a=this.local[s];a.from<=n&&a.to>=e&&(!o||o(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>e){let a=this.children[s]+1;this.children[s+2].findInner(e-a,n-a,r,i+a,o)}}map(e,n,r){return this==Qt||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Bs)}mapInner(e,n,r,i,o){let s;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,i);l&&l.type.valid(n,l)?(s||(s=[])).push(l):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?qH(this.children,s||[],e,n,r,i,o):s?new t(s.sort(js),xl):Qt}add(e,n){return n.length?this==Qt?t.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,o=0;e.forEach((a,l)=>{let d=l+r,f;if(f=iT(n,a,d)){for(i||(i=this.children.slice());o<i.length&&i[o]<l;)o+=3;i[o]==l?i[o+2]=i[o+2].addInner(a,f,d+1):i.splice(o,0,l,l+a.nodeSize,Dh(f,a,d+1,Bs)),o+=3}});let s=rT(o?oT(n):n,-r);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||s.splice(a--,1);return new t(s.length?this.local.concat(s).sort(js):this.local,i||this.children)}remove(e){return e.length==0||this==Qt?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let s,a=r[o]+n,l=r[o+1]+n;for(let f=0,m;f<e.length;f++)(m=e[f])&&m.from>a&&m.to<l&&(e[f]=null,(s||(s=[])).push(m));if(!s)continue;r==this.children&&(r=this.children.slice());let d=r[o+2].removeInner(s,a+1);d!=Qt?r[o+2]=d:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,s;o<e.length;o++)if(s=e[o])for(let a=0;a<i.length;a++)i[a].eq(s,n)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new t(i,r):Qt}forChild(e,n){if(this==Qt)return this;if(n.isLeaf)return t.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let o=e+1,s=o+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<s&&l.to>o&&l.type instanceof Vs){let d=Math.max(o,l.from)-o,f=Math.min(s,l.to)-o;d<f&&(i||(i=[])).push(l.copy(d,f))}}if(i){let a=new t(i.sort(js),xl);return r?new _h([a,r]):a}return r||Qt}eq(e){if(this==e)return!0;if(!(e instanceof t)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return $C(this.localsInner(e))}localsInner(e){if(this==Qt)return xl;if(e.inlineContent||!this.local.some(Vs.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Vs||n.push(this.local[r]);return n}};ln.empty=new ln([],[]);ln.removeOverlap=$C;var Qt=ln.empty,_h=class t{constructor(e){this.members=e}map(e,n){let r=this.members.map(i=>i.map(e,n,Bs));return t.from(r)}forChild(e,n){if(n.isLeaf)return ln.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,n);o!=Qt&&(o instanceof t?r=r.concat(o.members):r.push(o))}return t.from(r)}eq(e){if(!(e instanceof t)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let s=0;s<o.length;s++)n.push(o[s])}}return n?$C(r?n:n.sort(js)):xl}static from(e){switch(e.length){case 0:return Qt;case 1:return e[0];default:return new t(e.every(n=>n instanceof ln)?e:e.reduce((n,r)=>n.concat(r instanceof ln?r:r.members),[]))}}};function qH(t,e,n,r,i,o,s){let a=t.slice();for(let d=0,f=o;d<n.maps.length;d++){let m=0;n.maps[d].forEach((y,v,b,I)=>{let k=I-b-(v-y);for(let H=0;H<a.length;H+=3){let ie=a[H+1];if(ie<0||y>ie+f-m)continue;let me=a[H]+f-m;v>=me?a[H+1]=y<=me?-2:-1:y>=f&&k&&(a[H]+=k,a[H+1]+=k)}m+=k}),f=n.maps[d].map(f,-1)}let l=!1;for(let d=0;d<a.length;d+=3)if(a[d+1]<0){if(a[d+1]==-2){l=!0,a[d+1]=-1;continue}let f=n.map(t[d]+o),m=f-i;if(m<0||m>=r.content.size){l=!0;continue}let y=n.map(t[d+1]+o,-1),v=y-i,{index:b,offset:I}=r.content.findIndex(m),k=r.maybeChild(b);if(k&&I==m&&I+k.nodeSize==v){let H=a[d+2].mapInner(n,k,f+1,t[d]+o+1,s);H!=Qt?(a[d]=m,a[d+1]=v,a[d+2]=H):(a[d+1]=-2,l=!0)}else l=!0}if(l){let d=KH(a,t,e,n,i,o,s),f=Dh(d,r,0,s);e=f.local;for(let m=0;m<a.length;m+=3)a[m+1]<0&&(a.splice(m,3),m-=3);for(let m=0,y=0;m<f.children.length;m+=3){let v=f.children[m];for(;y<a.length&&a[y]<v;)y+=3;a.splice(y,0,f.children[m],f.children[m+1],f.children[m+2])}}return new ln(e.sort(js),a)}function rT(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new jr(i.from+e,i.to+e,i.type))}return n}function KH(t,e,n,r,i,o,s){function a(l,d){for(let f=0;f<l.local.length;f++){let m=l.local[f].map(r,i,d);m?n.push(m):s.onRemove&&s.onRemove(l.local[f].spec)}for(let f=0;f<l.children.length;f+=3)a(l.children[f+2],l.children[f]+d+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+o+1);return n}function iT(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let o=0,s;o<t.length;o++)(s=t[o])&&s.from>n&&s.to<r&&((i||(i=[])).push(s),t[o]=null);return i}function oT(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Dh(t,e,n,r){let i=[],o=!1;e.forEach((a,l)=>{let d=iT(t,a,l+n);if(d){o=!0;let f=Dh(d,a,n+l+1,r);f!=Qt&&i.push(l,l+a.nodeSize,f)}});let s=rT(o?oT(t):t,-n).sort(js);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||i.length?new ln(s,i):Qt}function js(t,e){return t.from-e.from||t.to-e.to}function $C(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let o=e[i];if(o.from==r.from){o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),CM(e,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),CM(e,i,r.copy(o.from,r.to)));break}}}return e}function CM(t,e,n){for(;e<t.length&&js(n,t[e])>0;)e++;t.splice(e,0,n)}function yC(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Qt&&e.push(r)}),t.cursorWrapper&&e.push(ln.create(t.state.doc,[t.cursorWrapper.deco])),_h.from(e)}var ZH={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},YH=yn&&So<=11,FC=class{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}},LC=class{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new FC,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);yn&&So<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),YH&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,ZH)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(dM(this.view)){if(this.suppressingSelectionUpdates)return wi(this.view);if(yn&&So<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Hs(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let o=e.focusNode;o;o=Du(o))n.add(o);for(let o=e.anchorNode;o;o=Du(o))if(n.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&dM(e)&&!this.ignoreSelectionChange(r),o=-1,s=-1,a=!1,l=[];if(e.editable)for(let f=0;f<n.length;f++){let m=this.registerMutation(n[f],l);m&&(o=o<0?m.from:Math.min(m.from,o),s=s<0?m.to:Math.max(m.to,s),m.typeOver&&(a=!0))}if(fr&&l.length){let f=l.filter(m=>m.nodeName=="BR");if(f.length==2){let[m,y]=f;m.parentNode&&m.parentNode.parentNode==y.parentNode?y.remove():m.remove()}else{let{focusNode:m}=this.currentSelection;for(let y of f){let v=y.parentNode;v&&v.nodeName=="LI"&&(!m||XH(e,m)!=v)&&y.remove()}}}let d=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Eh(r)&&(d=BC(e))&&d.eq(Be.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,wi(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,s),JH(e)),this.handleDOMChange(o,s,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||wi(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let f=0;f<e.addedNodes.length;f++){let m=e.addedNodes[f];n.push(m),m.nodeType==3&&(this.lastChangedTextNode=m)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,o=e.nextSibling;if(yn&&So<=11&&e.addedNodes.length)for(let f=0;f<e.addedNodes.length;f++){let{previousSibling:m,nextSibling:y}=e.addedNodes[f];(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(i=m),(!y||Array.prototype.indexOf.call(e.addedNodes,y)<0)&&(o=y)}let s=i&&i.parentNode==e.target?zt(i)+1:0,a=r.localPosFromDOM(e.target,s,-1),l=o&&o.parentNode==e.target?zt(o):e.target.childNodes.length,d=r.localPosFromDOM(e.target,l,1);return{from:a,to:d}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}},bM=new WeakMap,wM=!1;function JH(t){if(!bM.has(t)&&(bM.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=fr,wM)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),wM=!0}}function _M(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,s=t.domAtPos(t.state.selection.anchor);return Hs(s.node,s.offset,i,o)&&([n,r,i,o]=[i,o,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}}function QH(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return _M(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?_M(t,n):null}function XH(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function e4(t,e,n){let{node:r,fromOffset:i,toOffset:o,from:s,to:a}=t.docView.parseRange(e,n),l=t.domSelectionRange(),d,f=l.anchorNode;if(f&&t.dom.contains(f.nodeType==1?f:f.parentNode)&&(d=[{node:f,offset:l.anchorOffset}],Eh(l)||d.push({node:l.focusNode,offset:l.focusOffset})),an&&t.input.lastKeyCode===8)for(let k=o;k>i;k--){let H=r.childNodes[k-1],ie=H.pmViewDesc;if(H.nodeName=="BR"&&!ie){o=k;break}if(!ie||ie.size)break}let m=t.state.doc,y=t.someProp("domParser")||Co.fromSchema(t.state.schema),v=m.resolve(s),b=null,I=y.parse(r,{topNode:v.parent,topMatch:v.parent.contentMatchAt(v.index()),topOpen:!0,from:i,to:o,preserveWhitespace:v.parent.type.whitespace=="pre"?"full":!0,findPositions:d,ruleFromNode:t4,context:v});if(d&&d[0].pos!=null){let k=d[0].pos,H=d[1]&&d[1].pos;H==null&&(H=k),b={anchor:k+s,head:H+s}}return{doc:I,sel:b,from:s,to:a}}function t4(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(cn&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||cn&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}var n4=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function r4(t,e,n,r,i){let o=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let fe=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,Ge=BC(t,fe);if(Ge&&!t.state.selection.eq(Ge)){if(an&&dr&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",$t=>$t(t,Ps(13,"Enter"))))return;let ut=t.state.tr.setSelection(Ge);fe=="pointer"?ut.setMeta("pointer",!0):fe=="key"&&ut.scrollIntoView(),o&&ut.setMeta("composition",o),t.dispatch(ut)}return}let s=t.state.doc.resolve(e),a=s.sharedDepth(n);e=s.before(a+1),n=t.state.doc.resolve(n).after(a+1);let l=t.state.selection,d=e4(t,e,n),f=t.state.doc,m=f.slice(d.from,d.to),y,v;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(y=t.state.selection.to,v="end"):(y=t.state.selection.from,v="start"),t.input.lastKeyCode=null;let b=s4(m.content,d.doc.content,d.from,y,v);if((Ml&&t.input.lastIOSEnter>Date.now()-225||dr)&&i.some(fe=>fe.nodeType==1&&!n4.test(fe.nodeName))&&(!b||b.endA>=b.endB)&&t.someProp("handleKeyDown",fe=>fe(t,Ps(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!b)if(r&&l instanceof nt&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(d.sel&&d.sel.anchor!=d.sel.head))b={start:l.from,endA:l.to,endB:l.to};else{if(d.sel){let fe=DM(t,t.state.doc,d.sel);if(fe&&!fe.eq(t.state.selection)){let Ge=t.state.tr.setSelection(fe);o&&Ge.setMeta("composition",o),t.dispatch(Ge)}}return}t.input.domChangeCount++,t.state.selection.from<t.state.selection.to&&b.start==b.endB&&t.state.selection instanceof nt&&(b.start>t.state.selection.from&&b.start<=t.state.selection.from+2&&t.state.selection.from>=d.from?b.start=t.state.selection.from:b.endA<t.state.selection.to&&b.endA>=t.state.selection.to-2&&t.state.selection.to<=d.to&&(b.endB+=t.state.selection.to-b.endA,b.endA=t.state.selection.to)),yn&&So<=11&&b.endB==b.start+1&&b.endA==b.start&&b.start>d.from&&d.doc.textBetween(b.start-d.from-1,b.start-d.from+1)==" \xA0"&&(b.start--,b.endA--,b.endB--);let I=d.doc.resolveNoCache(b.start-d.from),k=d.doc.resolveNoCache(b.endB-d.from),H=f.resolve(b.start),ie=I.sameParent(k)&&I.parent.inlineContent&&H.end()>=b.endA,me;if((Ml&&t.input.lastIOSEnter>Date.now()-225&&(!ie||i.some(fe=>fe.nodeName=="DIV"||fe.nodeName=="P"))||!ie&&I.pos<d.doc.content.size&&!I.sameParent(k)&&(me=Be.findFrom(d.doc.resolve(I.pos+1),1,!0))&&me.head==k.pos)&&t.someProp("handleKeyDown",fe=>fe(t,Ps(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>b.start&&o4(f,b.start,b.endA,I,k)&&t.someProp("handleKeyDown",fe=>fe(t,Ps(8,"Backspace")))){dr&&an&&t.domObserver.suppressSelectionUpdates();return}an&&dr&&b.endB==b.start&&(t.input.lastAndroidDelete=Date.now()),dr&&!ie&&I.start()!=k.start()&&k.parentOffset==0&&I.depth==k.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==b.endA&&(b.endB-=2,k=d.doc.resolveNoCache(b.endB-d.from),setTimeout(()=>{t.someProp("handleKeyDown",function(fe){return fe(t,Ps(13,"Enter"))})},20));let oe=b.start,Se=b.endA,ue,Me,Re;if(ie){if(I.pos==k.pos)yn&&So<=11&&I.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>wi(t),20)),ue=t.state.tr.delete(oe,Se),Me=f.resolve(b.start).marksAcross(f.resolve(b.endA));else if(b.endA==b.endB&&(Re=i4(I.parent.content.cut(I.parentOffset,k.parentOffset),H.parent.content.cut(H.parentOffset,b.endA-H.start()))))ue=t.state.tr,Re.type=="add"?ue.addMark(oe,Se,Re.mark):ue.removeMark(oe,Se,Re.mark);else if(I.parent.child(I.index()).isText&&I.index()==k.index()-(k.textOffset?0:1)){let fe=I.parent.textBetween(I.parentOffset,k.parentOffset);if(t.someProp("handleTextInput",Ge=>Ge(t,oe,Se,fe)))return;ue=t.state.tr.insertText(fe,oe,Se)}}if(ue||(ue=t.state.tr.replace(oe,Se,d.doc.slice(b.start-d.from,b.endB-d.from))),d.sel){let fe=DM(t,ue.doc,d.sel);fe&&!(an&&dr&&t.composing&&fe.empty&&(b.start!=b.endB||t.input.lastAndroidDelete<Date.now()-100)&&(fe.head==oe||fe.head==ue.mapping.map(Se)-1)||yn&&fe.empty&&fe.head==oe)&&ue.setSelection(fe)}Me&&ue.ensureMarks(Me),o&&ue.setMeta("composition",o),t.dispatch(ue.scrollIntoView())}function DM(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:jC(t,e.resolve(n.anchor),e.resolve(n.head))}function i4(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,o=r,s,a,l;for(let f=0;f<r.length;f++)i=r[f].removeFromSet(i);for(let f=0;f<n.length;f++)o=n[f].removeFromSet(o);if(i.length==1&&o.length==0)a=i[0],s="add",l=f=>f.mark(a.addToSet(f.marks));else if(i.length==0&&o.length==1)a=o[0],s="remove",l=f=>f.mark(a.removeFromSet(f.marks));else return null;let d=[];for(let f=0;f<e.childCount;f++)d.push(l(e.child(f)));if(K.from(d).eq(t))return{mark:a,type:s}}function o4(t,e,n,r,i){if(n-e<=i.pos-r.pos||vC(r,!0,!1)<i.pos)return!1;let o=t.resolve(e);if(!r.parent.isTextblock){let a=o.nodeAfter;return a!=null&&n==e+a.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=t.resolve(vC(o,!0,!0));return!s.parent.isTextblock||s.pos>n||vC(s,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function vC(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let o=t.node(r).maybeChild(t.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function s4(t,e,n,r,i){let o=t.findDiffStart(e,n);if(o==null)return null;let{a:s,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let l=Math.max(0,o-Math.min(s,a));r-=s+l-o}if(s<o&&t.size<e.size){let l=r<=o&&r>=s?o-r:0;o-=l,o&&o<e.size&&SM(e.textBetween(o-1,o+1))&&(o+=l?1:-1),a=o+(a-s),s=o}else if(a<o){let l=r<=o&&r>=a?o-r:0;o-=l,o&&o<t.size&&SM(t.textBetween(o-1,o+1))&&(o+=l?1:-1),s=o+(s-a),a=o}return{start:o,endA:s,endB:a}}function SM(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}var Sh=class{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new NC,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(TM),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=IM(this),xM(this),this.nodeViews=MM(this),this.docView=oM(this.state.doc,EM(this),yC(this),this.dom,this),this.domObserver=new LC(this,(r,i,o,s)=>r4(this,r,i,o,s)),this.domObserver.start(),AH(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&OC(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(TM),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,o=!1,s=!1;e.storedMarks&&this.composing&&(eT(this),s=!0),this.state=e;let a=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let v=MM(this);l4(v,this.nodeViews)&&(this.nodeViews=v,o=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&OC(this),this.editable=IM(this),xM(this);let l=yC(this),d=EM(this),f=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",m=o||!this.docView.matchesNode(e.doc,d,l);(m||!e.selection.eq(i.selection))&&(s=!0);let y=f=="preserve"&&s&&this.dom.style.overflowAnchor==null&&Z3(this);if(s){this.domObserver.stop();let v=m&&(yn||an)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&a4(i.selection,e.selection);if(m){let b=an?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=zH(this)),(o||!this.docView.update(e.doc,d,l,this))&&(this.docView.updateOuterDeco(d),this.docView.destroy(),this.docView=oM(e.doc,d,l,this.dom,this)),b&&!this.trackWrites&&(v=!0)}v||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&gH(this))?wi(this,v):(HM(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),f=="reset"?this.dom.scrollTop=0:f=="to selection"?this.scrollToSelection():y&&Y3(y)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof De){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&XI(this,n.getBoundingClientRect(),e)}else XI(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let o=r.from+(this.state.doc.content.size-n.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(i=o)}this.dragging=new bh(e.slice,e.move,i<0?void 0:De.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let s=0;s<this.directPlugins.length;s++){let a=this.directPlugins[s].props[e];if(a!=null&&(i=n?n(a):a))return i}let o=this.state.plugins;if(o)for(let s=0;s<o.length;s++){let a=o[s].props[e];if(a!=null&&(i=n?n(a):a))return i}}hasFocus(){if(yn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&J3(this.dom),wi(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return nH(this,e)}coordsAtPos(e,n=1){return PM(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return aH(this,n||this.state,e)}pasteHTML(e,n){return Eu(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Eu(this,e,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(kH(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],yC(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,L3())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return OH(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return cn&&this.root.nodeType===11&&z3(this.dom.ownerDocument)==this.dom&&QH(this,e)||e}domSelection(){return this.root.getSelection()}};function EM(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[jr.node(0,t.state.doc.content.size,e)]}function xM(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:jr.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function IM(t){return!t.someProp("editable",e=>e(t.state)===!1)}function a4(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function MM(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function l4(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function TM(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var c4=["ol",0],u4=["ul",0],d4=["li",0],sT={attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs(t){return{order:t.hasAttribute("start")?+t.getAttribute("start"):1}}}],toDOM(t){return t.attrs.order==1?c4:["ol",{start:t.attrs.order},0]}},aT={parseDOM:[{tag:"ul"}],toDOM(){return u4}},lT={parseDOM:[{tag:"li"}],toDOM(){return d4},defining:!0};function cT(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),a=!1,l=s;if(!s)return!1;if(s.depth>=2&&i.node(s.depth-1).type.compatibleContent(t)&&s.startIndex==0){if(i.index(s.depth-1)==0)return!1;let f=n.doc.resolve(s.start-2);l=new Ts(f,f,s.depth),s.endIndex<s.parent.childCount&&(s=new Ts(i,n.doc.resolve(o.end(s.depth)),s.depth)),a=!0}let d=_l(l,t,e,s);return d?(r&&r(f4(n.tr,s,d,a,t).scrollIntoView()),!0):!1}}function f4(t,e,n,r,i){let o=K.empty;for(let f=n.length-1;f>=0;f--)o=K.from(n[f].type.create(n[f].attrs,o));t.step(new Rt(e.start-(r?2:0),e.end,e.start,e.end,new ee(o,0,0),n.length,!0));let s=0;for(let f=0;f<n.length;f++)n[f].type==i&&(s=f+1);let a=n.length-s,l=e.start+n.length-(r?2:0),d=e.parent;for(let f=e.startIndex,m=e.endIndex,y=!0;f<m;f++,y=!1)!y&&bo(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=d.child(f).nodeSize;return t}function uT(t,e){return function(n,r){let{$from:i,$to:o,node:s}=n.selection;if(s&&s.isBlock||i.depth<2||!i.sameParent(o))return!1;let a=i.node(-1);if(a.type!=t)return!1;if(i.parent.content.size==0&&i.node(-1).childCount==i.indexAfter(-1)){if(i.depth==3||i.node(-3).type!=t||i.index(-2)!=i.node(-2).childCount-1)return!1;if(r){let m=K.empty,y=i.index(-1)?1:i.index(-2)?2:3;for(let H=i.depth-y;H>=i.depth-3;H--)m=K.from(i.node(H).copy(m));let v=i.indexAfter(-1)<i.node(-2).childCount?1:i.indexAfter(-2)<i.node(-3).childCount?2:3;m=m.append(K.from(t.createAndFill()));let b=i.before(i.depth-(y-1)),I=n.tr.replace(b,i.after(-v),new ee(m,4-y,0)),k=-1;I.doc.nodesBetween(b,I.doc.content.size,(H,ie)=>{if(k>-1)return!1;H.isTextblock&&H.content.size==0&&(k=ie+1)}),k>-1&&I.setSelection(Be.near(I.doc.resolve(k))),r(I.scrollIntoView())}return!0}let l=o.pos==i.end()?a.contentMatchAt(0).defaultType:null,d=n.tr.delete(i.pos,o.pos),f=l?[e?{type:t,attrs:e}:null,{type:l}]:void 0;return bo(d.doc,i.pos,2,f)?(r&&r(d.split(i.pos,2,f).scrollIntoView()),!0):!1}}function WC(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,s=>s.childCount>0&&s.firstChild.type==t);return o?n?r.node(o.depth-1).type==t?p4(e,n,t,o):h4(e,n,o):!0:!1}}function p4(t,e,n,r){let i=t.tr,o=r.end,s=r.$to.end(r.depth);o<s&&(i.step(new Rt(o-1,s,o,s,new ee(K.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Ts(i.doc.resolve(r.$from.pos),i.doc.resolve(s),r.depth));let a=Ns(r);if(a==null)return!1;i.lift(r,a);let l=i.mapping.map(o,-1)-1;return Os(i.doc,l)&&i.join(l),e(i.scrollIntoView()),!0}function h4(t,e,n){let r=t.tr,i=n.parent;for(let v=n.end,b=n.endIndex-1,I=n.startIndex;b>I;b--)v-=i.child(b).nodeSize,r.delete(v-1,v+1);let o=r.doc.resolve(n.start),s=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==i.childCount,d=o.node(-1),f=o.index(-1);if(!d.canReplace(f+(a?0:1),f+1,s.content.append(l?K.empty:K.from(i))))return!1;let m=o.pos,y=m+s.nodeSize;return r.step(new Rt(m-(a?1:0),y+(l?1:0),m+1,y-1,new ee((a?K.empty:K.from(i.copy(K.empty))).append(l?K.empty:K.from(i.copy(K.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function GC(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,d=>d.childCount>0&&d.firstChild.type==t);if(!o)return!1;let s=o.startIndex;if(s==0)return!1;let a=o.parent,l=a.child(s-1);if(l.type!=t)return!1;if(n){let d=l.lastChild&&l.lastChild.type==a.type,f=K.from(d?t.create():null),m=new ee(K.from(t.create(null,K.from(a.type.create(null,f)))),d?3:1,0),y=o.start,v=o.end;n(e.tr.step(new Rt(y-(d?3:1),v,y,v,m,1,!0)).scrollIntoView())}return!0}}var g4={attrs:{href:{},title:{default:null},target:{default:"_blank"}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs(t){return{href:t.getAttribute("href"),title:t.getAttribute("title"),target:t.getAttribute("target")}}}],toDOM(t){let{href:e,title:n,target:r}=t.attrs;return["a",{href:e,title:n,target:r},0]}},y4={parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM(){return["em",0]}},v4={parseDOM:[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:t=>/^(?:bold(?:er)?|[5-9]\d{2,})$/.test(t)&&null}],toDOM(){return["strong",0]}},C4={parseDOM:[{tag:"code"}],toDOM(){return["code",0]}},b4={parseDOM:[{tag:"u"},{style:"text-decoration=underline",consuming:!1}],toDOM(){return["u",0]}},w4={parseDOM:[{tag:"s"},{tag:"strike"},{style:"text-decoration=line-through"}],toDOM(){return["s",0]}},_4={attrs:{color:{default:null}},parseDOM:[{style:"color",getAttrs:t=>({color:t})}],toDOM(t){let{color:e}=t.attrs;return["span",{style:`color:${e};`},0]}},D4={attrs:{backgroundColor:{default:null}},parseDOM:[{style:"background-color",getAttrs:t=>({backgroundColor:t})}],toDOM(t){let{backgroundColor:e}=t.attrs;return["span",{style:`background-color:${e};`},0]}},S4={attrs:{},parseDOM:[{tag:"sup"},{style:"vertical-align=super"}],toDOM(){return["sup",0]}},E4={attrs:{},parseDOM:[{tag:"sub"},{style:"vertical-align=sub"}],toDOM(){return["sub",0]}},x4={link:g4,em:y4,strong:v4,code:C4,u:b4,s:w4,text_color:_4,text_background_color:D4,sup:S4,sub:E4},I4={content:"block+"},M4={group:"inline"},T4={content:"inline*",group:"block",attrs:{align:{default:null},indent:{default:null}},parseDOM:[{tag:"p",getAttrs(t){let{textAlign:e}=t.style,n=t.getAttribute("align")||e||null,r=t.getAttribute("data-indent")||null;return{align:n,indent:parseInt(r,10)||null}}}],toDOM(t){let{align:e,indent:n}=t.attrs,r={textAlign:e!=="left"?e:null,marginLeft:n!==null?`${n*40}px`:null};return["p",{style:Jp(r)||null,"data-indent":n??null},0]}},A4={content:"block+",group:"block",defining:!0,attrs:{indent:{default:null}},parseDOM:[{tag:"blockquote",getAttrs(t){let e=t.getAttribute("data-indent")||null;return{indent:parseInt(e,10)||null}}}],toDOM(t){let{indent:e}=t.attrs,n={marginLeft:e!==null?`${e*40}px`:null};return["blockquote",{style:Jp(n)||null,"data-indent":e??null},0]}},k4={group:"block",parseDOM:[{tag:"hr"}],toDOM(){return["hr"]}},N4={attrs:{level:{default:1},align:{default:null},indent:{default:null}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",getAttrs(t){let{textAlign:e}=t.style,n=t.getAttribute("align")||e||null,r=t.getAttribute("data-indent")||null;return{level:1,align:n,indent:parseInt(r,10)||null}}},{tag:"h2",getAttrs(t){let{textAlign:e}=t.style,n=t.getAttribute("align")||e||null,r=t.getAttribute("data-indent")||null;return{level:2,align:n,indent:parseInt(r,10)||null}}},{tag:"h3",getAttrs(t){let{textAlign:e}=t.style,n=t.getAttribute("align")||e||null,r=t.getAttribute("data-indent")||null;return{level:3,align:n,indent:parseInt(r,10)||null}}},{tag:"h4",getAttrs(t){let{textAlign:e}=t.style,n=t.getAttribute("align")||e||null,r=t.getAttribute("data-indent")||null;return{level:4,align:n,indent:parseInt(r,10)||null}}},{tag:"h5",getAttrs(t){let{textAlign:e}=t.style,n=t.getAttribute("align")||e||null,r=t.getAttribute("data-indent")||null;return{level:5,align:n,indent:parseInt(r,10)||null}}},{tag:"h6",getAttrs(t){let{textAlign:e}=t.style,n=t.getAttribute("align")||e||null,r=t.getAttribute("data-indent")||null;return{level:6,align:n,indent:parseInt(r,10)||null}}}],toDOM(t){let{level:e,align:n,indent:r}=t.attrs,i={textAlign:n!=="left"?n:null,marginLeft:r!==null?`${r*40}px`:null},s={style:Jp(i)||null,"data-indent":r??null};return[`h${e}`,s,0]}},O4={content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM(){return["pre",["code",0]]}},R4={inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM(){return["br"]}},P4={inline:!0,attrs:{src:{},alt:{default:null},title:{default:null},width:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs(t){return{src:t.getAttribute("src"),title:t.getAttribute("title"),alt:t.getAttribute("alt"),width:t.getAttribute("width")}}}],toDOM(t){let{src:e,alt:n,title:r,width:i}=t.attrs;return["img",{src:e,alt:n,title:r,width:i}]}},F4=Pe(Z({},lT),{content:"paragraph block*"}),L4=Pe(Z({},sT),{content:"list_item+",group:"block"}),V4=Pe(Z({},aT),{content:"list_item+",group:"block"}),B4={doc:I4,text:M4,paragraph:T4,blockquote:A4,horizontal_rule:k4,heading:N4,hard_break:R4,code_block:O4,image:P4,list_item:F4,ordered_list:L4,bullet_list:V4},Tu=new rh({marks:x4,nodes:B4});var fT=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function j4(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}var H4=(t,e,n)=>{let r=j4(t,n);if(!r)return!1;let i=pT(r);if(!i){let s=r.blockRange(),a=s&&Ns(s);return a==null?!1:(e&&e(t.tr.lift(s,a).scrollIntoView()),!0)}let o=i.nodeBefore;if(!o.type.spec.isolating&&gT(t,i,e))return!0;if(r.parent.content.size==0&&(Al(o,"end")||De.isSelectable(o))){let s=dh(t.doc,r.before(),r.after(),ee.empty);if(s&&s.slice.size<s.to-s.from){if(e){let a=t.tr.step(s);a.setSelection(Al(o,"end")?Be.findFrom(a.doc.resolve(a.mapping.map(i.pos,-1)),-1):De.create(a.doc,i.pos-o.nodeSize)),e(a.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1};function Al(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}var z4=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;o=pT(r)}let s=o&&o.nodeBefore;return!s||!De.isSelectable(s)?!1:(e&&e(t.tr.setSelection(De.create(t.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)};function pT(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function U4(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}var $4=(t,e,n)=>{let r=U4(t,n);if(!r)return!1;let i=hT(r);if(!i)return!1;let o=i.nodeAfter;if(gT(t,i,e))return!0;if(r.parent.content.size==0&&(Al(o,"start")||De.isSelectable(o))){let s=dh(t.doc,r.before(),r.after(),ee.empty);if(s&&s.slice.size<s.to-s.from){if(e){let a=t.tr.step(s);a.setSelection(Al(o,"start")?Be.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):De.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},W4=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;o=hT(r)}let s=o&&o.nodeAfter;return!s||!De.isSelectable(s)?!1:(e&&e(t.tr.setSelection(De.create(t.doc,o.pos)).scrollIntoView()),!0)};function hT(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}var mT=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),o=i&&Ns(i);return o==null?!1:(e&&e(t.tr.lift(i,o).scrollIntoView()),!0)},KC=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function ZC(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}var YC=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),s=ZC(i.contentMatchAt(o));if(!s||!i.canReplaceWith(o,o,s))return!1;if(e){let a=n.after(),l=t.tr.replaceWith(a,a,s.createAndFill());l.setSelection(Be.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},JC=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof Tn||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=ZC(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=t.tr.insert(s,o.createAndFill());a.setSelection(nt.create(a.doc,s+1)),e(a.scrollIntoView())}return!0},QC=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(bo(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Ns(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function G4(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof De&&e.selection.node.isBlock)return!r.parentOffset||!bo(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(n){let o=i.parentOffset==i.parent.content.size,s=e.tr;(e.selection instanceof nt||e.selection instanceof Tn)&&s.deleteSelection();let a=r.depth==0?null:ZC(r.node(-1).contentMatchAt(r.indexAfter(-1))),l=t&&t(i.parent,o),d=l?[l]:o&&a?[{type:a}]:void 0,f=bo(s.doc,s.mapping.map(r.pos),1,d);if(!d&&!f&&bo(s.doc,s.mapping.map(r.pos),1,a?[{type:a}]:void 0)&&(a&&(d=[{type:a}]),f=!0),f&&(s.split(s.mapping.map(r.pos),1,d),!o&&!r.parentOffset&&r.parent.type!=a)){let m=s.mapping.map(r.before()),y=s.doc.resolve(m);a&&r.node(-1).canReplaceWith(y.index(),y.index()+1,a)&&s.setNodeMarkup(s.mapping.map(r.before()),a)}n(s.scrollIntoView())}return!0}}var XC=G4();var q4=(t,e)=>(e&&e(t.tr.setSelection(new Tn(t.doc))),!0);function K4(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||Os(t.doc,e.pos))?!1:(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0)}function gT(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o,s;if(r.type.spec.isolating||i.type.spec.isolating)return!1;if(K4(t,e,n))return!0;let a=e.parent.canReplace(e.index(),e.index()+1);if(a&&(o=(s=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&s.matchType(o[0]||i.type).validEnd){if(n){let m=e.pos+i.nodeSize,y=K.empty;for(let I=o.length-1;I>=0;I--)y=K.from(o[I].create(null,y));y=K.from(r.copy(y));let v=t.tr.step(new Rt(e.pos-1,m,e.pos,m,new ee(y,1,0),o.length,!0)),b=m+2*o.length;Os(v.doc,b)&&v.join(b),n(v.scrollIntoView())}return!0}let l=Be.findFrom(e,1),d=l&&l.$from.blockRange(l.$to),f=d&&Ns(d);if(f!=null&&f>=e.depth)return n&&n(t.tr.lift(d,f).scrollIntoView()),!0;if(a&&Al(i,"start",!0)&&Al(r,"end")){let m=r,y=[];for(;y.push(m),!m.isTextblock;)m=m.lastChild;let v=i,b=1;for(;!v.isTextblock;v=v.firstChild)b++;if(m.canReplace(m.childCount,m.childCount,v.content)){if(n){let I=K.empty;for(let H=y.length-1;H>=0;H--)I=K.from(y[H].copy(I));let k=t.tr.step(new Rt(e.pos-y.length,e.pos+i.nodeSize,e.pos+b,e.pos+i.nodeSize-b,new ee(I,y.length,0),0,!0));n(k.scrollIntoView())}return!0}}return!1}function yT(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(n&&n(e.tr.setSelection(nt.create(e.doc,t<0?i.start(o):i.end(o)))),!0):!1}}var Z4=yT(-1),Y4=yT(1);function vT(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),a=s&&_l(s,t,e);return a?(r&&r(n.tr.wrap(s,a).scrollIntoView()),!0):!1}}function Ih(t,e=null){return function(n,r){let i=!1;for(let o=0;o<n.selection.ranges.length&&!i;o++){let{$from:{pos:s},$to:{pos:a}}=n.selection.ranges[o];n.doc.nodesBetween(s,a,(l,d)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)i=!0;else{let f=n.doc.resolve(d),m=f.index();i=f.parent.canReplaceWith(m,m+1,t)}})}if(!i)return!1;if(r){let o=n.tr;for(let s=0;s<n.selection.ranges.length;s++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[s];o.setBlockType(a,l,t,e)}r(o.scrollIntoView())}return!0}}function J4(t,e,n){for(let r=0;r<e.length;r++){let{$from:i,$to:o}=e[r],s=i.depth==0?t.inlineContent&&t.type.allowsMarkType(n):!1;if(t.nodesBetween(i.pos,o.pos,a=>{if(s)return!1;s=a.inlineContent&&a.type.allowsMarkType(n)}),s)return!0}return!1}function Us(t,e=null){return function(n,r){let{empty:i,$cursor:o,ranges:s}=n.selection;if(i&&!o||!J4(n.doc,s,t))return!1;if(r)if(o)t.isInSet(n.storedMarks||o.marks())?r(n.tr.removeStoredMark(t)):r(n.tr.addStoredMark(t.create(e)));else{let a=!1,l=n.tr;for(let d=0;!a&&d<s.length;d++){let{$from:f,$to:m}=s[d];a=n.doc.rangeHasMark(f.pos,m.pos,t)}for(let d=0;d<s.length;d++){let{$from:f,$to:m}=s[d];if(a)l.removeMark(f.pos,m.pos,t);else{let y=f.pos,v=m.pos,b=f.nodeAfter,I=m.nodeBefore,k=b&&b.isText?/^\s*/.exec(b.text)[0].length:0,H=I&&I.isText?/\s*$/.exec(I.text)[0].length:0;y+k<v&&(y+=k,v-=H),l.addMark(y,v,t.create(e))}}r(l.scrollIntoView())}return!0}}function kl(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}var qC=kl(fT,H4,z4),dT=kl(fT,$4,W4),_i={Enter:kl(KC,JC,QC,XC),"Mod-Enter":YC,Backspace:qC,"Mod-Backspace":qC,"Shift-Backspace":qC,Delete:dT,"Mod-Delete":dT,"Mod-a":q4},CT={"Ctrl-h":_i.Backspace,"Alt-Backspace":_i["Mod-Backspace"],"Ctrl-d":_i.Delete,"Ctrl-Alt-Backspace":_i["Mod-Delete"],"Alt-Delete":_i["Mod-Delete"],"Alt-d":_i["Mod-Delete"],"Ctrl-a":Z4,"Ctrl-e":Y4};for(let t in _i)CT[t]=_i[t];var Q4=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,bT=Q4?CT:_i;var zn=class{constructor(e,n,r={}){this.match=e,this.match=e,this.handler=typeof n=="string"?X4(n):n,this.undoable=r.undoable!==!1,this.inCode=r.inCode||!1}};function X4(t){return function(e,n,r,i){let o=t;if(n[1]){let s=n[0].lastIndexOf(n[1]);o+=n[0].slice(s+n[1].length),r+=s;let a=r-i;a>0&&(o=n[0].slice(s-a,s)+o,r=i)}return e.tr.insertText(o,r,i)}}var ez=500;function _T({rules:t}){let e=new Jt({state:{init(){return null},apply(n,r){let i=n.getMeta(this);return i||(n.selectionSet||n.docChanged?null:r)}},props:{handleTextInput(n,r,i,o){return wT(n,r,i,o,t,e)},handleDOMEvents:{compositionend:n=>{setTimeout(()=>{let{$cursor:r}=n.state.selection;r&&wT(n,r.pos,r.pos,"",t,e)})}}},isInputRules:!0});return e}function wT(t,e,n,r,i,o){if(t.composing)return!1;let s=t.state,a=s.doc.resolve(e),l=a.parent.textBetween(Math.max(0,a.parentOffset-ez),a.parentOffset,null,"\uFFFC")+r;for(let d=0;d<i.length;d++){let f=i[d];if(a.parent.type.spec.code){if(!f.inCode)continue}else if(f.inCode==="only")continue;let m=f.match.exec(l),y=m&&f.handler(s,m,e-(m[0].length-r.length),n);if(y)return f.undoable&&y.setMeta(o,{transform:y,from:e,to:n,text:r}),t.dispatch(y),!0}return!1}var DT=new zn(/--$/,"\u2014"),ST=new zn(/\.\.\.$/,"\u2026"),tz=new zn(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"\u201C"),nz=new zn(/"$/,"\u201D"),rz=new zn(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"\u2018"),iz=new zn(/'$/,"\u2019"),ET=[tz,nz,rz,iz];function Mh(t,e,n=null,r){return new zn(t,(i,o,s,a)=>{let l=n instanceof Function?n(o):n,d=i.tr.delete(s,a),f=d.doc.resolve(s),m=f.blockRange(),y=m&&_l(m,e,l);if(!y)return null;d.wrap(m,y);let v=d.doc.resolve(s-1).nodeBefore;return v&&v.type==e&&Os(d.doc,s-1)&&(!r||r(o,v))&&d.join(s-1),d})}function eb(t,e,n=null){return new zn(t,(r,i,o,s)=>{let a=r.doc.resolve(o),l=n instanceof Function?n(i):n;return a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),e)?r.tr.delete(o,s).setBlockType(o,o,e,l):null})}var Th=(t,e)=>{let{from:n,$from:r,to:i,empty:o}=t.selection;return o?!!e.isInSet(t.storedMarks||r.marks()):t.doc.rangeHasMark(n,i,e)},oz=(t,e)=>{for(let n=e.depth;n>0;n-=1)if(e.node(n).type===t)return e.node(n).type;return null},tb=(t,e,n={})=>{let{selection:r}=t,{$from:i,to:o}=r,s=oz(e,i);return!Object.entries(n).length||!s?!!s:o<=i.end()&&i.parent.hasMarkup(e,n)},xT=t=>{let e=[],{selection:n,storedMarks:r}=t,{from:i,to:o,empty:s,$from:a}=n;return s?e=r||a.marks():t.doc.nodesBetween(i,o,l=>{e=[...e,...l.marks]}),e},nb=t=>{let e=[],{selection:{from:n,to:r}}=t;return t.doc.nodesBetween(n,r,i=>{e.push(i)}),e},rb=(t,e,n)=>{for(let r of e){let{$from:i,$to:o}=r,s=i.depth===0?t.type.allowsMarkType(n):!1;if(t.nodesBetween(i.pos,o.pos,a=>s?!1:(s=a.inlineContent&&a.type.allowsMarkType(n),!0)),s)return!0}return!1},ib=(t,e,n)=>new zn(t,(r,i,o,s)=>{let{tr:a}=r,l=o,d=s,[f,,m]=i,y=f.search(/\S/);if(m){let v=o+f.indexOf(m),b=v+m.length;b<s&&a.delete(b,s),v>o&&a.delete(o+y,v),d=o+m.length+y}return a.addMark(l,d,e.create(n)),a.removeStoredMark(e),a}),IT=(t,e)=>{let{$from:n}=t.selection;for(let r=n.depth;r>=0;r-=1){let i=n.index(r);if(n.node(r).canReplaceWith(i,i,e))return!0}return!1};var MT=()=>(t,e)=>{let{doc:n,selection:r,tr:i,schema:o}=t,{$head:{pos:s},from:a,to:l}=r,d=o.marks.link;if(a===l){let f=n.resolve(s),m=s-f.textOffset,y=m+f.parent.child(f.index()).nodeSize;i.removeMark(m,y,d)}else i.removeMark(a,l,d);return i.docChanged?(e?.(i),!0):!1},ob=(t,e={})=>(n,r)=>{let{tr:i,selection:o}=n,{empty:s,ranges:a,$from:l,$to:d}=o;if(s&&o instanceof nt){let{$cursor:f}=o;if(!f||!rb(n.doc,a,t)||(i.addStoredMark(t.create(e)),!i.storedMarksSet))return!1;r?.(i)}else{if(i.addMark(l.pos,d.pos,t.create(e)),!i.docChanged)return!1;r?.(i.scrollIntoView())}return!0},TT=t=>(e,n)=>{let{tr:r,selection:i,storedMarks:o,doc:s}=e,{empty:a,ranges:l}=i;if(a&&i instanceof nt){let{$cursor:d}=i;if(!d||!rb(e.doc,l,t))return!1;if(t.isInSet(o||d.marks()))return r.removeStoredMark(t),n?.(r),!0}else{for(let d of l){let{$from:f,$to:m}=d;s.rangeHasMark(f.pos,m.pos,t)&&r.removeMark(f.pos,m.pos,t)}if(!r.docChanged)return!1;n?.(r.scrollIntoView())}return!1};var Ah=200,Ut=function(){};Ut.prototype.append=function(e){return e.length?(e=Ut.from(e),!this.length&&e||e.length<Ah&&this.leafAppend(e)||this.length<Ah&&e.leafPrepend(this)||this.appendInner(e)):this};Ut.prototype.prepend=function(e){return e.length?Ut.from(e).append(this):this};Ut.prototype.appendInner=function(e){return new sz(this,e)};Ut.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Ut.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Ut.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Ut.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Ut.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,s){return i.push(e(o,s))},n,r),i};Ut.from=function(e){return e instanceof Ut?e:e&&e.length?new AT(e):Ut.empty};var AT=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,s,a){for(var l=o;l<s;l++)if(i(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,s,a){for(var l=o-1;l>=s;l--)if(i(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Ah)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Ah)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Ut);Ut.empty=new AT([]);var sz=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,o,s){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(o,a),s)===!1||o>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,o)-a,s+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,o,s){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(o,a)-a,s+a)===!1||o<a&&this.left.forEachInvertedInner(r,Math.min(i,a),o,s)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Ut),sb=Ut;var az=500,Ws=class t{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;n&&(i=this.remapping(r,this.items.length),o=i.maps.length);let s=e.tr,a,l,d=[],f=[];return this.items.forEach((m,y)=>{if(!m.step){i||(i=this.remapping(r,y+1),o=i.maps.length),o--,f.push(m);return}if(i){f.push(new Hr(m.map));let v=m.step.map(i.slice(o)),b;v&&s.maybeStep(v).doc&&(b=s.mapping.maps[s.mapping.maps.length-1],d.push(new Hr(b,void 0,void 0,d.length+f.length))),o--,b&&i.appendMap(b,o)}else s.maybeStep(m.step);if(m.selection)return a=i?m.selection.map(i.slice(o)):m.selection,l=new t(this.items.slice(0,r).append(f.reverse().concat(d)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:s,selection:a}}addTransform(e,n,r,i){let o=[],s=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let f=0;f<e.steps.length;f++){let m=e.steps[f].invert(e.docs[f]),y=new Hr(e.mapping.maps[f],m,n),v;(v=l&&l.merge(y))&&(y=v,f?o.pop():a=a.slice(0,a.length-1)),o.push(y),n&&(s++,n=void 0),i||(l=y)}let d=s-r.depth;return d>cz&&(a=lz(a,d),s-=d),new t(a.append(o),s)}remapping(e,n){let r=new mu;return this.items.forEach((i,o)=>{let s=i.mirrorOffset!=null&&o-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,s)},e,n),r}addMaps(e){return this.eventCount==0?this:new t(this.items.append(e.map(n=>new Hr(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),o=e.mapping,s=e.steps.length,a=this.eventCount;this.items.forEach(y=>{y.selection&&a--},i);let l=n;this.items.forEach(y=>{let v=o.getMirror(--l);if(v==null)return;s=Math.min(s,v);let b=o.maps[v];if(y.step){let I=e.steps[v].invert(e.docs[v]),k=y.selection&&y.selection.map(o.slice(l+1,v));k&&a++,r.push(new Hr(b,I,k))}else r.push(new Hr(b))},i);let d=[];for(let y=n;y<s;y++)d.push(new Hr(o.maps[y]));let f=this.items.slice(0,i).append(d).append(r),m=new t(f,a);return m.emptyItemCount()>az&&(m=m.compress(this.items.length-r.length)),m}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],o=0;return this.items.forEach((s,a)=>{if(a>=e)i.push(s),s.selection&&o++;else if(s.step){let l=s.step.map(n.slice(r)),d=l&&l.getMap();if(r--,d&&n.appendMap(d,r),l){let f=s.selection&&s.selection.map(n.slice(r));f&&o++;let m=new Hr(d.invert(),l,f),y,v=i.length-1;(y=i.length&&i[v].merge(m))?i[v]=y:i.push(m)}}else s.map&&r--},this.items.length,0),new t(sb.from(i.reverse()),o)}};Ws.empty=new Ws(sb.empty,0);function lz(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}var Hr=class t{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new t(n.getMap().invert(),n,this.selection)}}},zr=class{constructor(e,n,r,i,o){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=o}},cz=20;function uz(t,e,n,r){let i=n.getMeta($s),o;if(i)return i.historyState;n.getMeta(pz)&&(t=new zr(t.done,t.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(s&&s.getMeta($s))return s.getMeta($s).redo?new zr(t.done.addTransform(n,void 0,r,kh(e)),t.undone,kT(n.mapping.maps[n.steps.length-1]),t.prevTime,t.prevComposition):new zr(t.done,t.undone.addTransform(n,void 0,r,kh(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=t.prevTime==0||!s&&t.prevComposition!=a&&(t.prevTime<(n.time||0)-r.newGroupDelay||!dz(n,t.prevRanges)),d=s?ab(t.prevRanges,n.mapping):kT(n.mapping.maps[n.steps.length-1]);return new zr(t.done.addTransform(n,l?e.selection.getBookmark():void 0,r,kh(e)),Ws.empty,d,n.time,a??t.prevComposition)}else return(o=n.getMeta("rebased"))?new zr(t.done.rebased(n,o),t.undone.rebased(n,o),ab(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new zr(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),ab(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function dz(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&i>=e[o]&&(n=!0)}),n}function kT(t){let e=[];return t.forEach((n,r,i,o)=>e.push(i,o)),e}function ab(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),o=e.map(t[r+1],-1);i<=o&&n.push(i,o)}return n}function fz(t,e,n){let r=kh(e),i=$s.get(e).spec.config,o=(n?t.undone:t.done).popEvent(e,r);if(!o)return null;let s=o.selection.resolve(o.transform.doc),a=(n?t.done:t.undone).addTransform(o.transform,e.selection.getBookmark(),i,r),l=new zr(n?a:o.remaining,n?o.remaining:a,null,0,-1);return o.transform.setSelection(s).setMeta($s,{redo:n,historyState:l})}var lb=!1,NT=null;function kh(t){let e=t.plugins;if(NT!=e){lb=!1,NT=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){lb=!0;break}}return lb}var $s=new An("history"),pz=new An("closeHistory");function OT(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Jt({key:$s,state:{init(){return new zr(Ws.empty,Ws.empty,null,0,-1)},apply(e,n,r){return uz(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?Oh:r=="historyRedo"?Au:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function Nh(t,e){return(n,r)=>{let i=$s.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let o=fz(i,n,t);o&&r(e?o.scrollIntoView():o)}return!0}}var Oh=Nh(!1,!0),Au=Nh(!0,!0),yne=Nh(!1,!1),vne=Nh(!0,!1);var Di={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Ph={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},hz=typeof navigator<"u"&&/Mac/.test(navigator.platform),mz=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(_t=0;_t<10;_t++)Di[48+_t]=Di[96+_t]=String(_t);var _t;for(_t=1;_t<=24;_t++)Di[_t+111]="F"+_t;var _t;for(_t=65;_t<=90;_t++)Di[_t]=String.fromCharCode(_t+32),Ph[_t]=String.fromCharCode(_t);var _t;for(Rh in Di)Ph.hasOwnProperty(Rh)||(Ph[Rh]=Di[Rh]);var Rh;function RT(t){var e=hz&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||mz&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Ph:Di)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}var gz=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function yz(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,o,s;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))gz?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),s&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function vz(t){let e=Object.create(null);for(let n in t)e[yz(n)]=t[n];return e}function cb(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function ku(t){return new Jt({props:{handleKeyDown:Cz(t)}})}function Cz(t){let e=vz(t);return function(n,r){let i=RT(r),o,s=e[cb(i,r)];if(s&&s(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=e[cb(i,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(o=Di[r.keyCode])&&o!=i){let a=e[cb(o,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}var bz=["imgEl"],wz=t=>({"NgxEditor__Resizer--Active":t});function _z(t,e){if(t&1){let n=At();S(0,"span",4)(1,"span",5),Y("mousedown",function(i){ot(n);let o=X();return st(o.startResizing(i,"left"))}),E(),S(2,"span",6),Y("mousedown",function(i){ot(n);let o=X();return st(o.startResizing(i,"right"))}),E(),S(3,"span",7),Y("mousedown",function(i){ot(n);let o=X();return st(o.startResizing(i,"left"))}),E(),S(4,"span",8),Y("mousedown",function(i){ot(n);let o=X();return st(o.startResizing(i,"right"))}),E()()}}var Dz=["ngxEditor"],Sz=["*"];function Ez(t,e){if(t&1&&(S(0,"div",12),j(1),qe(2,"async"),E()),t&2){let n=X(2);A(),Rr(" ",Ke(2,1,(n.href.errors==null?null:n.href.errors.pattern)&&n.getLabel("enterValidUrl"))," ")}}function xz(t,e){if(t&1&&(S(0,"div",12),j(1),E()),t&2){let n=X(2);A(),Rr(" ",(n.text.errors==null?null:n.text.errors.required)&&"This is required"," ")}}function Iz(t,e){if(t&1&&(S(0,"div",4)(1,"div",5)(2,"label"),J(3,"input",13),j(4),qe(5,"async"),E()()()),t&2){let n=X(2);A(4),Rr(" ",Ke(5,1,n.getLabel("openInNewTab"))," ")}}function Mz(t,e){if(t&1){let n=At();S(0,"div",2)(1,"form",3),Y("ngSubmit",function(i){ot(n);let o=X();return st(o.insertLink(i))}),S(2,"div",4)(3,"div",5)(4,"label",6),j(5),qe(6,"async"),E(),J(7,"input",7),tt(8,Ez,3,3,"div",8),E()(),S(9,"div",4)(10,"div",5)(11,"label",6),j(12),qe(13,"async"),E(),J(14,"input",9),tt(15,xz,2,1,"div",8),E()(),tt(16,Iz,6,3,"div",10),S(17,"button",11),j(18),qe(19,"async"),E()()()}if(t&2){let n=X();A(),$("formGroup",n.form),A(3),$("htmlFor",n.getId("link-popup-url")),A(),bt(Ke(6,12,n.getLabel("url"))),A(2),$("id",n.getId("link-popup-url")),A(),$("ngIf",n.href.touched&&n.href.invalid),A(3),$("htmlFor",n.getId("link-popup-label")),A(),bt(Ke(13,14,n.getLabel("text"))),A(2),$("id",n.getId("link-popup-label")),A(),$("ngIf",n.text.touched&&n.text.invalid),A(),$("ngIf",n.options.showOpenInNewTab),A(),$("disabled",!n.form.valid),A(),bt(Ke(19,16,n.getLabel("insert")))}}var Tz=(t,e)=>({"NgxEditor__Dropdown--Active":t,"NgxEditor--Disabled":e});function Az(t,e){if(t&1){let n=At();S(0,"button",4),qe(1,"async"),Y("mousedown",function(i){let o=ot(n).$implicit,s=X(2);return st(s.onDropdownItemMouseClick(i,o))})("keydown.enter",function(i){let o=ot(n).$implicit,s=X(2);return st(s.onDropdownItemKeydown(i,o))})("keydown.space",function(i){let o=ot(n).$implicit,s=X(2);return st(s.onDropdownItemKeydown(i,o))}),j(2),qe(3,"async"),E()}if(t&2){let n=e.$implicit,r=X(2);$("ngClass",Bf(8,Tz,n===r.activeItem,r.disabledItems.includes(n)))("ariaLabel",Ke(1,4,r.getName(n))),Ec("aria-selected",n===r.activeItem),A(2),Rr(" ",Ke(3,6,r.getName(n))," ")}}function kz(t,e){if(t&1&&(S(0,"div",2),tt(1,Az,4,11,"button",3),E()),t&2){let n=X();A(),$("ngForOf",n.items)("ngForTrackBy",n.trackByIndex)}}function Nz(t,e){if(t&1&&(S(0,"div",12),j(1),qe(2,"async"),E()),t&2){let n=X(2);A(),Rr(" ",Ke(2,1,(n.src.errors==null?null:n.src.errors.pattern)&&n.getLabel("enterValidUrl"))," ")}}function Oz(t,e){if(t&1){let n=At();S(0,"div",2)(1,"form",3),Y("ngSubmit",function(i){ot(n);let o=X();return st(o.insertLink(i))}),S(2,"div",4)(3,"div",5)(4,"label",6),j(5),qe(6,"async"),E(),J(7,"input",7),tt(8,Nz,3,3,"div",8),E()(),S(9,"div",4)(10,"div",5)(11,"label",6),j(12),qe(13,"async"),E(),J(14,"input",9),E()(),S(15,"div",4)(16,"div",5)(17,"label",6),j(18),qe(19,"async"),E(),J(20,"input",10),E()(),S(21,"button",11),j(22),qe(23,"async"),E()()()}if(t&2){let n=X();A(),$("formGroup",n.form),A(3),$("htmlFor",n.getId("image-popup-url")),A(),bt(Ke(6,13,n.getLabel("url"))),A(2),$("id",n.getId("image-popup-url")),A(),$("ngIf",n.src.touched&&n.src.invalid),A(3),$("htmlFor",n.getId("image-popup-label")),A(),bt(Ke(13,15,n.getLabel("altText"))),A(2),$("id",n.getId("image-popup-label")),A(3),$("htmlFor",n.getId("image-popup-title")),A(),bt(Ke(19,17,n.getLabel("title"))),A(2),$("id",n.getId("image-popup-title")),A(),$("disabled",!n.form.valid||!n.form.dirty),A(),bt(Ke(23,19,n.getLabel("insert")))}}var Rz=(t,e)=>({backgroundColor:t,color:e}),Pz=t=>({"NgxEditor__Color--Active":t});function Fz(t,e){if(t&1){let n=At();S(0,"button",7),Y("mousedown",function(i){let o=ot(n).$implicit,s=X(3);return st(s.onColorSelectMouseClick(i,o))})("keydown.enter",function(){let i=ot(n).$implicit,o=X(3);return st(o.onColorSelectKeydown(i))})("keydown.space",function(){let i=ot(n).$implicit,o=X(3);return st(o.onColorSelectKeydown(i))}),E()}if(t&2){let n=e.$implicit,r=X(3);$("ngStyle",Bf(3,Rz,n,r.getContrastYIQ(n)))("title",n)("ngClass",xc(6,Pz,r.activeColors.includes(n)))}}function Lz(t,e){if(t&1&&(S(0,"div",5),tt(1,Fz,1,8,"button",6),E()),t&2){let n=e.$implicit,r=X(2);A(),$("ngForOf",n)("ngForTrackBy",r.trackByIndex)}}function Vz(t,e){if(t&1){let n=At();S(0,"div",2),tt(1,Lz,2,2,"div",3),S(2,"button",4),Y("mousedown",function(i){ot(n);let o=X();return st(o.onRemoveMouseClick(i))})("keydown.enter",function(){ot(n);let i=X();return st(i.onRemoveKeydown())})("keydown.space",function(){ot(n);let i=X();return st(i.onRemoveKeydown())}),j(3),qe(4,"async"),E()()}if(t&2){let n=X();A(),$("ngForOf",n.presets)("ngForTrackBy",n.trackByIndex),A(),$("disabled",!n.isActive),A(),Rr(" ",Ke(4,4,n.getLabel("remove"))," ")}}var Bz=(t,e)=>({"NgxEditor--Disabled":t,"NgxEditor__MenuBar--Reverse":e});function jz(t,e){if(t&1&&J(0,"ngx-toggle-command",7),t&2){let n=X().$implicit,r=X(2);li(r.iconContainerClass),$("toolbarItem",n)}}function Hz(t,e){if(t&1&&J(0,"ngx-insert-command",7),t&2){let n=X().$implicit,r=X(2);li(r.iconContainerClass),$("toolbarItem",n)}}function zz(t,e){if(t&1&&(to(0),J(1,"ngx-link",8),no()),t&2){let n=X().$implicit,r=X(2);A(),li(r.iconContainerClass),$("options",r.getLinkOptions(n))}}function Uz(t,e){if(t&1&&J(0,"ngx-image"),t&2){let n=X(3);li(n.iconContainerClass)}}function $z(t,e){if(t&1&&J(0,"ngx-dropdown",10),t&2){let n=e.$implicit,r=X(4);li(r.dropdownContainerClass),$("group",n.key)("items",n.value)}}function Wz(t,e){if(t&1&&(to(0),tt(1,$z,1,4,"ngx-dropdown",9),qe(2,"keyvalue"),no()),t&2){let n=X().$implicit,r=X(2);A(),$("ngForOf",Ke(2,2,r.getDropdownItems(n)))("ngForTrackBy",r.trackByIndex)}}function Gz(t,e){if(t&1&&J(0,"ngx-color-picker",11),t&2){let n=X(3);li(n.iconContainerClass),$("presets",n.presets)}}function qz(t,e){if(t&1&&J(0,"ngx-color-picker",12),t&2){let n=X(3);li(n.iconContainerClass),$("presets",n.presets)}}function Kz(t,e){if(t&1&&J(0,"div"),t&2){let n=X(3);li(n.seperatorClass)}}function Zz(t,e){if(t&1&&(to(0),tt(1,jz,1,3,"ngx-toggle-command",3)(2,Hz,1,3,"ngx-insert-command",3)(3,zz,2,3,"ng-container",2)(4,Uz,1,2,"ngx-image",4)(5,Wz,3,4,"ng-container",2)(6,Gz,1,3,"ngx-color-picker",5)(7,qz,1,3,"ngx-color-picker",6)(8,Kz,1,2,"div",4),no()),t&2){let n=e.$implicit,r=e.last,i=X().last,o=X();A(),$("ngIf",o.toggleCommands.includes(n)),A(),$("ngIf",o.insertCommands.includes(n)),A(),$("ngIf",o.isLinkItem(n)),A(),$("ngIf",n==="image"),A(),$("ngIf",o.isDropDown(n)),A(),$("ngIf",n==="text_color"),A(),$("ngIf",n==="background_color"),A(),$("ngIf",r&&!i)}}function Yz(t,e){if(t&1&&(to(0),tt(1,Zz,9,8,"ng-container",1),no()),t&2){let n=e.$implicit,r=X();A(),$("ngForOf",n)("ngForTrackBy",r.trackByIndex)}}function Jz(t,e){if(t&1&&(to(0),hv(1,13),no()),t&2){let n=X();A(),$("ngTemplateOutlet",n.customMenuRef)}}var Qz=(t=!0)=>new Jt({key:new An("editable"),state:{init(){return t},apply(e,n){return e.getMeta("UPDATE_EDITABLE")??n}},props:{editable(e){return this.getState(e)},attributes(e){return this.getState(e)?null:{class:"NgxEditor__Content--Disabled"}}}}),Xz="NgxEditor__Placeholder",e5=t=>new Jt({key:new An("placeholder"),state:{init(){return t??""},apply(e,n){return e.getMeta("UPDATE_PLACEHOLDER")??n}},props:{decorations(e){let{doc:n}=e,{textContent:r,childCount:i}=n,o=this.getState(e);if(!o||i>1)return ln.empty;let s=[],a=(l,d)=>{if(l.type.isBlock&&l.childCount===0&&r.length===0){let f=d,m=d+l.nodeSize,y=jr.node(f,m,{class:Xz,"data-placeholder":o,"data-align":l.attrs.align??null});s.push(y)}return!1};return n.descendants(a),ln.create(n,s)}}}),t5=(t={})=>new Jt({key:new An("attributes"),props:{attributes:t}}),n5=t=>new Jt({key:new An("focus"),props:{handleDOMEvents:{focus:()=>(t(),!1)}}}),r5=t=>new Jt({key:new An("blur"),props:{handleDOMEvents:{blur:()=>(t(),!1)}}}),i5=(()=>{let e=class e{constructor(){this.alt="",this.title="",this.outerWidth="",this.selected=!1,this.imageResize=new We}startResizing(r,i){r.preventDefault(),this.resizeImage(r,i)}resizeImage(r,i){let o=r.pageX,s=this.imgEl.nativeElement.clientWidth,a=i==="left",{width:l}=window.getComputedStyle(this.view.dom),d=parseInt(l,10),f=y=>{let b=y.pageX-o,I=a?s-b:s+b;I>d||I<20||(this.outerWidth=`${I}px`)},m=y=>{y.preventDefault(),document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",m),this.imageResize.emit()};document.addEventListener("mousemove",f),document.addEventListener("mouseup",m)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Fe({type:e,selectors:[["ngx-image-view"]],viewQuery:function(i,o){if(i&1&&mv(bz,7),i&2){let s;Lf(s=Vf())&&(o.imgEl=s.first)}},inputs:{src:"src",alt:"alt",title:"title",outerWidth:"outerWidth",selected:"selected",view:"view"},outputs:{imageResize:"imageResize"},decls:4,vars:9,consts:[["imgEl",""],[1,"NgxEditor__ImageWrapper",3,"ngClass"],["class","NgxEditor__ResizeHandle",4,"ngIf"],[3,"src","alt","title"],[1,"NgxEditor__ResizeHandle"],[1,"NgxEditor__ResizeHandle--TL",3,"mousedown"],[1,"NgxEditor__ResizeHandle--TR",3,"mousedown"],[1,"NgxEditor__ResizeHandle--BL",3,"mousedown"],[1,"NgxEditor__ResizeHandle--BR",3,"mousedown"]],template:function(i,o){i&1&&(S(0,"span",1),tt(1,_z,5,0,"span",2),J(2,"img",3,0),E()),i&2&&(Ff("width",o.outerWidth),$("ngClass",xc(7,wz,o.selected)),A(),$("ngIf",o.selected),A(),$("src",o.src,qD)("alt",o.alt)("title",o.title))},dependencies:[is,ss],styles:["*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box}img[_ngcontent-%COMP%]{width:100%;height:100%}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]{position:relative;display:inline-block;line-height:0;padding:2px}.NgxEditor__ImageWrapper.NgxEditor__Resizer--Active[_ngcontent-%COMP%]{padding:1px;border:1px solid #1a73e8}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TL[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BL[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TR[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BR[_ngcontent-%COMP%]{position:absolute;width:7px;height:7px;background-color:#1a73e8;border:1px solid white}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BR[_ngcontent-%COMP%]{bottom:-5px;right:-5px;cursor:se-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TR[_ngcontent-%COMP%]{top:-5px;right:-5px;cursor:ne-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TL[_ngcontent-%COMP%]{top:-5px;left:-5px;cursor:nw-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BL[_ngcontent-%COMP%]{bottom:-5px;left:-5px;cursor:sw-resize}"]});let t=e;return t})(),ub=class{constructor(e,n,r,i){this.updating=!1,this.handleResize=()=>{if(this.updating)return;let{state:o,dispatch:s}=this.view,{tr:a}=o,l=a.setNodeMarkup(this.getPos(),void 0,Pe(Z({},this.node.attrs),{width:this.imageComponentRef.instance.outerWidth})),d=l.doc.resolve(this.getPos()),f=new De(d);l.setSelection(f),s(l)},this.applicationRef=i.get(io),this.imageComponentRef=sE(i5,{environmentInjector:this.applicationRef.injector}),this.applicationRef.attachView(this.imageComponentRef.hostView),this.setNodeAttributes(e.attrs),this.imageComponentRef.instance.view=n,this.dom=this.imageComponentRef.location.nativeElement,this.view=n,this.node=e,this.getPos=r,this.resizeSubscription=this.imageComponentRef.instance.imageResize.subscribe(()=>{this.handleResize()})}computeChanges(e,n){return JSON.stringify(e)===JSON.stringify(n)}setNodeAttributes(e){this.imageComponentRef.instance.src=e.src,this.imageComponentRef.instance.alt=e.alt,this.imageComponentRef.instance.title=e.title,this.imageComponentRef.instance.outerWidth=e.width}update(e){return e.type!==this.node.type?!1:(this.node=e,this.computeChanges(this.node.attrs,e.attrs)&&(this.updating=!0,this.setNodeAttributes(e.attrs),this.updating=!1),!0)}ignoreMutation(){return!0}selectNode(){this.imageComponentRef.instance.selected=!0}deselectNode(){this.imageComponentRef.instance.selected=!1}destroy(){this.resizeSubscription.unsubscribe(),this.applicationRef.detachView(this.imageComponentRef.hostView)}},o5=t=>new Jt({key:new An("image-resize"),props:{nodeViews:{image:(e,n,r)=>new ub(e,n,r,t)}}}),s5=/(?:https?:\/\/)?[\w-]+(?:\.[\w-]+)+\.?(?:\d+)?(?:\/\S*)?$/,$T=t=>{let e=[];return t.forEach(n=>{if(n.isText){let r=n.text,i=0,o=s5.exec(r);if(o){let s=o.index,a=s+o[0].length,{link:l}=n.type.schema.marks;s>0&&e.push(n.cut(i,s));let d=r.slice(s,a);e.push(n.cut(s,a).mark(l.create({href:d}).addToSet(n.marks))),i=a}i<r.length&&e.push(n.cut(i))}else e.push(n.copy($T(n.content)))}),K.fromArray(e)},a5=()=>new Jt({key:new An("linkify"),props:{transformPasted:t=>new ee($T(t.content),t.openStart,t.openEnd)}}),WT=t=>typeof t=="string",l5=()=>window.trustedTypes,GT=t=>l5()?.isHTML(t)??!1,qT=t=>WT(t)||GT(t),KT={type:"doc",content:[{type:"paragraph"}]},c5=(t,e)=>{let n=e??Tu,r=n.nodeFromJSON(t),i=yi.fromSchema(n).serializeFragment(r.content),o=document.createElement("div");return o.appendChild(i),o.innerHTML},u5=(t,e,n)=>{let r=e??Tu,i=document.createElement("div");return i.innerHTML=t,Co.fromSchema(r).parse(i,n).toJSON()},PT=(t,e,n)=>{if(!t)return e.nodeFromJSON(KT);if(!qT(t))return e.nodeFromJSON(t);let r=u5(t,e,n);return e.nodeFromJSON(r)},Mo=(()=>{let e=class e{constructor(r,i,o){this.renderer=r,this.injector=i,this.elementRef=o,this.placeholder="Type Here...",this.focusOut=new We,this.focusIn=new We,this.unsubscribe=new at,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(r){!this.outputFormat&&qT(r)&&(this.outputFormat="html"),this.editor.setContent(r??KT)}registerOnChange(r){this.onChange=r}registerOnTouched(r){this.onTouched=r}setDisabledState(r){this.setMeta("UPDATE_EDITABLE",!r),this.renderer.setProperty(this.elementRef.nativeElement,"disabled",r)}handleChange(r){if(this.outputFormat==="html"){let i=c5(r,this.editor.schema);this.onChange(i);return}this.onChange(r)}setMeta(r,i){let{dispatch:o,state:{tr:s}}=this.editor.view;o(s.setMeta(r,i))}setPlaceholder(r){this.setMeta("UPDATE_PLACEHOLDER",r)}registerPlugins(){this.editor.registerPlugin(Qz()),this.editor.registerPlugin(e5(this.placeholder)),this.editor.registerPlugin(t5({class:"NgxEditor__Content"})),this.editor.registerPlugin(n5(()=>{this.focusIn.emit()})),this.editor.registerPlugin(r5(()=>{this.focusOut.emit(),this.onTouched()})),this.editor.features.resizeImage&&this.editor.registerPlugin(o5(this.injector)),this.editor.features.linkOnPaste&&this.editor.registerPlugin(a5())}ngOnInit(){if(!this.editor)throw new Cl("Required editor instance for initializing editor component");this.registerPlugins(),this.renderer.appendChild(this.ngxEditor.nativeElement,this.editor.view.dom),this.editor.valueChanges.pipe(sc(this.unsubscribe)).subscribe(r=>{this.handleChange(r)})}ngOnChanges(r){r.placeholder&&!r.placeholder.isFirstChange()&&this.setPlaceholder(r.placeholder.currentValue)}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}};e.\u0275fac=function(i){return new(i||e)(re(Nr),re(xr),re(Tt))},e.\u0275cmp=Fe({type:e,selectors:[["ngx-editor"]],viewQuery:function(i,o){if(i&1&&mv(Dz,7),i&2){let s;Lf(s=Vf())&&(o.ngxEditor=s.first)}},inputs:{editor:"editor",outputFormat:"outputFormat",placeholder:"placeholder"},outputs:{focusOut:"focusOut",focusIn:"focusIn"},features:[ci([{provide:vl,useExisting:Mr(()=>e),multi:!0}]),nr],ngContentSelectors:Sz,decls:3,vars:0,consts:[["ngxEditor",""],[1,"NgxEditor"]],template:function(i,o){i&1&&(qS(),S(0,"div",1,0),KS(2),E())},styles:[`:root{--ngx-editor-border-radius: 4px;--ngx-editor-background-color: #fff;--ngx-editor-text-color: #000;--ngx-editor-placeholder-color: #6c757d;--ngx-editor-border-color: rgba(0, 0, 0, .2);--ngx-editor-wrapper-border-color: rgba(0, 0, 0, .2);--ngx-editor-menubar-bg-color: #fff;--ngx-editor-menubar-padding: 3px;--ngx-editor-menubar-height: 30px;--ngx-editor-blockquote-color: #ddd;--ngx-editor-blockquote-border-width: 3px;--ngx-editor-icon-size: 30px;--ngx-editor-popup-bg-color: #fff;--ngx-editor-popup-border-radius: 4px;--ngx-editor-popup-shadow: rgba(60, 64, 67, .15) 0px 2px 6px 2px;--ngx-editor-menu-item-border-radius: 2px;--ngx-editor-menu-item-active-color: #1a73e8;--ngx-editor-menu-item-hover-bg-color: #f1f1f1;--ngx-editor-menu-item-active-bg-color: #e8f0fe;--ngx-editor-seperator-color: #ccc;--ngx-editor-bubble-bg-color: #000;--ngx-editor-bubble-text-color: #fff;--ngx-editor-bubble-item-hover-color: #636262;--ngx-editor-bubble-seperator-color: #fff;--ngx-editor-focus-ring-color: #5e9ed6;--ngx-editor-error-color: red;--ngx-editor-click-pointer: default}.NgxEditor{background:var(--ngx-editor-background-color);color:var(--ngx-editor-text-color);background-clip:padding-box;border-radius:var(--ngx-editor-border-radius);border:1px solid var(--ngx-editor-border-color);position:relative}.NgxEditor--Disabled{opacity:.5!important;pointer-events:none!important}.NgxEditor__Placeholder:before{color:var(--ngx-editor-placeholder-color);opacity:1;-webkit-user-select:none;user-select:none;position:absolute;cursor:text;content:attr(data-placeholder)}.NgxEditor__Placeholder[data-align=right]:before{position:relative}.NgxEditor__Content{padding:8px;white-space:pre-wrap;outline:none;font-variant-ligatures:none;font-feature-settings:"liga" 0}.NgxEditor__Content p{margin:0 0 10px}.NgxEditor__Content blockquote{padding-left:16px;border-left:var(--ngx-editor-blockquote-border-width) solid var(--ngx-editor-blockquote-color);margin-left:0;margin-right:0}.NgxEditor__Content--Disabled{-webkit-user-select:none;user-select:none;pointer-events:none}.NgxEditor__Wrapper{border:1px solid var(--ngx-editor-wrapper-border-color);border-radius:var(--ngx-editor-border-radius)}.NgxEditor__Wrapper .NgxEditor__MenuBar{border-top-left-radius:var(--ngx-editor-border-radius);border-top-right-radius:var(--ngx-editor-border-radius);border-bottom:1px solid var(--ngx-editor-border-color)}.NgxEditor__Wrapper .NgxEditor{border-top-left-radius:0;border-top-right-radius:0;border:none}.NgxEditor__MenuBar{display:flex;flex-wrap:wrap;padding:var(--ngx-editor-menubar-padding);background-color:var(--ngx-editor-menubar-bg-color);gap:.25rem .1rem}.NgxEditor__MenuBar button:not(:disabled),.NgxEditor__MenuBar [role=button]:not(:disabled){cursor:var(--ngx-editor-click-pointer, default)}.NgxEditor__MenuItem{display:flex;align-items:center;justify-content:center;position:relative;flex-shrink:0}.NgxEditor__MenuItem.NgxEditor__MenuItem--IconContainer{display:flex;align-items:center;justify-content:center}.NgxEditor__MenuItem .NgxEditor__MenuItem--Icon{all:unset;appearance:none;height:var(--ngx-editor-icon-size);width:var(--ngx-editor-icon-size);transition:.2s ease-in-out;display:inline-flex;align-items:center;justify-content:center;border-radius:var(--ngx-editor-menu-item-border-radius)}.NgxEditor__MenuItem .NgxEditor__MenuItem--Icon+.NgxEditor__MenuItem--Icon{margin-left:2px}.NgxEditor__MenuItem .NgxEditor__MenuItem--Icon:focus-visible{outline:1px solid var(--ngx-editor-focus-ring-color)}.NgxEditor__MenuItem .NgxEditor__MenuItem--Icon:hover{background-color:var(--ngx-editor-menu-item-hover-bg-color)}.NgxEditor__MenuItem.NgxEditor__MenuItem--Text{padding:0 5px}.NgxEditor__MenuItem.NgxEditor__MenuItem--Active,.NgxEditor__MenuItem .NgxEditor__MenuItem--Active{background-color:var(--ngx-editor-menu-item-active-bg-color);color:var(--ngx-editor-menu-item-active-color)}.NgxEditor__Dropdown{min-width:64px;position:relative;display:flex;align-items:center;flex-shrink:0}.NgxEditor__Dropdown:hover{background-color:var(--ngx-editor-menu-item-hover-bg-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text{all:unset;appearance:none;display:flex;align-items:center;justify-content:center;padding:0 5px;height:100%;width:100%}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text:focus-visible{outline:1px solid var(--ngx-editor-focus-ring-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text:after{display:inline-block;content:"";margin-left:24px;vertical-align:4px;border-top:4px solid;border-right:4px solid transparent;border-bottom:0;border-left:4px solid transparent}.NgxEditor__Dropdown .NgxEditor__Dropdown--DropdownMenu{position:absolute;left:0;box-shadow:var(--ngx-editor-popup-shadow);border-radius:var(--ngx-editor-popup-border-radius);background-color:var(--ngx-editor-popup-bg-color);z-index:10;width:100%;top:calc(var(--ngx-editor-menubar-height) + 2px);display:flex;flex-direction:column}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item{all:unset;appearance:none;padding:8px;white-space:nowrap;color:inherit}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item:focus-visible{outline:1px solid var(--ngx-editor-focus-ring-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item:hover{background-color:var(--ngx-editor-menu-item-hover-bg-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Selected,.NgxEditor__Dropdown .NgxEditor__Dropdown--Open{color:var(--ngx-editor-menu-item-active-color);background-color:var(--ngx-editor-menu-item-active-bg-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active{background-color:var(--ngx-editor-menu-item-active-bg-color)}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active:hover{background-color:var(--ngx-editor-menu-item-hover-bg-color)}.NgxEditor__MenuBar--Reverse .NgxEditor__Dropdown--DropdownMenu{top:unset;bottom:calc(var(--ngx-editor-menubar-height) + 2px)}.NgxEditor__MenuBar--Reverse .NgxEditor__Dropdown--Text:after{transform:rotate(180deg)}.NgxEditor__MenuBar--Reverse .NgxEditor__Popup{top:unset;bottom:calc(var(--ngx-editor-menubar-height) + 2px)}.NgxEditor__Popup{position:absolute;top:calc(var(--ngx-editor-menubar-height) + 2px);box-shadow:var(--ngx-editor-popup-shadow);border-radius:var(--ngx-editor-popup-border-radius);background-color:var(--ngx-editor-popup-bg-color);z-index:10;min-width:192px;padding:8px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup{margin-bottom:8px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup label{margin-bottom:3px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=text],.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=url]{padding:2px 4px}.NgxEditor__Popup .NgxEditor__Popup--Col{display:flex;flex-direction:column;position:relative}.NgxEditor__Popup .NgxEditor__Popup--Label{font-size:85%}.NgxEditor__Seperator{border-left:1px solid var(--ngx-editor-seperator-color);margin:0 5px}.NgxEditor__HelpText{font-size:80%}.NgxEditor__HelpText.NgxEditor__HelpText--Error{color:var(--ngx-editor-error-color)}
`],encapsulation:2});let t=e;return t})(),Io=(()=>{let e=class e{constructor(){this.customMenuRefChange=new at}setCustomMenuRef(r){this.customMenuRefChange.next(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ur=class{constructor(e){this.name=e}apply(){return(e,n)=>{let{schema:r}=e,i=r.marks[this.name];return i?ob(i)(e,n):!1}}toggle(){return(e,n)=>{let{schema:r}=e,i=r.marks[this.name];return i?Us(i)(e,n):!1}}isActive(e){let{schema:n}=e,r=n.marks[this.name];return r?Th(e,r):!1}canExecute(e){return this.toggle()(e)}},db=class{toggle(){return(e,n)=>{let{schema:r}=e,i=r.nodes.blockquote;return i?this.isActive(e)?mT(e,n):vT(i)(e,n):!1}}isActive(e){let{schema:n}=e,r=n.nodes.blockquote;return r?tb(e,r):!1}canExecute(e){return this.toggle()(e)}},fb=class{insert(){return(e,n)=>{let{schema:r,tr:i}=e,o=r.nodes.horizontal_rule;return o?(n(i.replaceSelectionWith(o.create()).scrollIntoView()),!0):!1}}canExecute(e){return IT(e,e.schema.nodes.horizontal_rule)}},Ol=class{constructor(e=!1){this.isBulletList=!1,this.isBulletList=e}getType(e){return this.isBulletList?e.nodes.bullet_list:e.nodes.ordered_list}toggle(){return(e,n)=>{let{schema:r}=e,i=this.getType(r);return i?this.isActive(e)?WC(r.nodes.list_item)(e,n):cT(i)(e,n):!1}}isActive(e){let{schema:n}=e,r=this.getType(n);return r?tb(e,r):!1}canExecute(e){return this.toggle()(e)}},Si=class{constructor(e){this.level=e}apply(){return(e,n)=>{let{schema:r}=e,i=r.nodes.heading;return i?Ih(i)(e,n):!1}}toggle(){return(e,n)=>{let{schema:r,selection:i,doc:o}=e,s=r.nodes.heading;if(!s)return!1;let a=i.$from.before(1),d=o.nodeAt(a)?.attrs??{};return this.isActive(e)?Ih(r.nodes.paragraph,d)(e,n):Ih(s,Pe(Z({},d),{level:this.level}))(e,n)}}isActive(e){let{schema:n}=e,r=nb(e),i=n.nodes.heading;if(!i)return!1;let o=[i,n.nodes.text,n.nodes.blockquote];return!!r.filter(l=>o.includes(l.type)).find(l=>l.attrs.level===this.level)}canExecute(e){return this.toggle()(e)}},Gs=class{constructor(e){this.align=e}toggle(){return(e,n)=>{let{doc:r,selection:i,tr:o,schema:s}=e,{from:a,to:l}=i,d=!1;return r.nodesBetween(a,l,(f,m)=>{let y=f.type;if([s.nodes.paragraph,s.nodes.heading].includes(y)){d=!0;let v=f.attrs.align===this.align?null:this.align;o.setNodeMarkup(m,y,Pe(Z({},f.attrs),{align:v}))}return!0}),d?(o.docChanged&&n?.(o),!0):!1}}isActive(e){return!!nb(e).find(i=>i.attrs.align===this.align)}canExecute(e){return this.toggle()(e)}},d5={strict:!0},pb=class{update(e){return(n,r)=>{let{schema:i,selection:o}=n,s=i.marks.link;return!s||o.empty?!1:Us(s,e)(n,r)}}insert(e,n){return(r,i)=>{let{schema:o,tr:s}=r;if(!o.marks.link)return!1;let l={href:n.href,title:n.title??e,target:n.target??"_blank"},d=o.text(e,[o.marks.link.create(l)]);return s.replaceSelectionWith(d,!1).scrollIntoView(),s.docChanged?(i?.(s),!0):!1}}isActive(e,n=d5){if(n.strict)return!0;let{schema:r}=e,i=r.marks.link;return i?Th(e,i):!1}remove(e,n){return MT()(e,n)}canExecute(e){let n={href:""};return this.insert("Exec",n)(e)||this.update(n)(e)}},ZT=class{insert(e,n){return(r,i)=>{let{schema:o,tr:s,selection:a}=r,l=o.nodes.image;if(!l)return!1;let d=Z({width:null,src:e},n);!d.width&&a instanceof De&&a.node.type===l&&(d.width=a.node.attrs.width),s.replaceSelectionWith(l.createAndFill(d));let f=s.doc.resolve(s.selection.anchor-s.selection.$anchor.nodeBefore.nodeSize);return s.setSelection(new De(f)).scrollIntoView(),s.docChanged?(i?.(s),!0):!1}}isActive(e){let{selection:n}=e;return n instanceof De?n.node.type.name==="image":!1}},Nl=class{constructor(e,n="color"){this.name=e,this.attrName=n}apply(e){return(n,r)=>{let{schema:i,selection:o,doc:s}=n,a=i.marks[this.name];if(!a)return!1;let{from:l,to:d,empty:f}=o;if(!f&&l+1===d){let m=s.nodeAt(l);if(m?.isAtom&&!m.isText&&m.isLeaf)return!1}return ob(a,e)(n,r)}}isActive(e){let{schema:n}=e,r=n.marks[this.name];return r?Th(e,r):!1}getActiveColors(e){if(!this.isActive(e))return[];let{schema:n}=e;return xT(e).filter(o=>o.type===n.marks[this.name]).map(o=>o.attrs[this.attrName]).filter(Boolean)}remove(){return(e,n)=>{let{schema:r}=e,i=r.marks[this.name];return i?TT(i)(e,n):!1}}canExecute(e){let n=this.name==="text_color"?{color:""}:{backgroundColor:""};return this.apply(n)(e)}},f5=["link"],hb=class{insert(){return(e,n)=>{let{tr:r}=e,{ranges:i,empty:o}=r.selection;return o||(Object.entries(e.schema.marks).forEach(([s,a])=>{f5.includes(s)||i.forEach(l=>{r.removeMark(l.$from.pos,l.$to.pos,a)})}),n(r)),!0}}canExecute(){return!0}},p5=["paragraph","heading","blockquote"],FT=0,LT=10,h5=(t,e,n)=>{let r=t.doc.nodeAt(e);if(!r)return!1;let i=r.attrs.indent??0,o=lI(i+(n==="increase"?1:-1),FT,LT);if(o===i||o<FT||o>LT)return!1;let s=Pe(Z({},r.attrs),{indent:o});return t.setNodeMarkup(e,r.type,s),!0},Rl=class{constructor(e){this.method="increase",this.method=e}insert(){return(e,n)=>{let{tr:r,doc:i}=e,{from:o,to:s}=r.selection,a=!1;return i.nodesBetween(o,s,(l,d)=>{let f=l.type;return p5.includes(f.name)?(a=h5(r,d,this.method),!1):!l.type.name.includes("list")}),a?(r.docChanged&&n?.(r),!0):!1}}canExecute(e){return this.insert()(e)}},Lh=class{constructor(e){this.mode="undo",this.mode=e}insert(){return(e,n)=>this.mode==="undo"?Oh(e,n):Au(e,n)}canExecute(e){return this.insert()(e)}},m5=new Ur("strong"),g5=new Ur("em"),y5=new Ur("code"),v5=new Ur("u"),C5=new Ur("s"),b5=new db,w5=new fb,_5=new hb,D5=new Ol(!0),S5=new Ol(!1),E5=new Si(1),x5=new Si(2),I5=new Si(3),M5=new Si(4),T5=new Si(5),A5=new Si(6),k5=new Gs("left"),N5=new Gs("center"),O5=new Gs("right"),R5=new Gs("justify"),P5=new pb,F5=new ZT,L5=new Nl("text_color","color"),V5=new Nl("text_background_color","backgroundColor"),B5=new Rl("increase"),j5=new Rl("decrease"),H5=new Ur("sup"),z5=new Ur("sub"),U5=new Lh("undo"),$5=new Lh("redo"),Vh={bold:m5,italic:g5,code:y5,underline:v5,strike:C5,blockquote:b5,bullet_list:D5,ordered_list:S5,h1:E5,h2:x5,h3:I5,h4:M5,h5:T5,h6:A5,align_left:k5,align_center:N5,align_right:O5,align_justify:R5,superscript:H5,subscript:z5},VT={horizontal_rule:w5,format_clear:_5,indent:B5,outdent:j5,undo:U5,redo:$5},Nu=P5,BT=F5,W5=L5,G5=V5,mb={bold:"Bold",italic:"Italic",code:"Code",underline:"Underline",strike:"Strike",blockquote:"Blockquote",bullet_list:"Bullet List",ordered_list:"Ordered List",heading:"Heading",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6",align_left:"Left Align",align_center:"Center Align",align_right:"Right Align",align_justify:"Justify",text_color:"Text Color",background_color:"Background Color",horizontal_rule:"Horizontal rule",format_clear:"Clear Formatting",insertLink:"Insert Link",removeLink:"Remove Link",insertImage:"Insert Image",indent:"Increase Indent",outdent:"Decrease Indent",superscript:"Superscript",subscript:"Subscript",undo:"Undo",redo:"Redo",url:"URL",text:"Text",openInNewTab:"Open in new tab",insert:"Insert",altText:"Alt Text",title:"Title",remove:"Remove",enterValidUrl:"Please enter a valid URL"},gb=class{constructor(e={}){this.locals=mb,this.get=n=>{let r=this.locals[n];return r?ic(r)?r:xe(r):xe("")},this.locals=Z(Z({},mb),e)}},q5=`
  <path d="M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z" />
`,K5=`
  <path d="M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z" />
`,Z5=`
<path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"/>
`,Y5=`
<path d="M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"/>
`,J5=`
<path d="M6.85,7.08C6.85,4.37,9.45,3,12.24,3c1.64,0,3,0.49,3.9,1.28c0.77,0.65,1.46,1.73,1.46,3.24h-3.01 c0-0.31-0.05-0.59-0.15-0.85c-0.29-0.86-1.2-1.28-2.25-1.28c-1.86,0-2.34,1.02-2.34,1.7c0,0.48,0.25,0.88,0.74,1.21 C10.97,8.55,11.36,8.78,12,9H7.39C7.18,8.66,6.85,8.11,6.85,7.08z M21,12v-2H3v2h9.62c1.15,0.45,1.96,0.75,1.96,1.97 c0,1-0.81,1.67-2.28,1.67c-1.54,0-2.93-0.54-2.93-2.51H6.4c0,0.55,0.08,1.13,0.24,1.58c0.81,2.29,3.29,3.3,5.67,3.3 c2.27,0,5.3-0.89,5.3-4.05c0-0.3-0.01-1.16-0.48-1.94H21V12z"/>
`,Q5=`
<path d="M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"/>
`,X5=`
<path d="M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"/>
`,e8=`
<path d="M0 0h24v24H0z" fill="none"/><path d="M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"/>
`,t8=`
<path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>
`,n8=`
<path d="M17 7h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.43-.98 2.63-2.31 2.98l1.46 1.46C20.88 15.61 22 13.95 22 12c0-2.76-2.24-5-5-5zm-1 4h-2.19l2 2H16zM2 4.27l3.11 3.11C3.29 8.12 2 9.91 2 12c0 2.76 2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1 0-1.59 1.21-2.9 2.76-3.07L8.73 11H8v2h2.73L13 15.27V17h1.73l4.01 4L20 19.74 3.27 3 2 4.27z"/>
`,r8=`
<path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/>
`,i8=`
<path d="M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z"/>
`,o8=`
<path d="M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z"/>
`,s8=`
<path d="M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z"/>
`,a8=`
<path d="M3 21h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18V7H3v2zm0-6v2h18V3H3z"/>
`,l8=`
<path d="M2,20h20v4H2V20z M5.49,17h2.42l1.27-3.58h5.65L16.09,17h2.42L13.25,3h-2.5L5.49,17z M9.91,11.39l2.03-5.79h0.12l2.03,5.79 H9.91z"/>
`,c8=`
<path d="M16.56,8.94L7.62,0L6.21,1.41l2.38,2.38L3.44,8.94c-0.59,0.59-0.59,1.54,0,2.12l5.5,5.5C9.23,16.85,9.62,17,10,17 s0.77-0.15,1.06-0.44l5.5-5.5C17.15,10.48,17.15,9.53,16.56,8.94z M5.21,10L10,5.21L14.79,10H5.21z M19,11.5c0,0-2,2.17-2,3.5 c0,1.1,0.9,2,2,2s2-0.9,2-2C21,13.67,19,11.5,19,11.5z M2,20h20v4H2V20z"/>
`,u8=`
  <g>
    <rect fill="none" fill-rule="evenodd" height="24" width="24"/>
    <rect fill-rule="evenodd" height="2" width="16" x="4" y="11"/>
  </g>
`,d8=`
<path d="M0 0h24v24H0z" fill="none"/><path d="M3.27 5L2 6.27l6.97 6.97L6.5 19h3l1.57-3.66L16.73 21 18 19.73 3.55 5.27 3.27 5zM6 5v.18L8.82 8h2.4l-.72 1.68 2.1 2.1L14.21 8H20V5H6z"/>
`,f8='<path d="M0 0h24v24H0V0z" fill="none"/><path d="M3 21h18v-2H3v2zM3 8v8l4-4-4-4zm8 9h10v-2H11v2zM3 3v2h18V3H3zm8 6h10V7H11v2zm0 4h10v-2H11v2z"/>',p8='<path d="M0 0h24v24H0V0z" fill="none"/><path d="M11 17h10v-2H11v2zm-8-5l4 4V8l-4 4zm0 9h18v-2H3v2zM3 3v2h18V3H3zm8 6h10V7H11v2zm0 4h10v-2H11v2z"/>',h8='<g><rect fill="none" height="20" width="20"/><path d="M17,6l-1,0v1h2v1l-3,0V6c0-0.55,0.45-1,1-1l1,0l0-1h-2V3l2,0c0.55,0,1,0.45,1,1v1C18,5.55,17.55,6,17,6z M5.63,16h1.9 l2.43-3.87h0.08L12.47,16h1.9l-3.32-5.2l3.1-4.8h-1.91l-2.19,3.56H9.96L7.75,6h-1.9l3.09,4.8L5.63,16z"/></g>',m8='<g><rect fill="none" height="20" width="20"/><path d="M17,15l-1,0v1h2v1h-3v-2c0-0.55,0.45-1,1-1l1,0l0-1h-2v-1l2,0c0.55,0,1,0.45,1,1v1C18,14.55,17.55,15,17,15z M5.63,14h1.9 l2.43-3.87h0.08L12.47,14h1.9l-3.32-5.2l3.1-4.8h-1.91l-2.19,3.56H9.96L7.75,4h-1.9l3.09,4.8L5.63,14z"/></g>',g8='<path d="M0 0h24v24H0V0z" fill="none"/><path d="M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"/>',y8='<path d="M0 0h24v24H0V0z" fill="none"/><path d="M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"/>',v8=20,C8=20,b8="currentColor",YT={bold:q5,italic:K5,code:Z5,underline:Y5,strike:J5,ordered_list:Q5,bullet_list:X5,blockquote:e8,link:t8,unlink:n8,image:r8,align_left:i8,align_center:o8,align_right:s8,align_justify:a8,text_color:l8,color_fill:c8,horizontal_rule:u8,format_clear:d8,indent:f8,outdent:p8,superscript:h8,subscript:m8,undo:g8,redo:y8,path:"<path></path>"},yb=class{static get(e,n=b8){let r=YT[e];return r&&(r.includes("<path")||r.includes("<g"))?`
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          fill=${n}
          height=${v8}
          width=${C8}
        >
          ${r}
        </svg>
      `:r}},vb=(()=>{let e=class e{constructor(){this.locals={},this.icons={}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),qs=(()=>{let e=class e{constructor(r){this.config=r}get locals(){return new gb(this.config.locals)}getIcon(r){return this.config.icons[r]?this.config.icons[r]:yb.get(r)}};e.\u0275fac=function(i){return new(i||e)(Ve(vb,8))},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),jT=t=>({locals:t.locals??{},icons:t.icons??{}}),Pl=(()=>{let e=class e{constructor(r){this.sanitizer=r}transform(r){return GT(r)?r:this.sanitizer.bypassSecurityTrustHtml(r)}};e.\u0275fac=function(i){return new(i||e)(re(Vv,16))},e.\u0275pipe=Cc({name:"sanitizeHtml",type:e,pure:!0});let t=e;return t})(),w8=(()=>{let e=class e{get name(){return this.toolbarItem}constructor(r,i){this.ngxeService=r,this.menuService=i,this.isActive=!1,this.disabled=!1,this.update=o=>{let{state:s}=o,a=Vh[this.name];this.isActive=a.isActive(s),this.disabled=!a.canExecute(s)}}toggle(){let{state:r,dispatch:i}=this.editorView;Vh[this.name].toggle()(r,i)}onMouseClick(r){r.preventDefault(),r.button===0&&this.toggle()}onKeydown(){this.toggle()}getTitle(r){return this.ngxeService.locals.get(r)}ngOnInit(){this.html=this.ngxeService.getIcon(this.name),this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(r=>{this.update(r)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)(re(qs),re(Io))},e.\u0275cmp=Fe({type:e,selectors:[["ngx-toggle-command"]],inputs:{toolbarItem:"toolbarItem"},decls:4,vars:14,consts:[["type","button",1,"NgxEditor__MenuItem--Icon",3,"mousedown","keydown.enter","keydown.space","disabled","innerHTML","title","ariaLabel"]],template:function(i,o){i&1&&(S(0,"button",0),qe(1,"sanitizeHtml"),qe(2,"async"),qe(3,"async"),Y("mousedown",function(a){return o.onMouseClick(a)})("keydown.enter",function(){return o.onKeydown()})("keydown.space",function(){return o.onKeydown()}),E()),i&2&&(ir("NgxEditor__MenuItem--Active",o.isActive)("NgxEditor--Disabled",o.disabled),$("disabled",o.disabled)("innerHTML",Ke(1,8,o.html),ja)("title",Ke(2,10,o.getTitle(o.name)))("ariaLabel",Ke(3,12,o.getTitle(o.name))))},dependencies:[as,Pl]});let t=e;return t})(),_8=(()=>{let e=class e{get name(){return this.toolbarItem}constructor(r,i){this.ngxeService=r,this.menuService=i,this.disabled=!1,this.update=o=>{let{state:s}=o,a=VT[this.name];this.disabled=!a.canExecute(s)}}onMouseClick(r){r.preventDefault(),r.button===0&&this.insert()}onKeydown(){this.insert()}insert(){let{state:r,dispatch:i}=this.editorView;VT[this.name].insert()(r,i)}getTitle(r){return this.ngxeService.locals.get(r)}ngOnInit(){this.html=this.ngxeService.getIcon(this.name),this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(r=>{this.update(r)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)(re(qs),re(Io))},e.\u0275cmp=Fe({type:e,selectors:[["ngx-insert-command"]],inputs:{toolbarItem:"toolbarItem"},decls:4,vars:12,consts:[[1,"NgxEditor__MenuItem--Icon",3,"mousedown","keydown.enter","keydown.space","disabled","innerHTML","title","ariaLabel"]],template:function(i,o){i&1&&(S(0,"button",0),qe(1,"sanitizeHtml"),qe(2,"async"),qe(3,"async"),Y("mousedown",function(a){return o.onMouseClick(a)})("keydown.enter",function(){return o.onKeydown()})("keydown.space",function(){return o.onKeydown()}),E()),i&2&&(ir("NgxEditor--Disabled",o.disabled),$("disabled",o.disabled)("innerHTML",Ke(1,6,o.html),ja)("title",Ke(2,8,o.getTitle(o.name)))("ariaLabel",Ke(3,10,o.getTitle(o.name))))},dependencies:[as,Pl]});let t=e;return t})(),HT={showOpenInNewTab:!0},D8=(()=>{let e=class e{constructor(r,i,o){this.el=r,this.ngxeService=i,this.menuService=o,this.options=HT,this.showPopup=!1,this.isActive=!1,this.canExecute=!0,this.componentId=K0(),this.setText=()=>{let{state:{selection:s,doc:a}}=this.editorView,{empty:l,from:d,to:f}=s,m=l?"":a.textBetween(d,f);m&&(this.text.patchValue(m),this.text.disable())},this.update=s=>{let{state:a}=s;this.isActive=Nu.isActive(a,{strict:!1}),this.canExecute=Nu.canExecute(a)}}get icon(){return this.ngxeService.getIcon(this.isActive?"unlink":"link")}get title(){return this.ngxeService.locals.get(this.isActive?"removeLink":"insertLink")}get href(){return this.form.get("href")}get text(){return this.form.get("text")}onDocumentClick(r){!this.el.nativeElement.contains(r.target)&&this.showPopup&&this.hidePopup()}getId(r){return`${r}-${this.componentId}`}getLabel(r){return this.ngxeService.locals.get(r)}hidePopup(){this.showPopup=!1,this.form.reset({href:"",text:"",openInNewTab:!0}),this.text.enable()}togglePopup(){let{state:r,dispatch:i}=this.editorView;if(this.isActive){Nu.remove(r,i);return}this.showPopup=!this.showPopup,this.showPopup&&this.setText()}onTogglePopupMouseClick(r){r.button===0&&this.togglePopup()}onTogglePopupKeydown(){this.togglePopup()}insertLink(r){r.preventDefault();let{text:i,href:o,openInNewTab:s}=this.form.getRawValue(),{dispatch:a,state:l}=this.editorView,{selection:d}=l,f;this.options.showOpenInNewTab&&(f=s?"_blank":"_self");let m={title:o,href:o,target:f};d.empty?(Nu.insert(i,m)(l,a),this.editorView.focus()):Nu.update(m)(l,a),this.hidePopup()}ngOnInit(){this.editorView=this.menuService.editor.view,this.form=new au({href:new mi("",[go.required,go.pattern(this.menuService.editor.linkValidationPattern)]),text:new mi("",[go.required]),openInNewTab:new mi(!0)}),this.updateSubscription=this.menuService.editor.update.subscribe(r=>{this.update(r)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)(re(Tt),re(qs),re(Io))},e.\u0275cmp=Fe({type:e,selectors:[["ngx-link"]],hostBindings:function(i,o){i&1&&Y("mousedown",function(a){return o.onDocumentClick(a)},!1,wc)},inputs:{options:[2,"options","options",r=>Z(Z({},HT),r)]},features:[Pf],decls:5,vars:16,consts:[["type","button","aria-haspopup","dialog",1,"NgxEditor__MenuItem--Icon",3,"mousedown","keydown.enter","keydown.space","disabled","innerHTML","title","ariaLabel","ariaExpanded"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],[1,"NgxEditor__Popup--Form",3,"ngSubmit","formGroup"],[1,"NgxEditor__Popup--FormGroup"],[1,"NgxEditor__Popup--Col"],[1,"NgxEditor__Popup--Label",3,"htmlFor"],["type","href","formControlName","href","autocomplete","off",3,"id"],["class","NgxEditor__HelpText NgxEditor__HelpText--Error",4,"ngIf"],["type","text","formControlName","text","autocomplete","off",3,"id"],["class","NgxEditor__Popup--FormGroup",4,"ngIf"],["type","submit",3,"disabled"],[1,"NgxEditor__HelpText","NgxEditor__HelpText--Error"],["type","checkbox","formControlName","openInNewTab"]],template:function(i,o){i&1&&(S(0,"button",0),qe(1,"sanitizeHtml"),qe(2,"async"),qe(3,"async"),Y("mousedown",function(a){return o.onTogglePopupMouseClick(a)})("keydown.enter",function(){return o.onTogglePopupKeydown()})("keydown.space",function(){return o.onTogglePopupKeydown()}),E(),tt(4,Mz,20,18,"div",1)),i&2&&(ir("NgxEditor__MenuItem--Active",o.isActive||o.showPopup)("NgxEditor--Disabled",!o.canExecute),$("disabled",!o.canExecute)("innerHTML",Ke(1,10,o.icon),ja)("title",Ke(2,12,o.title))("ariaLabel",Ke(3,14,o.title))("ariaExpanded",o.showPopup),A(4),$("ngIf",o.showPopup))},dependencies:[ss,q0,In,Es,ur,W0,Zp,Yp,as,Pl]});let t=e;return t})(),S8=(()=>{let e=class e{constructor(r,i,o){this.ngxeService=r,this.menuService=i,this.el=o,this.isDropdownOpen=!1,this.disabledItems=[],this.update=s=>{let{state:a}=s;this.disabledItems=[];let l=[];this.items.forEach(d=>{let f=Vh[d];f.isActive(a)&&l.push(d),f.canExecute(a)||this.disabledItems.push(d)}),l.length===1?[this.activeItem]=l:this.activeItem=null}}get isSelected(){return!!(this.activeItem||this.isDropdownOpen)}get isDropdownDisabled(){return this.disabledItems.length===this.items.length}onDocumentClick(r){!this.el.nativeElement.contains(r)&&this.isDropdownOpen&&(this.isDropdownOpen=!1)}getName(r){return this.ngxeService.locals.get(r)}getIsDropdownActive(r){return this.activeItem===r}toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen}onToggleDropdownMouseClick(r){r.preventDefault(),r.button===0&&this.toggleDropdown()}onToggleDropdownKeydown(){this.toggleDropdown()}trackByIndex(r){return r}selectItem(r){let i=Vh[r],{state:o,dispatch:s}=this.editorView;i.toggle()(o,s),this.isDropdownOpen=!1}onDropdownItemMouseClick(r,i){r.preventDefault(),r.button===0&&this.selectItem(i)}onDropdownItemKeydown(r,i){r.preventDefault(),this.selectItem(i)}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(r=>{this.update(r)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)(re(qs),re(Io),re(Tt))},e.\u0275cmp=Fe({type:e,selectors:[["ngx-dropdown"]],hostBindings:function(i,o){i&1&&Y("mousedown",function(a){return o.onDocumentClick(a.target)},!1,wc)},inputs:{group:"group",items:"items"},decls:5,vars:13,consts:[["type","button","aria-haspopup","listbox",1,"NgxEditor__Dropdown--Text",3,"mousedown","keydown.enter","keydown.space","disabled","ariaLabel","ariaExpanded"],["class","NgxEditor__Dropdown--DropdownMenu","role","listbox",4,"ngIf"],["role","listbox",1,"NgxEditor__Dropdown--DropdownMenu"],["type","button","class","NgxEditor__Dropdown--Item","role","option",3,"ngClass","ariaLabel","mousedown","keydown.enter","keydown.space",4,"ngFor","ngForOf","ngForTrackBy"],["type","button","role","option",1,"NgxEditor__Dropdown--Item",3,"mousedown","keydown.enter","keydown.space","ngClass","ariaLabel"]],template:function(i,o){i&1&&(S(0,"button",0),qe(1,"async"),Y("mousedown",function(a){return o.onToggleDropdownMouseClick(a)})("keydown.enter",function(){return o.onToggleDropdownKeydown()})("keydown.space",function(){return o.onToggleDropdownKeydown()}),j(2),qe(3,"async"),E(),tt(4,kz,2,2,"div",1)),i&2&&(ir("NgxEditor__Dropdown--Selected",o.isSelected)("NgxEditor--Disabled",o.isDropdownDisabled),$("disabled",o.isDropdownDisabled)("ariaLabel",Ke(1,9,o.getName(o.activeItem||o.group)))("ariaExpanded",o.isDropdownOpen),A(2),Rr(" ",Ke(3,11,o.getName(o.activeItem||o.group)),`
`),A(2),$("ngIf",o.isDropdownOpen))},dependencies:[is,Gf,ss,as]});let t=e;return t})(),E8=(()=>{let e=class e{constructor(r,i,o){this.el=r,this.ngxeService=i,this.menuService=o,this.showPopup=!1,this.isActive=!1,this.componentId=K0(),this.form=new au({src:new mi("",[go.required,go.pattern(`(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/??([^#
\r]*)?#?([^
\r]*)`)]),alt:new mi(""),title:new mi("")}),this.update=s=>{let{state:a}=s;this.isActive=BT.isActive(a)}}get icon(){return this.ngxeService.getIcon("image")}get src(){return this.form.get("src")}onDocumentClick(r){!this.el.nativeElement.contains(r.target)&&this.showPopup&&this.hideForm()}getId(r){return`${r}-${this.componentId}`}getLabel(r){return this.ngxeService.locals.get(r)}hideForm(){this.showPopup=!1,this.form.reset({src:"",alt:"",title:""})}togglePopup(){this.showPopup=!this.showPopup,this.showPopup&&this.fillForm()}onTogglePopupMouseClick(r){r.button===0&&this.togglePopup()}onTogglePopupKeydown(){this.togglePopup()}fillForm(){let{state:r}=this.editorView,{selection:i}=r;if(i instanceof De&&this.isActive){let{src:o,alt:s="",title:a=""}=i.node.attrs;this.form.setValue({src:o,alt:s,title:a})}}insertLink(r){r.preventDefault();let{src:i,alt:o,title:s}=this.form.getRawValue(),{dispatch:a,state:l}=this.editorView,d={alt:o,title:s};BT.insert(i,d)(l,a),this.editorView.focus(),this.hideForm()}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(r=>{this.update(r)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)(re(Tt),re(qs),re(Io))},e.\u0275cmp=Fe({type:e,selectors:[["ngx-image"]],hostBindings:function(i,o){i&1&&Y("mousedown",function(a){return o.onDocumentClick(a)},!1,wc)},decls:5,vars:13,consts:[["type","button","aria-haspopup","dialog",1,"NgxEditor__MenuItem--Icon",3,"mousedown","keydown.enter","keydown.space","innerHTML","title","ariaLabel","ariaExpanded"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],[1,"NgxEditor__Popup--Form",3,"ngSubmit","formGroup"],[1,"NgxEditor__Popup--FormGroup"],[1,"NgxEditor__Popup--Col"],[1,"NgxEditor__Popup--Label",3,"htmlFor"],["type","href","formControlName","src","autocomplete","off",3,"id"],["class","NgxEditor__HelpText NgxEditor__HelpText--Error",4,"ngIf"],["type","text","formControlName","alt","autocomplete","off",3,"id"],["type","text","formControlName","title","autocomplete","off",3,"id"],["type","submit",3,"disabled"],[1,"NgxEditor__HelpText","NgxEditor__HelpText--Error"]],template:function(i,o){i&1&&(S(0,"button",0),qe(1,"sanitizeHtml"),qe(2,"async"),qe(3,"async"),Y("mousedown",function(a){return o.onTogglePopupMouseClick(a)})("keydown.enter",function(){return o.onTogglePopupKeydown()})("keydown.space",function(){return o.onTogglePopupKeydown()}),E(),tt(4,Oz,24,21,"div",1)),i&2&&(ir("NgxEditor__MenuItem--Active",o.isActive||o.showPopup),$("innerHTML",Ke(1,7,o.icon),ja)("title",Ke(2,9,o.getLabel("insertImage")))("ariaLabel",Ke(3,11,o.getLabel("insertImage")))("ariaExpanded",o.showPopup),A(4),$("ngIf",o.showPopup))},dependencies:[ss,q0,In,ur,W0,Zp,Yp,as,Pl]});let t=e;return t})(),x8=(()=>{let e=class e{constructor(r,i,o){this.el=r,this.menuService=i,this.ngxeService=o,this.showPopup=!1,this.isActive=!1,this.activeColors=[],this.canExecute=!0,this.update=s=>{let{state:a}=s;this.canExecute=this.command.canExecute(a),this.isActive=this.command.isActive(a),this.activeColors=[],this.isActive&&(this.activeColors=this.command.getActiveColors(a))}}get title(){return this.getLabel(this.type==="text_color"?"text_color":"background_color")}get icon(){return this.ngxeService.getIcon(this.type==="text_color"?"text_color":"color_fill")}get command(){return this.type==="text_color"?W5:G5}getContrastYIQ(r){let i=r.replace("#",""),o=parseInt(i.substring(0,2),16),s=parseInt(i.substring(2,4),16),a=parseInt(i.substring(4,6),16);return(o*299+s*587+a*114)/1e3>=128?"black":"white"}onDocumentClick(r){!this.el.nativeElement.contains(r.target)&&this.showPopup&&this.hidePopup()}hidePopup(){this.showPopup=!1}togglePopup(){this.showPopup=!this.showPopup}onTogglePopupMouseClick(r){r.preventDefault(),r.button===0&&this.togglePopup()}onTogglePopupKeydown(){this.togglePopup()}remove(){let{state:r,dispatch:i}=this.editorView;this.command.remove()(r,i),this.hidePopup()}onRemoveMouseClick(r){r.preventDefault(),r.button===0&&(r.preventDefault(),this.remove())}onRemoveKeydown(){this.remove()}trackByIndex(r){return r}selectColor(r){let{state:i,dispatch:o}=this.editorView;if(this.type==="text_color"){let s={color:r};this.command.apply(s)(i,o)}else{let s={backgroundColor:r};this.command.apply(s)(i,o)}this.editorView.hasFocus()||this.editorView.focus(),this.hidePopup()}onColorSelectMouseClick(r,i){r.preventDefault(),r.button===0&&this.selectColor(i)}onColorSelectKeydown(r){this.selectColor(r)}getLabel(r){return this.ngxeService.locals.get(r)}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(r=>{this.update(r)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)(re(Tt),re(Io),re(qs))},e.\u0275cmp=Fe({type:e,selectors:[["ngx-color-picker"]],hostBindings:function(i,o){i&1&&Y("mousedown",function(a){return o.onDocumentClick(a)},!1,wc)},inputs:{presets:"presets",type:"type"},decls:5,vars:15,consts:[["type","button",1,"NgxEditor__MenuItem--Icon",3,"mousedown","keydown.enter","keydown.space","disabled","innerHTML","title","ariaLabel"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],["class","NgxEditor__ColorContainer",4,"ngFor","ngForOf","ngForTrackBy"],[1,"NgxEditor__MenuItem--Button",3,"mousedown","keydown.enter","keydown.space","disabled"],[1,"NgxEditor__ColorContainer"],["class","NgxEditor__Color",3,"ngStyle","title","ngClass","mousedown","keydown.enter","keydown.space",4,"ngFor","ngForOf","ngForTrackBy"],[1,"NgxEditor__Color",3,"mousedown","keydown.enter","keydown.space","ngStyle","title","ngClass"]],template:function(i,o){i&1&&(S(0,"button",0),qe(1,"sanitizeHtml"),qe(2,"async"),qe(3,"async"),Y("mousedown",function(a){return o.onTogglePopupMouseClick(a)})("keydown.enter",function(){return o.onTogglePopupKeydown()})("keydown.space",function(){return o.onTogglePopupKeydown()}),E(),tt(4,Vz,5,6,"div",1)),i&2&&(ir("NgxEditor__MenuItem--Active",o.isActive||o.showPopup)("NgxEditor--Disabled",!o.canExecute),$("disabled",!o.canExecute)("innerHTML",Ke(1,9,o.icon),ja)("title",Ke(2,11,o.title))("ariaLabel",Ke(3,13,o.title)),A(4),$("ngIf",o.showPopup))},dependencies:[is,Gf,ss,CE,as,Pl],styles:['@charset "UTF-8";.NgxEditor__Popup[_ngcontent-%COMP%]{width:230px}.NgxEditor__ColorContainer[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.NgxEditor__ColorContainer[_ngcontent-%COMP%] + .NgxEditor__ColorContainer[_ngcontent-%COMP%]{margin-top:5px}.NgxEditor__Color[_ngcontent-%COMP%]{border:none;outline:none;border-radius:6px;width:24px;height:24px;flex-shrink:0}.NgxEditor__Color[_ngcontent-%COMP%]:focus-visible{outline:1px solid var(--ngx-editor-focus-ring-color);outline-offset:1px}.NgxEditor__Color--Active[_ngcontent-%COMP%]:after{content:"\\2714";font-size:90%}.NgxEditor__MenuItem--Button[_ngcontent-%COMP%]{margin-top:5px}']});let t=e;return t})();var I8=[["bold","italic"],[{heading:["h1","h2","h3","h4","h5","h6"]}],["link","image"],["text_color","background_color"]];var M8=["#b60205","#d93f0b","#fbca04","#0e8a16","#006b75","#1d76db","#0052cc","#5319e7","#e99695","#f9d0c4","#fef2c0","#c2e0c6","#bfdadc","#c5def5","#bfd4f2","#d4c5f9"],To=(()=>{let e=class e{constructor(r){this.menuService=r,this.toolbar=I8,this.colorPresets=M8,this.disabled=!1,this.customMenuRef=null,this.dropdownPlacement="bottom",this.toggleCommands=["bold","italic","underline","strike","code","blockquote","ordered_list","bullet_list","align_left","align_center","align_right","align_justify","superscript","subscript"],this.insertCommands=["horizontal_rule","format_clear","indent","outdent","undo","redo"],this.iconContainerClass=["NgxEditor__MenuItem","NgxEditor__MenuItem--IconContainer"],this.dropdownContainerClass=["NgxEditor__Dropdown"],this.seperatorClass=["NgxEditor__Seperator"]}get presets(){let i=[];return this.colorPresets.forEach((o,s)=>{let a=Math.floor(s/8);i[a]||i.push([]),i[a].push(o)}),i}trackByIndex(r){return r}isDropDown(r){return!!r?.heading}getDropdownItems(r){return r}isLinkItem(r){return r==="link"?!0:typeof r=="object"&&typeof r?.link=="object"}isLinkWithOptions(r){return typeof r=="object"&&typeof r?.link=="object"}getLinkOptions(r){return r?.link}ngOnInit(){if(!this.editor)throw new Cl("Required editor instance to initialize menu component");this.menuService.editor=this.editor}};e.\u0275fac=function(i){return new(i||e)(re(Io))},e.\u0275cmp=Fe({type:e,selectors:[["ngx-editor-menu"]],inputs:{toolbar:"toolbar",colorPresets:"colorPresets",disabled:"disabled",editor:"editor",customMenuRef:"customMenuRef",dropdownPlacement:"dropdownPlacement"},features:[ci([Io])],decls:3,vars:7,consts:[[1,"NgxEditor__MenuBar",3,"ngClass"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[3,"toolbarItem","class",4,"ngIf"],[3,"class",4,"ngIf"],["type","text_color",3,"class","presets",4,"ngIf"],["type","background_color",3,"class","presets",4,"ngIf"],[3,"toolbarItem"],[3,"options"],[3,"class","group","items",4,"ngFor","ngForOf","ngForTrackBy"],[3,"group","items"],["type","text_color",3,"presets"],["type","background_color",3,"presets"],[3,"ngTemplateOutlet"]],template:function(i,o){i&1&&(S(0,"div",0),tt(1,Yz,2,2,"ng-container",1)(2,Jz,2,1,"ng-container",2),E()),i&2&&($("ngClass",Bf(4,Bz,o.disabled,o.dropdownPlacement==="top")),A(),$("ngForOf",o.toolbar)("ngForTrackBy",o.trackByIndex),A(),$("ngIf",o.customMenuRef))},dependencies:[is,Gf,ss,bE,w8,_8,D8,S8,E8,x8,wE]});let t=e;return t})();var T8=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=tr({type:e}),e.\u0275inj=er({providers:[Pl],imports:[qf,sI]});let t=e;return t})(),Fh=new _e("NgxEditorConfig"),zT={locals:mb,icons:YT},Ao=(()=>{let e=class e{static forRoot(r=zT){return{ngModule:e,providers:[{provide:Fh,useValue:r},{provide:vb,useFactory:jT,deps:[Fh]}]}}static forChild(r=zT){return{ngModule:e,providers:[{provide:Fh,useValue:r},{provide:vb,useFactory:jT,deps:[Fh]},qs]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=tr({type:e}),e.\u0275inj=er({imports:[qf,T8]});let t=e;return t})();var vn=(t,e=!1)=>(n,r)=>{let i=new Ur(t);return e?i.toggle()(n,r):i.apply()(n,r)},Cb=class{constructor(e){if(this.applyTrx=n=>{this.state=this.state.apply(n??this.tr),this.tr=this.state.tr,this.tr.setMeta("APPLIED_TRX",!0)},this.dispatch=n=>{this.applyTrx(n)},!e)throw new Cl("Required view to initialize commands.");this.view=e,this.state=e.state,this.tr=this.view.state.tr}exec(){if(!this.tr.getMeta("APPLIED_TRX"))return!1;let e=!this.view.state.doc.eq(this.state.doc);this.view.updateState(this.state);let n=this.tr.setMeta("FORCE_EMIT",e);return this.view.dispatch(n),!0}focus(e="end"){let n=e==="start"?Be.atStart(this.state.doc):Be.atEnd(this.state.doc);return this.tr.setSelection(n),this.applyTrx(),this.view.focus(),this}scrollIntoView(){return this.tr.scrollIntoView(),this.applyTrx(),this}insertText(e){return this.tr.insertText(e),this.applyTrx(),this}insertNewLine(){return kl(...[KC,JC,QC,XC])(this.state,this.dispatch),this}applyMark(e){return vn(e,!1)(this.state,this.dispatch),this}toggleMark(e){return vn(e,!0)(this.state,this.dispatch),this}bold(){return vn("strong")(this.state,this.dispatch),this}toggleBold(){return vn("strong",!0)(this.state,this.dispatch),this}italics(){return vn("em")(this.state,this.dispatch),this}toggleItalics(){return vn("em",!0)(this.state,this.dispatch),this}underline(){return vn("u")(this.state,this.dispatch),this}toggleUnderline(){return vn("u",!0)(this.state,this.dispatch),this}strike(){return vn("s")(this.state,this.dispatch),this}toggleStrike(){return vn("s",!0)(this.state,this.dispatch),this}code(){return vn("code")(this.state,this.dispatch),this}toggleCode(){return vn("code",!0)(this.state,this.dispatch),this}superscript(){return vn("sup")(this.state,this.dispatch),this}subscript(){return vn("sub")(this.state,this.dispatch),this}toggleOrderedList(){return new Ol(!1).toggle()(this.state,this.dispatch),this}toggleBulletList(){return new Ol(!0).toggle()(this.state,this.dispatch),this}toggleHeading(e){return new Si(e).toggle()(this.state,this.dispatch),this}insertLink(e,n){return new pb().insert(e,n)(this.state,this.dispatch),this}updateLink(e){return new pb().update(e)(this.state,this.dispatch),this}insertImage(e,n={}){return new ZT().insert(e,n)(this.state,this.dispatch),this}textColor(e){return new Nl("text_color").apply({color:e})(this.state,this.dispatch),this}backgroundColor(e){return new Nl("text_background_color").apply({backgroundColor:e})(this.state,this.dispatch),this}removeTextColor(){return new Nl("text_color").remove()(this.state,this.dispatch),this}removeBackgroundColor(){return new Nl("text_background_color").remove()(this.state,this.dispatch),this}align(e){return new Gs(e).toggle()(this.state,this.dispatch),this}insertHTML(e){let{selection:n,schema:r,tr:i}=this.state,{from:o,to:s}=n,a=document.createElement("div");a.innerHTML=WT(e)?e.trim():e;let l=Co.fromSchema(r).parseSlice(a),d=i.replaceRange(o,s,l);return this.applyTrx(d),this}indent(){return new Rl("increase").insert()(this.state,this.dispatch),this}outdent(){return new Rl("decrease").insert()(this.state,this.dispatch),this}},A8=typeof navigator<"u"?/Mac/.test(navigator.platform):!1,k8=t=>Mh(/^\s*>\s$/,t),N8=t=>Mh(/^(?:\d+)\.\s$/,t,e=>({order:Number(e[1])}),(e,n)=>n.childCount+n.attrs.order===Number(e[1])),O8=t=>Mh(/^\s*(?:[-+*])\s$/,t),R8=t=>eb(/^```$/,t),P8=(t,e)=>eb(new RegExp(`^(#{1,${e}})\\s$`),t,n=>({level:n[1].length})),F8=t=>ib(/(?:^|\s)(?:(\*\*|__)(?:([^*_]+))(\*\*|__))$/,t),L8=t=>ib(/(?:^|\s)(?:(\*|_)(?:([^*_]+))(\*|_))$/,t),V8=t=>{let e=ET.concat(ST,DT);return e.push(F8(t.marks.strong)),e.push(L8(t.marks.em)),e.push(k8(t.nodes.blockquote)),e.push(N8(t.nodes.ordered_list)),e.push(O8(t.nodes.bullet_list)),e.push(R8(t.nodes.code_block)),e.push(P8(t.nodes.heading,6)),_T({rules:e})},B8=(t,e)=>{let n={};n["Mod-z"]=Oh,A8?n["Shift-Mod-z"]=Au:n["Mod-y"]=Au;let r=[ku({"Mod-b":Us(t.marks.strong),"Mod-i":Us(t.marks.em),"Mod-u":Us(t.marks.u),"Mod-`":Us(t.marks.code)}),ku({Enter:uT(t.nodes.list_item),"Shift-Enter":kl(YC,(i,o)=>{let{tr:s}=i,a=t.nodes.hard_break;return o(s.replaceSelectionWith(a.create()).scrollIntoView()),!0}),"Mod-[":WC(t.nodes.list_item),"Mod-]":GC(t.nodes.list_item),Tab:GC(t.nodes.list_item)}),ku(bT)];return e.history&&r.push(ku(n)),r},j8=(t,e)=>{let n=[];return e.keyboardShortcuts&&n.push(...B8(t,{history:e.history})),e.history&&n.push(OT()),e.inputRules&&n.push(V8(t)),n},JT={linkOnPaste:!0,resizeImage:!0},UT={content:null,history:!0,keyboardShortcuts:!0,inputRules:!0,schema:Tu,plugins:[],nodeViews:{},attributes:{},features:JT,handleScrollToSelection:null,linkValidationPattern:`(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/??([^#
\r]*)?#?([^
\r]*)|(mailto:.*[@].*)`},Un=class{constructor(e=UT){this.valueChangesSubject=new at,this.updateSubject=new at,this.options=Z(Z({},UT),e),this.createEditor()}get valueChanges(){return this.valueChangesSubject.asObservable()}get update(){return this.updateSubject.asObservable()}get schema(){return this.options.schema||Tu}get linkValidationPattern(){return this.options.linkValidationPattern}get commands(){return new Cb(this.view)}get features(){return Z(Z({},JT),this.options.features)}handleTransactions(e){let n=this.view.state.apply(e);if(this.view.updateState(n),this.updateSubject.next(this.view),!e.docChanged&&!e.getMeta("FORCE_EMIT"))return;let r=n.doc.toJSON();this.valueChangesSubject.next(r)}createEditor(){let{options:e,schema:n}=this,{content:r=null,nodeViews:i}=e,{history:o=!0,keyboardShortcuts:s=!0,inputRules:a=!0}=e,l=PT(r,n,e.parseOptions),d=e.plugins??[],f=e.attributes??{},m=j8(n,{history:o,keyboardShortcuts:s,inputRules:a});this.view=new Sh(null,{state:hh.create({doc:l,schema:n,plugins:[...m,...d]}),nodeViews:i,dispatchTransaction:this.handleTransactions.bind(this),attributes:f,handleScrollToSelection:e.handleScrollToSelection})}setContent(e){if(aI(e))return;let{state:n}=this.view,{tr:r,doc:i}=n,o=PT(e,this.schema,this.options.parseOptions);r.replaceWith(0,n.doc.content.size,o),!i.eq(r.doc)&&r.docChanged&&this.view.dispatch(r)}registerPlugin(e){let{state:n}=this.view,r=[...n.plugins,e],i=n.reconfigure({plugins:r});this.view.updateState(i)}destroy(){this.view.destroy()}};var jh=jk(QT(),1),XT=Symbol.for("Dexie"),Hh=globalThis[XT]||(globalThis[XT]=jh.default);if(jh.default.semVer!==Hh.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${jh.default.semVer} and ${Hh.semVer}`);var{liveQuery:are,mergeRanges:lre,rangesOverlap:cre,RangeSet:ure,cmp:dre,Entity:fre,PropModSymbol:pre,PropModification:hre,replacePrefix:mre,add:gre,remove:yre}=Hh;var eA=Hh;var $r=(()=>{let e=class e extends eA{constructor(){super("Stacla"),this.ShipAssetType=1,this.version(1).stores({Campaigns:"++Id",Logs:"++Id,CampaignId",Characters:"++Id,CampaignId",Assets:"++Id,CampaignId,Type"})}getCampaign(r){return this.Campaigns.get({Id:r})}putCampaign(r){this.Campaigns.put(r)}getLog(r){return this.Logs.get({Id:r})}putLog(r){this.Logs.put(r)}deleteLog(r){this.Logs.delete(r)}getLogs(r){return this.Logs.where({CampaignId:r}).toArray()}getCharacter(r){return this.Characters.get({Id:r})}putCharacter(r){console.log(r),this.Characters.put(r)}deleteCharacter(r){this.Characters.delete(r)}getCharacters(r){return this.Characters.where({CampaignId:r}).toArray()}getAsset(r){return this.Assets.get({Id:r})}putAsset(r){r.Type=this.ShipAssetType,this.Assets.put(r)}deleteAsset(r){this.Assets.delete(r)}getAssets(r){return this.Assets.where({CampaignId:r}).toArray()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var tA=(()=>{let e=class e{constructor(){this.database=V($r),this.campaignId=0,this.title="",this.editor=new Un,this.notes=""}ngOnInit(){this.database.getCampaign(this.campaignId).then(r=>{r!=null&&(this.title=r.Title,this.notes=r.Notes)})}ngOnDestroy(){this.editor.destroy()}save(){this.database.putCampaign({Id:this.campaignId,Title:this.title,Notes:this.notes})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Fe({type:e,selectors:[["app-tab-campaign"]],standalone:!0,features:[Qe],decls:15,vars:4,consts:[[1,"grid","grid-cols-1","gap-2"],[1,"form-control","w-full","max-w-xs"],[1,"label"],[1,"label-text"],["type","text","placeholder","Campaign Title",1,"input","input-bordered","w-full","max-w-xs",3,"ngModelChange","ngModel"],[1,"label","w-full"],[1,"NgxEditor__Wrapper","w-full"],[3,"editor"],[3,"ngModelChange","ngModel","editor"],[1,"btn","btn-warning","join-item","rounded-full","w-1/4",3,"click"]],template:function(i,o){i&1&&(S(0,"div",0)(1,"label",1)(2,"div",2)(3,"span",3),j(4,"Campaign Title"),E()(),S(5,"input",4),ce("ngModelChange",function(a){return de(o.title,a)||(o.title=a),a}),E()(),S(6,"label")(7,"div",5)(8,"span",3),j(9,"Campaign Notes"),E()(),S(10,"div",6),J(11,"ngx-editor-menu",7),S(12,"ngx-editor",8),ce("ngModelChange",function(a){return de(o.notes,a)||(o.notes=a),a}),E()()(),S(13,"button",9),Y("click",function(){return o.save()}),j(14,"Save"),E()()),i&2&&(A(5),le("ngModel",o.title),A(6),$("editor",o.editor),A(),le("ngModel",o.notes),$("editor",o.editor))},dependencies:[Ao,Mo,To,vo,In,ur,gi]});let t=e;return t})();var Fl=(()=>{let e=class e{constructor(){this.database=V($r),this.campaignId=0,this.charSubject=new at}newCharacter(){this.database.putCharacter({CampaignId:this.campaignId,Name:"New Character",AttControl:1,AttDaring:1,AttFitness:1,AttInsight:1,AttPresence:1,AttReason:1,DisCommand:1,DisConn:1,DisSecurity:1,DisEngineering:1,DisScience:1,DisMedical:1,IsInCrew:!1,IsInScene:!1}),this.refreshCharacters()}refreshCharacters(){this.database.getCharacters(this.campaignId).then(r=>{this.charSubject.next(r)})}getCharacter(r){return this.database.getCharacter(r)}putCharacter(r){this.database.putCharacter(r),this.refreshCharacters()}deleteCharacter(r){this.database.deleteCharacter(r),this.refreshCharacters()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var nA=(()=>{let e=class e{constructor(){this.characterService=V(Fl),this.characterId=0,this.characterUpdatedEvent=new We,this.CampaignId=0,this.Name="",this.AttControl=1,this.AttDaring=1,this.AttFitness=1,this.AttInsight=1,this.AttPresence=1,this.AttReason=1,this.DisCommand=1,this.DisConn=1,this.DisSecurity=1,this.DisEngineering=1,this.DisScience=1,this.DisMedical=1,this.editor=new Un,this.IsInCrew=!1,this.IsInScene=!1}ngOnInit(){this.characterId!=null&&this.characterService.getCharacter(this.characterId).then(r=>{r!=null&&(this.Id=r.Id,this.CampaignId=r.CampaignId,this.Name=r.Name,this.Environment=r.Environment,this.Pronouns=r.Pronouns,this.EarlyOutlook=r.EarlyOutlook,this.Traits=r.Traits,this.Education=r.Education,this.Rank=r.Rank,this.Assignment=r.Assignment,this.CareerLength=r.CareerLength,this.CareerEvents=r.CareerEvents,this.Focuses=r.Focuses,this.Values=r.Values,this.AttControl=r.AttControl,this.AttDaring=r.AttDaring,this.AttFitness=r.AttFitness,this.AttInsight=r.AttInsight,this.AttPresence=r.AttPresence,this.AttReason=r.AttReason,this.DisCommand=r.DisCommand,this.DisConn=r.DisConn,this.DisSecurity=r.DisSecurity,this.DisEngineering=r.DisEngineering,this.DisScience=r.DisScience,this.DisMedical=r.DisMedical,this.Notes=r.Notes,this.IsInCrew=r.IsInCrew,this.IsInScene=r.IsInScene)}),this.editor=new Un}ngOnDestroy(){this.editor.destroy()}save(){this.characterService.putCharacter({CampaignId:this.CampaignId,Id:this.characterId,Name:this.Name,Environment:this.Environment,Pronouns:this.Pronouns,EarlyOutlook:this.EarlyOutlook,Traits:this.Traits,Education:this.Education,Rank:this.Rank,Assignment:this.Assignment,CareerLength:this.CareerLength,CareerEvents:this.CareerEvents,Focuses:this.Focuses,Values:this.Values,AttControl:this.AttControl,AttDaring:this.AttDaring,AttFitness:this.AttFitness,AttInsight:this.AttInsight,AttPresence:this.AttPresence,AttReason:this.AttReason,DisCommand:this.DisCommand,DisConn:this.DisConn,DisSecurity:this.DisSecurity,DisEngineering:this.DisEngineering,DisScience:this.DisScience,DisMedical:this.DisMedical,Notes:this.Notes,IsInCrew:this.IsInCrew,IsInScene:this.IsInScene})}delete(){this.characterId!=null&&this.characterService.deleteCharacter(this.characterId)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Fe({type:e,selectors:[["app-character"]],inputs:{characterId:"characterId"},outputs:{characterUpdatedEvent:"characterUpdatedEvent"},standalone:!0,features:[Qe],decls:147,vars:29,consts:[[1,"grid","grid-cols-3","gap-2"],[1,"form-control"],[1,"label","cursor-pointer","h-full"],[1,"label-text","text-right","w-full","mr-5"],["type","checkbox","disabled","true",1,"checkbox"],["type","checkbox",1,"checkbox",3,"ngModelChange","ngModel"],[1,"grid","grid-cols-2","gap-2"],[1,"form-control","w-full","max-w-xs"],[1,"label"],[1,"label-text"],["type","text",1,"input","input-bordered","w-full","max-w-xs",3,"ngModelChange","ngModel"],[1,"col-span-2"],[1,"label","w-full"],[1,"join"],[1,"btn","btn-primary","join-item","rounded-l-full","w-1/2"],[1,"input","input-bordered","join-item","rounded-r-full","w-1/2",3,"ngModelChange","ngModel"],[1,"textarea","textarea-bordered","w-full","max-w-xs",3,"ngModelChange","ngModel"],[1,"NgxEditor__Wrapper","w-full"],[3,"editor"],[3,"ngModelChange","ngModel","editor"],[1,"flex"],[1,"btn","btn-warning","join-item","rounded-full","flex-initial","w-48","mx-2",3,"click"],[1,"btn","btn-error","join-item","rounded-full","flex-initial","w-48","mx-2",3,"click"]],template:function(i,o){i&1&&(S(0,"div",0)(1,"div",1)(2,"label",2)(3,"span",3),j(4,"Focused Character"),E(),J(5,"input",4),E()(),S(6,"div",1)(7,"label",2)(8,"span",3),j(9,"Is in Crew"),E(),S(10,"input",5),ce("ngModelChange",function(a){return de(o.IsInCrew,a)||(o.IsInCrew=a),a}),E()()(),S(11,"div",1)(12,"label",2)(13,"span",3),j(14,"Is in Scene"),E(),S(15,"input",5),ce("ngModelChange",function(a){return de(o.IsInScene,a)||(o.IsInScene=a),a}),E()()()(),S(16,"div",6)(17,"label",7)(18,"div",8)(19,"span",9),j(20,"Name"),E()(),S(21,"input",10),ce("ngModelChange",function(a){return de(o.Name,a)||(o.Name=a),a}),E()(),S(22,"label",7)(23,"div",8)(24,"span",9),j(25,"Environment"),E()(),S(26,"input",10),ce("ngModelChange",function(a){return de(o.Environment,a)||(o.Environment=a),a}),E()(),S(27,"label",7)(28,"div",8)(29,"span",9),j(30,"Pronouns"),E()(),S(31,"input",10),ce("ngModelChange",function(a){return de(o.Pronouns,a)||(o.Pronouns=a),a}),E()(),S(32,"label",7)(33,"div",8)(34,"span",9),j(35,"Early Outlook"),E()(),S(36,"input",10),ce("ngModelChange",function(a){return de(o.EarlyOutlook,a)||(o.EarlyOutlook=a),a}),E()(),S(37,"label",7)(38,"div",8)(39,"span",9),j(40,"Traits"),E()(),S(41,"input",10),ce("ngModelChange",function(a){return de(o.Traits,a)||(o.Traits=a),a}),E()(),S(42,"label",7)(43,"div",8)(44,"span",9),j(45,"Education"),E()(),S(46,"input",10),ce("ngModelChange",function(a){return de(o.Education,a)||(o.Education=a),a}),E()(),S(47,"label",7)(48,"div",8)(49,"span",9),j(50,"Rank"),E()(),S(51,"input",10),ce("ngModelChange",function(a){return de(o.Rank,a)||(o.Rank=a),a}),E()(),S(52,"label",7)(53,"div",8)(54,"span",9),j(55,"Career Length"),E()(),S(56,"input",10),ce("ngModelChange",function(a){return de(o.CareerLength,a)||(o.CareerLength=a),a}),E()(),S(57,"label",7)(58,"div",8)(59,"span",9),j(60,"Assignment"),E()(),S(61,"input",10),ce("ngModelChange",function(a){return de(o.Assignment,a)||(o.Assignment=a),a}),E()(),S(62,"label",7)(63,"div",8)(64,"span",9),j(65,"Career Events"),E()(),S(66,"input",10),ce("ngModelChange",function(a){return de(o.CareerEvents,a)||(o.CareerEvents=a),a}),E()(),S(67,"label",11)(68,"div",12)(69,"span",9),j(70,"Attributes"),E()(),S(71,"div",0)(72,"div",13)(73,"button",14),j(74,"Control"),E(),S(75,"input",15),ce("ngModelChange",function(a){return de(o.AttControl,a)||(o.AttControl=a),a}),E()(),S(76,"div",13)(77,"button",14),j(78,"Daring"),E(),S(79,"input",15),ce("ngModelChange",function(a){return de(o.AttDaring,a)||(o.AttDaring=a),a}),E()(),S(80,"div",13)(81,"button",14),j(82,"Fitness"),E(),S(83,"input",15),ce("ngModelChange",function(a){return de(o.AttFitness,a)||(o.AttFitness=a),a}),E()(),S(84,"div",13)(85,"button",14),j(86,"Insight"),E(),S(87,"input",15),ce("ngModelChange",function(a){return de(o.AttInsight,a)||(o.AttInsight=a),a}),E()(),S(88,"div",13)(89,"button",14),j(90,"Presence"),E(),S(91,"input",15),ce("ngModelChange",function(a){return de(o.AttPresence,a)||(o.AttPresence=a),a}),E()(),S(92,"div",13)(93,"button",14),j(94,"Reason"),E(),S(95,"input",15),ce("ngModelChange",function(a){return de(o.AttReason,a)||(o.AttReason=a),a}),E()()()(),S(96,"label",11)(97,"div",12)(98,"span",9),j(99,"Disciplines"),E()(),S(100,"div",0)(101,"div",13)(102,"button",14),j(103,"Command"),E(),S(104,"input",15),ce("ngModelChange",function(a){return de(o.DisCommand,a)||(o.DisCommand=a),a}),E()(),S(105,"div",13)(106,"button",14),j(107,"Conn"),E(),S(108,"input",15),ce("ngModelChange",function(a){return de(o.DisConn,a)||(o.DisConn=a),a}),E()(),S(109,"div",13)(110,"button",14),j(111,"Security"),E(),S(112,"input",15),ce("ngModelChange",function(a){return de(o.DisSecurity,a)||(o.DisSecurity=a),a}),E()(),S(113,"div",13)(114,"button",14),j(115,"Engineering"),E(),S(116,"input",15),ce("ngModelChange",function(a){return de(o.DisEngineering,a)||(o.DisEngineering=a),a}),E()(),S(117,"div",13)(118,"button",14),j(119,"Science"),E(),S(120,"input",15),ce("ngModelChange",function(a){return de(o.DisScience,a)||(o.DisScience=a),a}),E()(),S(121,"div",13)(122,"button",14),j(123,"Medicine"),E(),S(124,"input",15),ce("ngModelChange",function(a){return de(o.DisMedical,a)||(o.DisMedical=a),a}),E()()()(),S(125,"label",7)(126,"div",8)(127,"span",9),j(128,"Focuses"),E()(),S(129,"textarea",16),ce("ngModelChange",function(a){return de(o.Focuses,a)||(o.Focuses=a),a}),E()(),S(130,"label",7)(131,"div",8)(132,"span",9),j(133,"Values"),E()(),S(134,"textarea",16),ce("ngModelChange",function(a){return de(o.Values,a)||(o.Values=a),a}),E()(),S(135,"label",11)(136,"div",12)(137,"span",9),j(138,"Campaign Notes"),E()(),S(139,"div",17),J(140,"ngx-editor-menu",18),S(141,"ngx-editor",19),ce("ngModelChange",function(a){return de(o.Notes,a)||(o.Notes=a),a}),E()()(),S(142,"div",20)(143,"button",21),Y("click",function(){return o.save()}),j(144,"Save"),E(),S(145,"button",22),Y("click",function(){return o.delete()}),j(146,"Delete"),E()()()),i&2&&(A(10),le("ngModel",o.IsInCrew),A(5),le("ngModel",o.IsInScene),A(6),le("ngModel",o.Name),A(5),le("ngModel",o.Environment),A(5),le("ngModel",o.Pronouns),A(5),le("ngModel",o.EarlyOutlook),A(5),le("ngModel",o.Traits),A(5),le("ngModel",o.Education),A(5),le("ngModel",o.Rank),A(5),le("ngModel",o.CareerLength),A(5),le("ngModel",o.Assignment),A(5),le("ngModel",o.CareerEvents),A(9),le("ngModel",o.AttControl),A(4),le("ngModel",o.AttDaring),A(4),le("ngModel",o.AttFitness),A(4),le("ngModel",o.AttInsight),A(4),le("ngModel",o.AttPresence),A(4),le("ngModel",o.AttReason),A(9),le("ngModel",o.DisCommand),A(4),le("ngModel",o.DisConn),A(4),le("ngModel",o.DisSecurity),A(4),le("ngModel",o.DisEngineering),A(4),le("ngModel",o.DisScience),A(4),le("ngModel",o.DisMedical),A(5),le("ngModel",o.Focuses),A(5),le("ngModel",o.Values),A(6),$("editor",o.editor),A(),le("ngModel",o.Notes),$("editor",o.editor))},dependencies:[Ao,Mo,To,vo,In,Es,ur,gi]});let t=e;return t})();function H8(t,e){if(t&1){let n=At();J(0,"div",2),S(1,"app-character",3),Y("characterUpdatedEvent",function(){ot(n);let i=X(4);return st(i.refreshCharacters())}),E(),J(2,"div",2)}if(t&2){let n=X(3).$implicit;A(),$("characterId",n.Id)}}function z8(t,e){if(t&1){let n=At();S(0,"button",1),Y("click",function(){ot(n);let i=X(2).$implicit,o=X();return st(o.focusCharacter(i.Id))}),j(1),E(),tt(2,H8,3,1)}if(t&2){let n=X(2).$implicit,r=X();A(),gv("",n.Rank," ",n.Name,""),A(),or(r.focusedCharacterId==n.Id?2:-1)}}function U8(t,e){if(t&1&&tt(0,z8,3,3),t&2){let n=X().$implicit,r=X();or((r.CrewCharList==!1||r.CrewCharList&&n.IsInCrew)&&(r.SceneCharList==!1||r.SceneCharList&&n.IsInScene)?0:-1)}}function $8(t,e){if(t&1&&tt(0,U8,1,1),t&2){let n=e.$implicit;or(n!=null?0:-1)}}var rA=(()=>{let e=class e{constructor(){this.characterService=V(Fl),this.campaignId=0,this.FocusedCharList=!1,this.CrewCharList=!1,this.SceneCharList=!1}ngOnInit(){this.characterService.refreshCharacters(),this.characterService.charSubject.subscribe(r=>{this.charList=r})}focusCharacter(r){this.focusedCharacterId===r?this.focusedCharacterId=void 0:this.focusedCharacterId=r}refreshCharacters(){this.characterService.refreshCharacters()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Fe({type:e,selectors:[["app-characterlist"]],inputs:{FocusedCharList:"FocusedCharList",CrewCharList:"CrewCharList",SceneCharList:"SceneCharList"},standalone:!0,features:[Qe],decls:3,vars:0,consts:[[1,"grid","grid-cols-1","gap-2"],["type","button",1,"btn","btn-primary","rounded-full","max-w-96",3,"click"],[1,"divider"],[3,"characterUpdatedEvent","characterId"]],template:function(i,o){i&1&&(S(0,"div",0),Xi(1,$8,1,1,null,null,Qi),E()),i&2&&(A(),eo(o.charList))},dependencies:[nA]});let t=e;return t})();var iA=(()=>{let e=class e{constructor(){this.characterService=V(Fl)}newCharacter(){this.characterService.newCharacter()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Fe({type:e,selectors:[["app-tab-characters"]],standalone:!0,features:[Qe],decls:13,vars:2,consts:[[1,"grid","grid-cols-1","gap-2"],[1,"btn","btn-warning","join-item","rounded-full","max-w-48",3,"click"],["role","charactertablist",1,"tabs","tabs-lifted"],["type","radio","name","CharacterTabs","role","tab","aria-label","All","checked","",1,"tab"],["role","tabpanel",1,"tab-content","bg-base-100","border-base-300","rounded-box","p-6"],["type","radio","name","CharacterTabs","role","tab","aria-label","Crew",1,"tab"],[3,"CrewCharList"],["type","radio","name","CharacterTabs","role","tab","aria-label","Scene",1,"tab"],[3,"SceneCharList"]],template:function(i,o){i&1&&(S(0,"div",0)(1,"button",1),Y("click",function(){return o.newCharacter()}),j(2,"New Character"),E(),S(3,"div",2),J(4,"input",3),S(5,"div",4),J(6,"app-characterlist"),E(),J(7,"input",5),S(8,"div",4),J(9,"app-characterlist",6),E(),J(10,"input",7),S(11,"div",4),J(12,"app-characterlist",8),E()()()),i&2&&(A(9),$("CrewCharList",!0),A(3),$("SceneCharList",!0))},dependencies:[rA]});let t=e;return t})();var zh=class{constructor(){this.MasterAssetList=[{Name:"Federation Deadalus Class",Class:"Deadalus Class",Scale:3,Traits:"United Earth/Federation Starship",SysComms:7,SysComputers:7,SysEngines:7,SysSensors:8,SysStructure:10,SysWeapons:10,DeptCommand:2,DeptConn:2,DeptSecurity:1,DeptEngineering:5,DeptScience:4,DeptMedical:2,Era:"ENT",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Intrepid Class (22nd Century)",Class:"Intrepid Class (22nd Century)",Scale:3,Traits:"United Earth Starship",SysComms:6,SysComputers:5,SysEngines:7,SysSensors:6,SysStructure:5,SysWeapons:5,DeptCommand:2,DeptConn:3,DeptSecurity:3,DeptEngineering:2,DeptScience:3,DeptMedical:1,Era:"ENT",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation NX Class",Class:"NX Class",Scale:3,Traits:`United Earth/Federation Starship
State of the Art`,SysComms:6,SysComputers:6,SysEngines:6,SysSensors:6,SysStructure:6,SysWeapons:6,DeptCommand:3,DeptConn:2,DeptSecurity:2,DeptEngineering:3,DeptScience:3,DeptMedical:2,Era:"ENT",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Warp Delta Class",Class:"Warp Delta Class",Scale:3,Traits:"United Earth Starship",SysComms:6,SysComputers:5,SysEngines:6,SysSensors:6,SysStructure:5,SysWeapons:7,DeptCommand:2,DeptConn:3,DeptSecurity:4,DeptEngineering:3,DeptScience:1,DeptMedical:2,Era:"ENT",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Antares Class",Class:"Antares Class",Scale:2,Traits:"Federation Starship",SysComms:8,SysComputers:8,SysEngines:7,SysSensors:8,SysStructure:7,SysWeapons:6,DeptCommand:1,DeptConn:3,DeptSecurity:1,DeptEngineering:4,DeptScience:3,DeptMedical:3,Era:"TOS",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Archer Class",Class:"Archer Class",Scale:3,Traits:"Federation Starship",SysComms:9,SysComputers:8,SysEngines:10,SysSensors:9,SysStructure:6,SysWeapons:6,DeptCommand:2,DeptConn:4,DeptSecurity:2,DeptEngineering:2,DeptScience:3,DeptMedical:1,Era:"TOS",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Cardenas Class",Class:"Cardenas Class",Scale:4,Traits:"Federation Starship",SysComms:7,SysComputers:6,SysEngines:9,SysSensors:8,SysStructure:6,SysWeapons:7,DeptCommand:2,DeptConn:3,DeptSecurity:3,DeptEngineering:2,DeptScience:3,DeptMedical:1,Era:"TOS",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Constitution Class",Class:"Constitution Class",Scale:4,Traits:"Federation Starship",SysComms:8,SysComputers:8,SysEngines:8,SysSensors:8,SysStructure:7,SysWeapons:7,DeptCommand:3,DeptConn:2,DeptSecurity:3,DeptEngineering:2,DeptScience:3,DeptMedical:2,Era:"TOS",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Crossfield Class",Class:"Crossfield Class",Scale:4,Traits:`Federation Starship
Experimental`,SysComms:7,SysComputers:8,SysEngines:8,SysSensors:8,SysStructure:8,SysWeapons:7,DeptCommand:1,DeptConn:2,DeptSecurity:2,DeptEngineering:4,DeptScience:4,DeptMedical:2,Era:"TOS",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Engle Class",Class:"Engle Class",Scale:3,Traits:"Federation Starship",SysComms:8,SysComputers:8,SysEngines:10,SysSensors:7,SysStructure:6,SysWeapons:6,DeptCommand:2,DeptConn:3,DeptSecurity:2,DeptEngineering:2,DeptScience:2,DeptMedical:4,Era:"TOS",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Hiawatha Class",Class:"Hiawatha Class",Scale:3,Traits:"Federation Starship",SysComms:8,SysComputers:8,SysEngines:6,SysSensors:9,SysStructure:8,SysWeapons:5,DeptCommand:2,DeptConn:2,DeptSecurity:2,DeptEngineering:1,DeptScience:3,DeptMedical:5,Era:"TOS",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Hoover Class",Class:"Hoover Class",Scale:4,Traits:"Federation Starship",SysComms:6,SysComputers:8,SysEngines:8,SysSensors:7,SysStructure:7,SysWeapons:8,DeptCommand:1,DeptConn:2,DeptSecurity:3,DeptEngineering:4,DeptScience:3,DeptMedical:2,Era:"TOS",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Magee Class",Class:"Magee Class",Scale:3,Traits:"Federation Starship",SysComms:7,SysComputers:9,SysEngines:7,SysSensors:10,SysStructure:6,SysWeapons:5,DeptCommand:2,DeptConn:2,DeptSecurity:1,DeptEngineering:4,DeptScience:5,DeptMedical:2,Era:"TOS",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Malachowski Class",Class:"Malachowski Class",Scale:3,Traits:"Federation Starship",SysComms:7,SysComputers:6,SysEngines:6,SysSensors:8,SysStructure:8,SysWeapons:10,DeptCommand:2,DeptConn:2,DeptSecurity:5,DeptEngineering:3,DeptScience:2,DeptMedical:1,Era:"TOS",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Miranda Class",Class:"Miranda Class",Scale:4,Traits:"Federation Starship",SysComms:7,SysComputers:8,SysEngines:8,SysSensors:9,SysStructure:8,SysWeapons:8,DeptCommand:3,DeptConn:3,DeptSecurity:2,DeptEngineering:2,DeptScience:3,DeptMedical:2,Era:"TOS",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Nimitz Class",Class:"Nimitz Class",Scale:4,Traits:"Federation Starship",SysComms:10,SysComputers:7,SysEngines:7,SysSensors:7,SysStructure:7,SysWeapons:7,DeptCommand:5,DeptConn:1,DeptSecurity:3,DeptEngineering:1,DeptScience:3,DeptMedical:1,Era:"TOS",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Oberth Class",Class:"Oberth Class",Scale:3,Traits:"Federation Starship",SysComms:8,SysComputers:9,SysEngines:8,SysSensors:9,SysStructure:7,SysWeapons:6,DeptCommand:1,DeptConn:3,DeptSecurity:2,DeptEngineering:3,DeptScience:4,DeptMedical:2,Era:"TOS",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Shepard Class",Class:"Shepard Class",Scale:3,Traits:"Federation Starship",SysComms:6,SysComputers:7,SysEngines:9,SysSensors:8,SysStructure:8,SysWeapons:7,DeptCommand:2,DeptConn:2,DeptSecurity:3,DeptEngineering:3,DeptScience:3,DeptMedical:2,Era:"TOS",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Soyouz Class",Class:"Soyouz Class",Scale:4,Traits:"Federation Starship",SysComms:8,SysComputers:10,SysEngines:9,SysSensors:10,SysStructure:10,SysWeapons:10,DeptCommand:2,DeptConn:2,DeptSecurity:4,DeptEngineering:2,DeptScience:3,DeptMedical:2,Era:"TOS",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Sydney Class",Class:"Sydney Class",Scale:4,Traits:"Federation Starship",SysComms:9,SysComputers:7,SysEngines:9,SysSensors:9,SysStructure:10,SysWeapons:7,DeptCommand:2,DeptConn:4,DeptSecurity:2,DeptEngineering:2,DeptScience:2,DeptMedical:3,Era:"TOS",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Walker Class",Class:"Walker Class",Scale:3,Traits:"Federation Starship",SysComms:7,SysComputers:8,SysEngines:7,SysSensors:10,SysStructure:7,SysWeapons:6,DeptCommand:2,DeptConn:2,DeptSecurity:2,DeptEngineering:3,DeptScience:3,DeptMedical:3,Era:"TOS",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Akira Class",Class:"Akira Class",Scale:5,Traits:"Federation Starship",SysComms:9,SysComputers:9,SysEngines:10,SysSensors:10,SysStructure:10,SysWeapons:11,DeptCommand:3,DeptConn:1,DeptSecurity:4,DeptEngineering:2,DeptScience:2,DeptMedical:3,Era:"TNG",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Ambassador Class",Class:"Ambassador Class",Scale:5,Traits:"Federation Starship",SysComms:9,SysComputers:10,SysEngines:9,SysSensors:11,SysStructure:10,SysWeapons:9,DeptCommand:3,DeptConn:3,DeptSecurity:2,DeptEngineering:2,DeptScience:3,DeptMedical:2,Era:"TNG",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Challenger Class",Class:"Challenger Class",Scale:4,Traits:"Federation Starship",SysComms:8,SysComputers:10,SysEngines:12,SysSensors:11,SysStructure:9,SysWeapons:8,DeptCommand:1,DeptConn:3,DeptSecurity:2,DeptEngineering:4,DeptScience:3,DeptMedical:2,Era:"TNG",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Cheyenne Class",Class:"Cheyenne Class",Scale:4,Traits:"Federation Starship",SysComms:10,SysComputers:10,SysEngines:10,SysSensors:9,SysStructure:9,SysWeapons:9,DeptCommand:1,DeptConn:4,DeptSecurity:2,DeptEngineering:4,DeptScience:2,DeptMedical:2,Era:"TNG",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Constellarion Class",Class:"Constellation Class",Scale:4,Traits:"Federation Starship",SysComms:10,SysComputers:9,SysEngines:11,SysSensors:11,SysStructure:9,SysWeapons:8,DeptCommand:2,DeptConn:4,DeptSecurity:3,DeptEngineering:2,DeptScience:2,DeptMedical:1,Era:"TNG",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Defiant Class",Class:"Defiant Class",Scale:3,Traits:"Federation Starship",SysComms:9,SysComputers:9,SysEngines:8,SysSensors:9,SysStructure:8,SysWeapons:13,DeptCommand:2,DeptConn:3,DeptSecurity:5,DeptEngineering:2,DeptScience:1,DeptMedical:2,Era:"TNG",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Excelsior Class",Class:"Excelsior Class",Scale:5,Traits:`Federation Starship
The Great Experiment`,SysComms:8,SysComputers:8,SysEngines:10,SysSensors:10,SysStructure:9,SysWeapons:8,DeptCommand:4,DeptConn:1,DeptSecurity:2,DeptEngineering:4,DeptScience:2,DeptMedical:2,Era:"TNG",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Freedom Class",Class:"Freedom Class",Scale:4,Traits:"Federation Starship",SysComms:10,SysComputers:9,SysEngines:11,SysSensors:11,SysStructure:8,SysWeapons:10,DeptCommand:3,DeptConn:2,DeptSecurity:3,DeptEngineering:2,DeptScience:3,DeptMedical:1,Era:"TNG",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Galaxy Class",Class:"Galaxy Class",Scale:6,Traits:"Federation Starship",SysComms:9,SysComputers:11,SysEngines:10,SysSensors:10,SysStructure:10,SysWeapons:10,DeptCommand:3,DeptConn:2,DeptSecurity:2,DeptEngineering:2,DeptScience:3,DeptMedical:3,Era:"TNG",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Intrepid Class",Class:"Intrepid Class",Scale:4,Traits:`Federation Starship
Top of the Line (2370)`,SysComms:9,SysComputers:11,SysEngines:11,SysSensors:10,SysStructure:8,SysWeapons:8,DeptCommand:2,DeptConn:4,DeptSecurity:2,DeptEngineering:2,DeptScience:4,DeptMedical:1,Era:"TNG",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Nebula Class",Class:"Nebula Class",Scale:5,Traits:"Federation Starship",SysComms:11,SysComputers:11,SysEngines:10,SysSensors:8,SysStructure:9,SysWeapons:9,DeptCommand:4,DeptConn:1,DeptSecurity:2,DeptEngineering:4,DeptScience:2,DeptMedical:2,Era:"TNG",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation New Orleans Class",Class:"New Orleans Class",Scale:4,Traits:"Federation Starship",SysComms:10,SysComputers:10,SysEngines:10,SysSensors:10,SysStructure:8,SysWeapons:9,DeptCommand:2,DeptConn:3,DeptSecurity:1,DeptEngineering:4,DeptScience:4,DeptMedical:2,Era:"TNG",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Niagara Class",Class:"Niagara Class",Scale:5,Traits:`Federation Starship
Cutting Edge (2358 - 2360)`,SysComms:9,SysComputers:9,SysEngines:11,SysSensors:10,SysStructure:9,SysWeapons:9,DeptCommand:2,DeptConn:3,DeptSecurity:2,DeptEngineering:2,DeptScience:4,DeptMedical:1,Era:"TNG",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Norway Class",Class:"Norway Class",Scale:4,Traits:"Federation Starship",SysComms:9,SysComputers:9,SysEngines:10,SysSensors:11,SysStructure:10,SysWeapons:9,DeptCommand:2,DeptConn:2,DeptSecurity:2,DeptEngineering:3,DeptScience:2,DeptMedical:4,Era:"TNG",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Nova Class",Class:"Nova Class",Scale:3,Traits:"Federation Starship",SysComms:10,SysComputers:10,SysEngines:10,SysSensors:10,SysStructure:8,SysWeapons:8,DeptCommand:2,DeptConn:2,DeptSecurity:2,DeptEngineering:2,DeptScience:4,DeptMedical:3,Era:"TNG",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Olympic Class",Class:"Olympic Class",Scale:4,Traits:`Federation Starship
Non-Combatant`,SysComms:10,SysComputers:11,SysEngines:10,SysSensors:11,SysStructure:9,SysWeapons:7,DeptCommand:2,DeptConn:2,DeptSecurity:2,DeptEngineering:1,DeptScience:3,DeptMedical:5,Era:"TNG",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Raven Class",Class:"Raven Class",Scale:2,Traits:"Federation Starship",SysComms:11,SysComputers:11,SysEngines:8,SysSensors:11,SysStructure:7,SysWeapons:5,DeptCommand:2,DeptConn:2,DeptSecurity:1,DeptEngineering:3,DeptScience:5,DeptMedical:3,Era:"TNG",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Saber Class",Class:"Saber Class",Scale:3,Traits:"Federation Starship",SysComms:10,SysComputers:9,SysEngines:11,SysSensors:10,SysStructure:9,SysWeapons:9,DeptCommand:2,DeptConn:4,DeptSecurity:4,DeptEngineering:2,DeptScience:1,DeptMedical:2,Era:"TNG",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Springfield Class",Class:"Springfield Class",Scale:4,Traits:"Federation Starship",SysComms:10,SysComputers:10,SysEngines:10,SysSensors:12,SysStructure:8,SysWeapons:8,DeptCommand:2,DeptConn:2,DeptSecurity:3,DeptEngineering:3,DeptScience:3,DeptMedical:2,Era:"TNG",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Steamrunner Class",Class:"Steamrunner Class",Scale:4,Traits:"Federation Starship",SysComms:9,SysComputers:9,SysEngines:11,SysSensors:10,SysStructure:9,SysWeapons:9,DeptCommand:1,DeptConn:3,DeptSecurity:3,DeptEngineering:3,DeptScience:3,DeptMedical:2,Era:"TNG",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Gagarin Class",Class:"Gagarin Class",Scale:5,Traits:"Federation Starship",SysComms:9,SysComputers:9,SysEngines:12,SysSensors:10,SysStructure:9,SysWeapons:12,DeptCommand:2,DeptConn:3,DeptSecurity:4,DeptEngineering:3,DeptScience:1,DeptMedical:2,Era:"PIC",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Luna Class",Class:"Luna Class",Scale:5,Traits:"Federation Starship",SysComms:10,SysComputers:10,SysEngines:10,SysSensors:12,SysStructure:8,SysWeapons:8,DeptCommand:2,DeptConn:2,DeptSecurity:2,DeptEngineering:3,DeptScience:4,DeptMedical:2,Era:"PIC",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Inquiry Class",Class:"Inquiry Class",Scale:5,Traits:"Federation Starship",SysComms:10,SysComputers:10,SysEngines:10,SysSensors:11,SysStructure:10,SysWeapons:9,DeptCommand:4,DeptConn:2,DeptSecurity:2,DeptEngineering:2,DeptScience:3,DeptMedical:2,Era:"PIC",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Odyssey Class",Class:"Odyssey Class",Scale:7,Traits:"Federation Starship",SysComms:11,SysComputers:11,SysEngines:10,SysSensors:10,SysStructure:11,SysWeapons:10,DeptCommand:3,DeptConn:2,DeptSecurity:4,DeptEngineering:3,DeptScience:2,DeptMedical:2,Era:"PIC",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Pathfinder Class",Class:"Pathfinder Class",Scale:4,Traits:"Federation Starship",SysComms:9,SysComputers:11,SysEngines:11,SysSensors:11,SysStructure:9,SysWeapons:9,DeptCommand:2,DeptConn:4,DeptSecurity:2,DeptEngineering:2,DeptScience:4,DeptMedical:1,Era:"PIC",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Prometheus Class",Class:"Promethus Class",Scale:4,Traits:`Federation Starship
Top of the Line (2375-2380)`,SysComms:9,SysComputers:9,SysEngines:10,SysSensors:9,SysStructure:10,SysWeapons:12,DeptCommand:3,DeptConn:1,DeptSecurity:4,DeptEngineering:3,DeptScience:2,DeptMedical:2,Era:"PIC",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Reliant Class",Class:"Reliant Class",Scale:4,Traits:"Federation Starship",SysComms:10,SysComputers:10,SysEngines:10,SysSensors:10,SysStructure:10,SysWeapons:10,DeptCommand:2,DeptConn:3,DeptSecurity:2,DeptEngineering:2,DeptScience:2,DeptMedical:4,Era:"PIC",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Ross Class",Class:"Ross Class",Scale:6,Traits:"Federation Starship",SysComms:10,SysComputers:10,SysEngines:11,SysSensors:10,SysStructure:10,SysWeapons:9,DeptCommand:2,DeptConn:2,DeptSecurity:2,DeptEngineering:3,DeptScience:3,DeptMedical:3,Era:"PIC",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Soverign Class",Class:"Soverign Class",Scale:6,Traits:"Federation Starship",SysComms:10,SysComputers:9,SysEngines:10,SysSensors:10,SysStructure:9,SysWeapons:10,DeptCommand:4,DeptConn:1,DeptSecurity:3,DeptEngineering:2,DeptScience:3,DeptMedical:2,Era:"PIC",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Sutherland Class",Class:"Sutherland Class",Scale:5,Traits:"Federation Starship",SysComms:11,SysComputers:11,SysEngines:10,SysSensors:14,SysStructure:10,SysWeapons:10,DeptCommand:2,DeptConn:2,DeptSecurity:2,DeptEngineering:4,DeptScience:3,DeptMedical:2,Era:"PIC",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Vesta Class",Class:"Vesta Class",Scale:6,Traits:`Federation Starship
State of the Art (2380s)`,SysComms:10,SysComputers:12,SysEngines:12,SysSensors:10,SysStructure:9,SysWeapons:9,DeptCommand:2,DeptConn:3,DeptSecurity:2,DeptEngineering:3,DeptScience:3,DeptMedical:2,Era:"PIC",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Angelou Class",Class:"Angelou Class",Scale:5,Traits:`Federation Starship
IMT-C`,SysComms:7,SysComputers:6,SysEngines:6,SysSensors:7,SysStructure:8,SysWeapons:6,DeptCommand:2,DeptConn:2,DeptSecurity:2,DeptEngineering:3,DeptScience:3,DeptMedical:3,Era:"32c",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Eisenberg Class",Class:"Eisenberg Class",Scale:4,Traits:`Federation Starship
IMT-C`,SysComms:7,SysComputers:7,SysEngines:7,SysSensors:6,SysStructure:6,SysWeapons:6,DeptCommand:4,DeptConn:2,DeptSecurity:2,DeptEngineering:3,DeptScience:2,DeptMedical:2,Era:"32c",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Friendship Class",Class:"Friendship Class",Scale:4,Traits:`Federation Starship
IMT-C`,SysComms:6,SysComputers:6,SysEngines:7,SysSensors:7,SysStructure:6,SysWeapons:6,DeptCommand:2,DeptConn:3,DeptSecurity:2,DeptEngineering:3,DeptScience:3,DeptMedical:2,Era:"32c",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Janeway Class",Class:"Janeway Class",Scale:4,Traits:`Federation Starship
IMT-C`,SysComms:7,SysComputers:6,SysEngines:7,SysSensors:8,SysStructure:6,SysWeapons:5,DeptCommand:2,DeptConn:2,DeptSecurity:2,DeptEngineering:3,DeptScience:4,DeptMedical:2,Era:"32c",Faction:"Federation",Notes:"Stats from Captain's Log Book"},{Name:"Federation Kirk Class",Class:"Kirk Class",Scale:4,Traits:`Federation Starship
IMT-C`,SysComms:6,SysComputers:6,SysEngines:7,SysSensors:6,SysStructure:6,SysWeapons:8,DeptCommand:3,DeptConn:2,DeptSecurity:3,DeptEngineering:3,DeptScience:2,DeptMedical:2,Era:"32c",Faction:"Federation",Notes:"Stats from Captain's Log Book"}]}};var Ll=(()=>{let e=class e extends zh{constructor(){super(),this.database=V($r),this.campaignId=0,this.assetSubject=new at}newAsset(){this.database.putAsset({CampaignId:this.campaignId,Name:"New Asset",SysComms:1,SysComputers:1,SysEngines:1,SysSensors:1,SysStructure:1,SysWeapons:1,DeptCommand:1,DeptConn:1,DeptSecurity:1,DeptEngineering:1,DeptScience:1,DeptMedical:1,IsInFleet:!1,IsInScene:!1}),this.refreshAssets()}refreshAssets(){this.database.getAssets(this.campaignId).then(r=>{this.assetSubject.next(r)})}getAsset(r){return this.database.getAsset(r)}putAsset(r){this.database.putAsset(r),this.refreshAssets()}deleteAsset(r){this.database.deleteAsset(r),this.refreshAssets()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var oA=(()=>{let e=class e{constructor(){this.assetService=V(Ll),this.assetId=0,this.assetUpdatedEvent=new We,this.CampaignId=0,this.Name="",this.SysComms=1,this.SysComputers=1,this.SysEngines=1,this.SysSensors=1,this.SysStructure=1,this.SysWeapons=1,this.DeptCommand=1,this.DeptConn=1,this.DeptSecurity=1,this.DeptEngineering=1,this.DeptScience=1,this.DeptMedical=1,this.IsInFleet=!1,this.IsInScene=!1,this.editor=new Un}ngOnInit(){this.assetId!=null&&this.assetService.getAsset(this.assetId).then(r=>{r!=null&&(this.CampaignId=r.CampaignId,this.Id=r.Id,this.Name=r.Name,this.Class=r.Class,this.Registry=r.Registry,this.Scale=r.Scale,this.Traits=r.Traits,this.Talents=r.Talents,this.SysComms=r.SysComms,this.SysComputers=r.SysComputers,this.SysEngines=r.SysEngines,this.SysSensors=r.SysSensors,this.SysStructure=r.SysStructure,this.SysWeapons=r.SysWeapons,this.DeptCommand=r.DeptCommand,this.DeptConn=r.DeptConn,this.DeptSecurity=r.DeptSecurity,this.DeptEngineering=r.DeptEngineering,this.DeptScience=r.DeptScience,this.DeptMedical=r.DeptMedical,this.Notes=r.Notes,this.IsInFleet=r.IsInFleet,this.IsInScene=r.IsInScene)}),this.editor=new Un}ngOnDestroy(){this.editor.destroy()}save(){this.assetService.putAsset({CampaignId:this.CampaignId,Id:this.assetId,Name:this.Name,Class:this.Class,Registry:this.Registry,Scale:this.Scale,Traits:this.Traits,Talents:this.Talents,SysComms:this.SysComms,SysComputers:this.SysComputers,SysEngines:this.SysEngines,SysSensors:this.SysSensors,SysStructure:this.SysStructure,SysWeapons:this.SysWeapons,DeptCommand:this.DeptCommand,DeptConn:this.DeptConn,DeptSecurity:this.DeptSecurity,DeptEngineering:this.DeptEngineering,DeptScience:this.DeptScience,DeptMedical:this.DeptMedical,Notes:this.Notes,IsInFleet:this.IsInFleet,IsInScene:this.IsInScene})}delete(){this.assetId!=null&&this.assetService.deleteAsset(this.assetId)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Fe({type:e,selectors:[["app-asset"]],inputs:{assetId:"assetId"},outputs:{assetUpdatedEvent:"assetUpdatedEvent"},standalone:!0,features:[Qe],decls:117,vars:23,consts:[[1,"grid","grid-cols-3","gap-2"],[1,"form-control"],[1,"label","cursor-pointer","h-full"],[1,"label-text","text-right","w-full","mr-5"],["type","checkbox","disabled","true",1,"checkbox"],["type","checkbox",1,"checkbox",3,"ngModelChange","ngModel"],[1,"grid","grid-cols-2","gap-2"],[1,"form-control","w-full","max-w-xs"],[1,"label"],[1,"label-text"],["type","text",1,"input","input-bordered","w-full","max-w-xs",3,"ngModelChange","ngModel"],[1,"textarea","textarea-bordered","w-full","max-w-xs",3,"ngModelChange","ngModel"],[1,"col-span-2"],[1,"label","w-full"],[1,"join"],[1,"btn","btn-primary","join-item","rounded-l-full","w-1/2"],[1,"input","input-bordered","join-item","rounded-r-full","w-1/2",3,"ngModelChange","ngModel"],[1,"NgxEditor__Wrapper","w-full"],[3,"editor"],[3,"ngModelChange","ngModel","editor"],[1,"flex"],[1,"btn","btn-warning","join-item","rounded-full","flex-initial","w-48","mx-2",3,"click"],[1,"btn","btn-error","join-item","rounded-full","flex-initial","w-48","mx-2",3,"click"]],template:function(i,o){i&1&&(S(0,"div",0)(1,"div",1)(2,"label",2)(3,"span",3),j(4,"Focused Asset"),E(),J(5,"input",4),E()(),S(6,"div",1)(7,"label",2)(8,"span",3),j(9,"Is in Fleet"),E(),S(10,"input",5),ce("ngModelChange",function(a){return de(o.IsInFleet,a)||(o.IsInFleet=a),a}),E()()(),S(11,"div",1)(12,"label",2)(13,"span",3),j(14,"Is in Scene"),E(),S(15,"input",5),ce("ngModelChange",function(a){return de(o.IsInScene,a)||(o.IsInScene=a),a}),E()()()(),S(16,"div",6)(17,"label",7)(18,"div",8)(19,"span",9),j(20,"Name"),E()(),S(21,"input",10),ce("ngModelChange",function(a){return de(o.Name,a)||(o.Name=a),a}),E()(),S(22,"label",7)(23,"div",8)(24,"span",9),j(25,"Class"),E()(),S(26,"input",10),ce("ngModelChange",function(a){return de(o.Class,a)||(o.Class=a),a}),E()(),S(27,"label",7)(28,"div",8)(29,"span",9),j(30,"Registry"),E()(),S(31,"input",10),ce("ngModelChange",function(a){return de(o.Registry,a)||(o.Registry=a),a}),E()(),S(32,"label",7)(33,"div",8)(34,"span",9),j(35,"Scale"),E()(),S(36,"input",10),ce("ngModelChange",function(a){return de(o.Scale,a)||(o.Scale=a),a}),E()(),S(37,"label",7)(38,"div",8)(39,"span",9),j(40,"Traits"),E()(),S(41,"textarea",11),ce("ngModelChange",function(a){return de(o.Traits,a)||(o.Traits=a),a}),E()(),S(42,"label",7)(43,"div",8)(44,"span",9),j(45,"Talents"),E()(),S(46,"textarea",11),ce("ngModelChange",function(a){return de(o.Talents,a)||(o.Talents=a),a}),E()(),S(47,"label",12)(48,"div",13)(49,"span",9),j(50,"Systems"),E()(),S(51,"div",0)(52,"div",14)(53,"button",15),j(54,"Comms"),E(),S(55,"input",16),ce("ngModelChange",function(a){return de(o.SysComms,a)||(o.SysComms=a),a}),E()(),S(56,"div",14)(57,"button",15),j(58,"Computers"),E(),S(59,"input",16),ce("ngModelChange",function(a){return de(o.SysComputers,a)||(o.SysComputers=a),a}),E()(),S(60,"div",14)(61,"button",15),j(62,"Engines"),E(),S(63,"input",16),ce("ngModelChange",function(a){return de(o.SysEngines,a)||(o.SysEngines=a),a}),E()(),S(64,"div",14)(65,"button",15),j(66,"Sensors"),E(),S(67,"input",16),ce("ngModelChange",function(a){return de(o.SysSensors,a)||(o.SysSensors=a),a}),E()(),S(68,"div",14)(69,"button",15),j(70,"Structure"),E(),S(71,"input",16),ce("ngModelChange",function(a){return de(o.SysStructure,a)||(o.SysStructure=a),a}),E()(),S(72,"div",14)(73,"button",15),j(74,"Weapons"),E(),S(75,"input",16),ce("ngModelChange",function(a){return de(o.SysWeapons,a)||(o.SysWeapons=a),a}),E()()()(),S(76,"label",12)(77,"div",13)(78,"span",9),j(79,"Departments"),E()(),S(80,"div",0)(81,"div",14)(82,"button",15),j(83,"Command"),E(),S(84,"input",16),ce("ngModelChange",function(a){return de(o.DeptCommand,a)||(o.DeptCommand=a),a}),E()(),S(85,"div",14)(86,"button",15),j(87,"Conn"),E(),S(88,"input",16),ce("ngModelChange",function(a){return de(o.DeptConn,a)||(o.DeptConn=a),a}),E()(),S(89,"div",14)(90,"button",15),j(91,"Security"),E(),S(92,"input",16),ce("ngModelChange",function(a){return de(o.DeptSecurity,a)||(o.DeptSecurity=a),a}),E()(),S(93,"div",14)(94,"button",15),j(95,"Engineering"),E(),S(96,"input",16),ce("ngModelChange",function(a){return de(o.DeptEngineering,a)||(o.DeptEngineering=a),a}),E()(),S(97,"div",14)(98,"button",15),j(99,"Science"),E(),S(100,"input",16),ce("ngModelChange",function(a){return de(o.DeptScience,a)||(o.DeptScience=a),a}),E()(),S(101,"div",14)(102,"button",15),j(103,"Medicine"),E(),S(104,"input",16),ce("ngModelChange",function(a){return de(o.DeptMedical,a)||(o.DeptMedical=a),a}),E()()()(),S(105,"label",12)(106,"div",13)(107,"span",9),j(108,"Notes"),E()(),S(109,"div",17),J(110,"ngx-editor-menu",18),S(111,"ngx-editor",19),ce("ngModelChange",function(a){return de(o.Notes,a)||(o.Notes=a),a}),E()()(),S(112,"div",20)(113,"button",21),Y("click",function(){return o.save()}),j(114,"Save"),E(),S(115,"button",22),Y("click",function(){return o.delete()}),j(116,"Delete"),E()()()),i&2&&(A(10),le("ngModel",o.IsInFleet),A(5),le("ngModel",o.IsInScene),A(6),le("ngModel",o.Name),A(5),le("ngModel",o.Class),A(5),le("ngModel",o.Registry),A(5),le("ngModel",o.Scale),A(5),le("ngModel",o.Traits),A(5),le("ngModel",o.Talents),A(9),le("ngModel",o.SysComms),A(4),le("ngModel",o.SysComputers),A(4),le("ngModel",o.SysEngines),A(4),le("ngModel",o.SysSensors),A(4),le("ngModel",o.SysStructure),A(4),le("ngModel",o.SysWeapons),A(9),le("ngModel",o.DeptCommand),A(4),le("ngModel",o.DeptConn),A(4),le("ngModel",o.DeptSecurity),A(4),le("ngModel",o.DeptEngineering),A(4),le("ngModel",o.DeptScience),A(4),le("ngModel",o.DeptMedical),A(6),$("editor",o.editor),A(),le("ngModel",o.Notes),$("editor",o.editor))},dependencies:[Ao,Mo,To,vo,In,Es,ur,gi]});let t=e;return t})();function W8(t,e){if(t&1){let n=At();J(0,"div",2),S(1,"app-asset",3),Y("assetUpdatedEvent",function(){ot(n);let i=X(4);return st(i.refreshAssets())}),E(),J(2,"div",2)}if(t&2){let n=X(3).$implicit;A(),$("assetId",n.Id)}}function G8(t,e){if(t&1){let n=At();S(0,"button",1),Y("click",function(){ot(n);let i=X(2).$implicit,o=X();return st(o.focusAsset(i.Id))}),j(1),E(),tt(2,W8,3,1)}if(t&2){let n=X(2).$implicit,r=X();A(),bt(n.Name),A(),or(r.focusedAssetId==n.Id?2:-1)}}function q8(t,e){if(t&1&&tt(0,G8,3,2),t&2){let n=X().$implicit,r=X();or((r.FleetAssetList==!1||r.FleetAssetList&&n.IsInFleet)&&(r.SceneAssetList==!1||r.SceneAssetList&&n.IsInScene)?0:-1)}}function K8(t,e){if(t&1&&tt(0,q8,1,1),t&2){let n=e.$implicit;or(n!=null?0:-1)}}var sA=(()=>{let e=class e{constructor(){this.assetService=V(Ll),this.campaignId=0,this.FocusedCharList=!1,this.FleetAssetList=!1,this.SceneAssetList=!1}ngOnInit(){this.assetService.refreshAssets(),this.assetService.assetSubject.subscribe(r=>{this.assetList=r})}focusAsset(r){this.focusedAssetId===r?this.focusedAssetId=void 0:this.focusedAssetId=r}refreshAssets(){this.assetService.refreshAssets()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Fe({type:e,selectors:[["app-assetlist"]],inputs:{FocusedCharList:"FocusedCharList",FleetAssetList:"FleetAssetList",SceneAssetList:"SceneAssetList"},standalone:!0,features:[Qe],decls:3,vars:0,consts:[[1,"grid","grid-cols-1","gap-2"],["type","button",1,"btn","btn-primary","rounded-full","max-w-96",3,"click"],[1,"divider"],[3,"assetUpdatedEvent","assetId"]],template:function(i,o){i&1&&(S(0,"div",0),Xi(1,K8,1,1,null,null,Qi),E()),i&2&&(A(),eo(o.assetList))},dependencies:[oA]});let t=e;return t})();function Z8(t,e){if(t&1){let n=At();S(0,"li")(1,"a",13),Y("click",function(){let i=ot(n).$implicit,o=X();return st(o.newPresetAsset(i))}),j(2),E()()}if(t&2){let n=e.$implicit;A(2),bt(n.Name)}}var aA=(()=>{let e=class e{constructor(){this.assetService=V(Ll)}newAsset(){this.assetService.newAsset()}newPresetAsset(r){r.Id=void 0,r.CampaignId=this.assetService.campaignId,this.assetService.putAsset(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Fe({type:e,selectors:[["app-tab-assets"]],standalone:!0,features:[Qe],decls:20,vars:2,consts:[[1,"grid","grid-cols-1","gap-2"],[1,"flex"],[1,"btn","btn-warning","join-item","rounded-full","w-48","mr-4",3,"click"],[1,"dropdown"],["tabindex","0","role","button",1,"btn","btn-primary","w-48"],["tabindex","0","name","AssetPresetList",1,"dropdown-content","menu","bg-base-100","rounded-box","z-[1]","h-96","w-80","p-2","shadow",2,"overflow-y","auto","overflow-x","clip","flex-direction","row","flex","content"],["role","assettablist",1,"tabs","tabs-lifted"],["type","radio","name","AssetTabs","role","tab","aria-label","All","checked","",1,"tab"],["role","tabpanel",1,"tab-content","bg-base-100","border-base-300","rounded-box","p-6"],["type","radio","name","AssetTabs","role","tab","aria-label","Fleet",1,"tab"],[3,"FleetAssetList"],["type","radio","name","AssetTabs","role","tab","aria-label","Scene",1,"tab"],[3,"SceneAssetList"],[3,"click"]],template:function(i,o){i&1&&(S(0,"div",0)(1,"div",1)(2,"button",2),Y("click",function(){return o.newAsset()}),j(3,"New Asset"),E(),S(4,"div",3)(5,"div",4),j(6,"Add Preset"),E(),S(7,"ul",5),Xi(8,Z8,3,1,"li",null,Qi),E()()(),S(10,"div",6),J(11,"input",7),S(12,"div",8),J(13,"app-assetlist"),E(),J(14,"input",9),S(15,"div",8),J(16,"app-assetlist",10),E(),J(17,"input",11),S(18,"div",8),J(19,"app-assetlist",12),E()()()),i&2&&(A(8),eo(o.assetService.MasterAssetList),A(8),$("FleetAssetList",!0),A(3),$("SceneAssetList",!0))},dependencies:[sA]});let t=e;return t})();var lA=(()=>{let e=class e{constructor(){this.database=V($r),this.campaignId=0,this.logId=0,this.logUpdatedEvent=new We,this.title="",this.editor=new Un,this.entry=""}ngOnInit(){this.logId!=null&&this.database.getLog(this.logId).then(r=>{r!=null&&(this.title=r.Title,this.entry=r.Entry)})}ngOnDestroy(){this.editor.destroy()}save(){this.database.putLog({Id:this.logId,CampaignId:this.campaignId,Title:this.title,Entry:this.entry}),this.logUpdatedEvent.emit()}delete(){this.logId!=null&&(this.database.deleteLog(this.logId),this.logUpdatedEvent.emit())}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Fe({type:e,selectors:[["app-log"]],inputs:{logId:"logId"},outputs:{logUpdatedEvent:"logUpdatedEvent"},standalone:!0,features:[Qe],decls:18,vars:4,consts:[[1,"grid","grid-cols-1","gap-2"],[1,"form-control","w-full","max-w-xs"],[1,"label"],[1,"label-text"],["type","text","placeholder","Log Title",1,"input","input-bordered","w-full","max-w-xs",3,"ngModelChange","ngModel"],[1,"label","w-full"],[1,"NgxEditor__Wrapper","w-full"],[3,"editor"],[3,"ngModelChange","ngModel","editor"],[1,"flex"],[1,"btn","btn-warning","join-item","rounded-full","flex-initial","w-48","mx-2",3,"click"],[1,"btn","btn-error","join-item","rounded-full","flex-initial","w-48","mx-2",3,"click"]],template:function(i,o){i&1&&(S(0,"div",0)(1,"label",1)(2,"div",2)(3,"span",3),j(4,"Log Title"),E()(),S(5,"input",4),ce("ngModelChange",function(a){return de(o.title,a)||(o.title=a),a}),E()(),S(6,"label")(7,"div",5)(8,"span",3),j(9,"Log Entry"),E()(),S(10,"div",6),J(11,"ngx-editor-menu",7),S(12,"ngx-editor",8),ce("ngModelChange",function(a){return de(o.entry,a)||(o.entry=a),a}),E()()(),S(13,"div",9)(14,"button",10),Y("click",function(){return o.save()}),j(15,"Save"),E(),S(16,"button",11),Y("click",function(){return o.delete()}),j(17,"Delete"),E()()()),i&2&&(A(5),le("ngModel",o.title),A(6),$("editor",o.editor),A(),le("ngModel",o.entry),$("editor",o.editor))},dependencies:[Ao,Mo,To,vo,In,ur,gi]});let t=e;return t})();function Y8(t,e){if(t&1){let n=At();J(0,"div",3),S(1,"app-log",4),Y("logUpdatedEvent",function(){ot(n);let i=X(3);return st(i.refreshLogs())}),E(),J(2,"div",3)}if(t&2){let n=X(2).$implicit;A(),$("logId",n.Id)}}function J8(t,e){if(t&1){let n=At();S(0,"button",2),Y("click",function(){ot(n);let i=X().$implicit,o=X();return st(o.focusLog(i.Id))}),j(1),E(),tt(2,Y8,3,1)}if(t&2){let n=X().$implicit,r=X();A(),bt(n.Title),A(),or(r.focusedLogId==n.Id?2:-1)}}function Q8(t,e){if(t&1&&tt(0,J8,3,2),t&2){let n=e.$implicit;or(n!=null?0:-1)}}var cA=(()=>{let e=class e{constructor(){this.database=V($r),this.campaignId=0}ngOnInit(){this.refreshLogs()}ngOnDestroy(){this.logs=void 0}newEntry(){this.database.putLog({CampaignId:this.campaignId,Title:"New Entry",Entry:""}),this.database.getLogs(this.campaignId).then(r=>{this.logs=r})}focusLog(r){this.focusedLogId===r?this.focusedLogId=void 0:this.focusedLogId=r}refreshLogs(){this.database.getLogs(this.campaignId).then(r=>{this.logs=r})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Fe({type:e,selectors:[["app-tab-log"]],standalone:!0,features:[Qe],decls:5,vars:0,consts:[[1,"grid","grid-cols-1","gap-2"],[1,"btn","btn-warning","join-item","rounded-full","max-w-48",3,"click"],["type","button",1,"btn","btn-primary","rounded-full","max-w-96",3,"click"],[1,"divider"],[3,"logUpdatedEvent","logId"]],template:function(i,o){i&1&&(S(0,"div",0)(1,"button",1),Y("click",function(){return o.newEntry()}),j(2,"New Entry"),E(),Xi(3,Q8,1,1,null,null,Qi),E()),i&2&&(A(3),eo(o.logs))},dependencies:[lA]});let t=e;return t})();var uA=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Fe({type:e,selectors:[["app-nav-bar"]],standalone:!0,features:[Qe],decls:27,vars:0,consts:[[1,"navbar","bg-base-100"],[1,"flex-none"],["type","button","data-drawer-target","drawer-menu","data-drawer-show","drawer-menu","aria-controls","drawer-menu",1,"btn","btn-square","btn-ghost"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"inline-block","w-5","h-5","stroke-current"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h16M4 18h16"],[1,"flex-1"],["width","50px","height","50px","viewBox","0 0 512 512","xmlns","http://www.w3.org/2000/svg"],["fill","#000000","d","M356.4 20.98c-17 0-35 1.86-53.4 6.03-.7.15-1.3.31-2 .46l-4.8 34.26c5.6 2.01 9.9 5.46 11.7 10.79C314.2 91 286 108.1 267.8 115.2c-15.5 6.2-42.9 11.9-49.7-3.3-3.1-7-1.3-14.43 3.3-21.43l-27.3-18.25c-10 6.59-19.5 13.68-28.7 21.24l12.4 28.84c8.9-2.3 17.6-1.3 24.4 5.5 15.9 15.9 0 42.5-16 58.4-15.9 15.9-42.4 31.8-58.3 15.9-6.8-6.7-7.8-15.4-5.5-24.4l-28.94-12.3c-7.55 9.2-14.63 18.7-21.21 28.6l18.2 27.3c6.99-4.5 14.45-6.4 21.45-3.3 15.2 6.8 9.5 34.3 3.4 49.8-7.2 18.1-24.3 46.4-42.78 40.1-5.34-1.8-8.79-6.2-10.8-11.8L27.47 301c-.15.7-.31 1.3-.46 2C4.828 401.4 49.04 485.1 77.6 491c-29.95-38.3-31.11-115.3-22.59-138.8C63.24 329.6 85.13 330 90.5 340c18.9 35.3 31 53.2 52.6 53.4-57.71-63.9 16.6-148.8 59.1-191.2 42.4-42.5 127.3-116.81 191.2-59.1-.2-21.6-18.1-33.8-53.4-52.63-10-5.38-10.4-27.27 12.2-35.49 23.5-8.53 100.5-7.37 138.8 22.59-4.8-23.21-60.9-56.75-134.6-56.59zM282.2 32.3c-27.2 7.69-50.4 17.61-71.3 29.54l22.9 15.25c6.8-5.64 14.6-10.23 21.4-12.93 6.4-2.52 14.9-4.35 23.2-4.68zm-131.1 73.5c-7.9 7-15.5 14.3-23.2 22-7.7 7.7-15.1 15.4-22.1 23.2l23.9 10.3c4.1-6.5 9.1-12.6 14.1-17.6 5-5 11.1-10 17.5-14zM61.86 210.9C49.93 231.8 40.01 255 32.3 282.2l27.18-3.9c.33-8.3 2.16-16.7 4.68-23.1 2.69-6.8 7.28-14.6 12.91-21.4z"],[1,"btn","btn-ghost","text-xl"],[1,"flex-none","top-0","right-0"],["type","button","data-drawer-placement","right","data-drawer-target","drawer-oracles","data-drawer-show","drawer-oracles","aria-controls","drawer-oracles",1,"btn","btn-square","btn-ghost"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"],["role","tablist",1,"tabs","tabs-lifted"],["type","radio","name","NavTabs","role","tab","aria-label","Campaign","checked","",1,"tab"],["role","tabpanel",1,"tab-content","bg-base-100","border-base-300","rounded-box","p-6"],["type","radio","name","NavTabs","role","tab","aria-label","Log",1,"tab"],["type","radio","name","NavTabs","role","tab","aria-label","Characters",1,"tab"],["type","radio","name","NavTabs","role","tab","aria-label","Assets",1,"tab"]],template:function(i,o){i&1&&(S(0,"div",0)(1,"div",1)(2,"button",2),Tr(),S(3,"svg",3),J(4,"path",4),E()()(),Ar(),S(5,"div",5),Tr(),S(6,"svg",6),J(7,"path",7),E(),Ar(),S(8,"a",8),j(9,"Sta'Cla!"),E()(),S(10,"div",9)(11,"button",10),Tr(),S(12,"svg",3),J(13,"path",11),E()()()(),Ar(),S(14,"div",12),J(15,"input",13),S(16,"div",14),J(17,"app-tab-campaign"),E(),J(18,"input",15),S(19,"div",14),J(20,"app-tab-log"),E(),J(21,"input",16),S(22,"div",14),J(23,"app-tab-characters"),E(),J(24,"input",17),S(25,"div",14),J(26,"app-tab-assets"),E()())},dependencies:[tA,cA,iA,aA]});let t=e;return t})();var dA=(()=>{let e=class e{constructor(){this.title="Stacla"}ngOnInit(){Lp()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Fe({type:e,selectors:[["app-root"]],standalone:!0,features:[Qe],decls:3,vars:0,template:function(i,o){i&1&&J(0,"app-menu")(1,"app-oracles")(2,"app-nav-bar")},dependencies:[uA,Tx,$1]});let t=e;return t})();AE(dA,g1).catch(t=>console.error(t));
